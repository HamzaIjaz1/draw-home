// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: bug_concave 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 8.1,
        "y": 8.24,
      },
      "original": {
        "x": 8,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 12,
        "y": 12.14,
      },
      "original": {
        "x": 12,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 16.18,
        "y": 7.97,
      },
      "original": {
        "x": 16,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 1.85,
      },
      "original": {
        "x": 2,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 14.1,
      },
      "original": {
        "x": 2,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 14.1,
      },
      "original": {
        "x": 8,
        "y": 14,
      },
    },
  ],
  "polygon": [
    [
      8.1,
      8.24,
    ],
    [
      12,
      12.14,
    ],
    [
      16.18,
      7.97,
    ],
    [
      1.9,
      1.85,
    ],
    [
      1.9,
      14.1,
    ],
    [
      8.1,
      14.1,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_1 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 16.1,
        "y": 5.1,
      },
      "original": {
        "x": 16,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 18.1,
        "y": 5.1,
      },
      "original": {
        "x": 18,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 18.1,
        "y": 0.9,
      },
      "original": {
        "x": 18,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 6.1,
      },
      "original": {
        "x": 1,
        "y": 6,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 6.1,
      },
      "original": {
        "x": 4,
        "y": 6,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 14.1,
      },
      "original": {
        "x": 4,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 14.1,
      },
      "original": {
        "x": 8,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 11.1,
      },
      "original": {
        "x": 8,
        "y": 11,
      },
    },
    {
      "offset": {
        "x": 12.9,
        "y": 11.1,
      },
      "original": {
        "x": 13,
        "y": 11,
      },
    },
    {
      "offset": {
        "x": 12.9,
        "y": 18.1,
      },
      "original": {
        "x": 13,
        "y": 18,
      },
    },
    {
      "offset": {
        "x": 18.1,
        "y": 18.1,
      },
      "original": {
        "x": 18,
        "y": 18,
      },
    },
    {
      "offset": {
        "x": 18.1,
        "y": 7.9,
      },
      "original": {
        "x": 18,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 16.1,
        "y": 7.9,
      },
      "original": {
        "x": 16,
        "y": 8,
      },
    },
  ],
  "polygon": [
    [
      16.1,
      5.1,
    ],
    [
      18.1,
      5.1,
    ],
    [
      18.1,
      0.9,
    ],
    [
      0.9,
      0.9,
    ],
    [
      0.9,
      6.1,
    ],
    [
      3.9,
      6.1,
    ],
    [
      3.9,
      14.1,
    ],
    [
      8.1,
      14.1,
    ],
    [
      8.1,
      11.1,
    ],
    [
      12.9,
      11.1,
    ],
    [
      12.9,
      18.1,
    ],
    [
      18.1,
      18.1,
    ],
    [
      18.1,
      7.9,
    ],
    [
      16.1,
      7.9,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 3.97,
        "y": 7.9,
      },
      "original": {
        "x": 4,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 7.9,
      },
      "original": {
        "x": 1,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 16.1,
      },
      "original": {
        "x": 1,
        "y": 16,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 16.1,
      },
      "original": {
        "x": 7,
        "y": 16,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 12.1,
      },
      "original": {
        "x": 7,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 11.1,
        "y": 12.1,
      },
      "original": {
        "x": 11,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 11.1,
        "y": 5.1,
      },
      "original": {
        "x": 11,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 14.1,
        "y": 5.1,
      },
      "original": {
        "x": 14,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 14.1,
        "y": 0.81,
      },
      "original": {
        "x": 14,
        "y": 1,
      },
    },
  ],
  "polygon": [
    [
      3.97,
      7.9,
    ],
    [
      0.9,
      7.9,
    ],
    [
      0.9,
      16.1,
    ],
    [
      7.1,
      16.1,
    ],
    [
      7.1,
      12.1,
    ],
    [
      11.1,
      12.1,
    ],
    [
      11.1,
      5.1,
    ],
    [
      14.1,
      5.1,
    ],
    [
      14.1,
      0.81,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_3 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 3.9,
        "y": 3.9,
      },
      "original": {
        "x": 4,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 3.9,
      },
      "original": {
        "x": 1,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 10.1,
      },
      "original": {
        "x": 1,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 9.9,
        "y": 10.1,
      },
      "original": {
        "x": 10,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 9.9,
        "y": 14.1,
      },
      "original": {
        "x": 10,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 17.1,
        "y": 14.1,
      },
      "original": {
        "x": 17,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 17.1,
        "y": 4.9,
      },
      "original": {
        "x": 17,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 16.1,
        "y": 4.9,
      },
      "original": {
        "x": 16,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 16.1,
        "y": 0.9,
      },
      "original": {
        "x": 16,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 0.9,
      },
      "original": {
        "x": 4,
        "y": 1,
      },
    },
  ],
  "polygon": [
    [
      3.9,
      3.9,
    ],
    [
      0.9,
      3.9,
    ],
    [
      0.9,
      10.1,
    ],
    [
      9.9,
      10.1,
    ],
    [
      9.9,
      14.1,
    ],
    [
      17.1,
      14.1,
    ],
    [
      17.1,
      4.9,
    ],
    [
      16.1,
      4.9,
    ],
    [
      16.1,
      0.9,
    ],
    [
      3.9,
      0.9,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_4_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 1.12,
        "y": 4.98,
      },
      "original": {
        "x": 1.22,
        "y": 4.88,
      },
    },
    {
      "offset": {
        "x": 1.12,
        "y": 6.81,
      },
      "original": {
        "x": 1.22,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 4.17,
        "y": 6.81,
      },
      "original": {
        "x": 4.27,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 4.17,
        "y": 9.24,
      },
      "original": {
        "x": 4.27,
        "y": 9.14,
      },
    },
    {
      "offset": {
        "x": 9.24,
        "y": 9.21,
      },
      "original": {
        "x": 9.14,
        "y": 9.11,
      },
    },
    {
      "offset": {
        "x": 9.24,
        "y": -0.71,
      },
      "original": {
        "x": 9.14,
        "y": -0.61,
      },
    },
    {
      "offset": {
        "x": 8.02,
        "y": -0.71,
      },
      "original": {
        "x": 7.92,
        "y": -0.61,
      },
    },
    {
      "offset": {
        "x": 8.02,
        "y": -5.59,
      },
      "original": {
        "x": 7.92,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": 0.51,
        "y": -5.59,
      },
      "original": {
        "x": 0.61,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": 0.51,
        "y": -3.76,
      },
      "original": {
        "x": 0.61,
        "y": -3.66,
      },
    },
    {
      "offset": {
        "x": -6.81,
        "y": -3.76,
      },
      "original": {
        "x": -6.71,
        "y": -3.66,
      },
    },
    {
      "offset": {
        "x": -6.81,
        "y": 1.93,
      },
      "original": {
        "x": -6.71,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -4.37,
        "y": 1.93,
      },
      "original": {
        "x": -4.27,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -4.37,
        "y": 4.98,
      },
      "original": {
        "x": -4.27,
        "y": 4.88,
      },
    },
  ],
  "polygon": [
    [
      1.12,
      4.98,
    ],
    [
      1.12,
      6.81,
    ],
    [
      4.17,
      6.81,
    ],
    [
      4.17,
      9.24,
    ],
    [
      9.24,
      9.21,
    ],
    [
      9.24,
      -0.71,
    ],
    [
      8.02,
      -0.71,
    ],
    [
      8.02,
      -5.59,
    ],
    [
      0.51,
      -5.59,
    ],
    [
      0.51,
      -3.76,
    ],
    [
      -6.81,
      -3.76,
    ],
    [
      -6.81,
      1.93,
    ],
    [
      -4.37,
      1.93,
    ],
    [
      -4.37,
      4.98,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_5_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 4.37,
        "y": 2.34,
      },
      "original": {
        "x": 4.27,
        "y": 2.44,
      },
    },
    {
      "offset": {
        "x": 4.37,
        "y": 1.32,
      },
      "original": {
        "x": 4.27,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": 7.42,
        "y": 1.32,
      },
      "original": {
        "x": 7.32,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": 7.42,
        "y": -3.15,
      },
      "original": {
        "x": 7.32,
        "y": -3.05,
      },
    },
    {
      "offset": {
        "x": 2.95,
        "y": -3.15,
      },
      "original": {
        "x": 3.05,
        "y": -3.05,
      },
    },
    {
      "offset": {
        "x": 2.95,
        "y": 1.12,
      },
      "original": {
        "x": 3.05,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": -1.93,
        "y": 1.12,
      },
      "original": {
        "x": -1.83,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": -1.93,
        "y": 4.17,
      },
      "original": {
        "x": -1.83,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 4.17,
      },
      "original": {
        "x": -3.66,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 6,
      },
      "original": {
        "x": -3.66,
        "y": 6.1,
      },
    },
    {
      "offset": {
        "x": -6.2,
        "y": 6,
      },
      "original": {
        "x": -6.1,
        "y": 6.1,
      },
    },
    {
      "offset": {
        "x": -6.2,
        "y": 9.85,
      },
      "original": {
        "x": -6.1,
        "y": 9.75,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 9.85,
      },
      "original": {
        "x": 0,
        "y": 9.75,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 6.81,
      },
      "original": {
        "x": 0,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 3.76,
        "y": 6.81,
      },
      "original": {
        "x": 3.66,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 3.76,
        "y": 4.37,
      },
      "original": {
        "x": 3.66,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": 10.46,
        "y": 4.37,
      },
      "original": {
        "x": 10.36,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": 10.46,
        "y": 2.34,
      },
      "original": {
        "x": 10.36,
        "y": 2.44,
      },
    },
  ],
  "polygon": [
    [
      4.37,
      2.34,
    ],
    [
      4.37,
      1.32,
    ],
    [
      7.42,
      1.32,
    ],
    [
      7.42,
      -3.15,
    ],
    [
      2.95,
      -3.15,
    ],
    [
      2.95,
      1.12,
    ],
    [
      -1.93,
      1.12,
    ],
    [
      -1.93,
      4.17,
    ],
    [
      -3.76,
      4.17,
    ],
    [
      -3.76,
      6,
    ],
    [
      -6.2,
      6,
    ],
    [
      -6.2,
      9.85,
    ],
    [
      0.1,
      9.85,
    ],
    [
      0.1,
      6.81,
    ],
    [
      3.76,
      6.81,
    ],
    [
      3.76,
      4.37,
    ],
    [
      10.46,
      4.37,
    ],
    [
      10.46,
      2.34,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_6_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": -0.31,
        "y": -0.51,
      },
      "original": {
        "x": -0.41,
        "y": -0.41,
      },
    },
    {
      "offset": {
        "x": -0.31,
        "y": -3.76,
      },
      "original": {
        "x": -0.41,
        "y": -3.66,
      },
    },
    {
      "offset": {
        "x": -3.25,
        "y": -3.76,
      },
      "original": {
        "x": -3.15,
        "y": -3.66,
      },
    },
    {
      "offset": {
        "x": -3.25,
        "y": -1.32,
      },
      "original": {
        "x": -3.15,
        "y": -1.22,
      },
    },
    {
      "offset": {
        "x": -9.55,
        "y": -1.32,
      },
      "original": {
        "x": -9.45,
        "y": -1.22,
      },
    },
    {
      "offset": {
        "x": -9.66,
        "y": 7.5,
      },
      "original": {
        "x": -9.55,
        "y": 7.39,
      },
    },
    {
      "offset": {
        "x": -7.01,
        "y": 7.42,
      },
      "original": {
        "x": -7.01,
        "y": 7.32,
      },
    },
    {
      "offset": {
        "x": 1.93,
        "y": 7.42,
      },
      "original": {
        "x": 1.83,
        "y": 7.32,
      },
    },
    {
      "offset": {
        "x": 1.93,
        "y": -0.51,
      },
      "original": {
        "x": 1.83,
        "y": -0.41,
      },
    },
  ],
  "polygon": [
    [
      -0.31,
      -0.51,
    ],
    [
      -0.31,
      -3.76,
    ],
    [
      -3.25,
      -3.76,
    ],
    [
      -3.25,
      -1.32,
    ],
    [
      -9.55,
      -1.32,
    ],
    [
      -9.66,
      7.5,
    ],
    [
      -7.01,
      7.42,
    ],
    [
      1.93,
      7.42,
    ],
    [
      1.93,
      -0.51,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_7_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": -2.8,
        "y": 1,
      },
      "original": {
        "x": -2.7,
        "y": 0.9,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": 1.9,
      },
      "original": {
        "x": -2.7,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": 2.8,
        "y": 1.9,
      },
      "original": {
        "x": 2.7,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": 2.8,
        "y": 0.7,
      },
      "original": {
        "x": 2.7,
        "y": 0.6,
      },
    },
    {
      "offset": {
        "x": 4.3,
        "y": 0.7,
      },
      "original": {
        "x": 4.2,
        "y": 0.6,
      },
    },
    {
      "offset": {
        "x": 4.3,
        "y": 0.4,
      },
      "original": {
        "x": 4.2,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": 7.3,
        "y": 0.4,
      },
      "original": {
        "x": 7.2,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": 7.3,
        "y": -1.3,
      },
      "original": {
        "x": 7.2,
        "y": -1.2,
      },
    },
    {
      "offset": {
        "x": 4.3,
        "y": -1.3,
      },
      "original": {
        "x": 4.2,
        "y": -1.2,
      },
    },
    {
      "offset": {
        "x": 4.3,
        "y": -2.2,
      },
      "original": {
        "x": 4.2,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": 4,
        "y": -2.2,
      },
      "original": {
        "x": 3.9,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": 4,
        "y": -4.6,
      },
      "original": {
        "x": 3.9,
        "y": -4.5,
      },
    },
    {
      "offset": {
        "x": 1.4,
        "y": -4.6,
      },
      "original": {
        "x": 1.5,
        "y": -4.5,
      },
    },
    {
      "offset": {
        "x": 1.4,
        "y": -4,
      },
      "original": {
        "x": 1.5,
        "y": -3.9,
      },
    },
    {
      "offset": {
        "x": -1.9,
        "y": -4,
      },
      "original": {
        "x": -1.8,
        "y": -3.9,
      },
    },
    {
      "offset": {
        "x": -1.9,
        "y": -2.2,
      },
      "original": {
        "x": -1.8,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": -2.2,
      },
      "original": {
        "x": -2.7,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": -1.9,
      },
      "original": {
        "x": -2.7,
        "y": -1.8,
      },
    },
    {
      "offset": {
        "x": -6.1,
        "y": -1.9,
      },
      "original": {
        "x": -6,
        "y": -1.8,
      },
    },
    {
      "offset": {
        "x": -6.1,
        "y": 1,
      },
      "original": {
        "x": -6,
        "y": 0.9,
      },
    },
  ],
  "polygon": [
    [
      -2.8,
      1,
    ],
    [
      -2.8,
      1.9,
    ],
    [
      2.8,
      1.9,
    ],
    [
      2.8,
      0.7,
    ],
    [
      4.3,
      0.7,
    ],
    [
      4.3,
      0.4,
    ],
    [
      7.3,
      0.4,
    ],
    [
      7.3,
      -1.3,
    ],
    [
      4.3,
      -1.3,
    ],
    [
      4.3,
      -2.2,
    ],
    [
      4,
      -2.2,
    ],
    [
      4,
      -4.6,
    ],
    [
      1.4,
      -4.6,
    ],
    [
      1.4,
      -4,
    ],
    [
      -1.9,
      -4,
    ],
    [
      -1.9,
      -2.2,
    ],
    [
      -2.8,
      -2.2,
    ],
    [
      -2.8,
      -1.9,
    ],
    [
      -6.1,
      -1.9,
    ],
    [
      -6.1,
      1,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_8_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": -0.5,
        "y": -0.5,
      },
      "original": {
        "x": -0.6,
        "y": -0.6,
      },
    },
    {
      "offset": {
        "x": 1.3,
        "y": -0.5,
      },
      "original": {
        "x": 1.2,
        "y": -0.6,
      },
    },
    {
      "offset": {
        "x": 1.3,
        "y": -1.7,
      },
      "original": {
        "x": 1.2,
        "y": -1.8,
      },
    },
    {
      "offset": {
        "x": 5.2,
        "y": -1.7,
      },
      "original": {
        "x": 5.1,
        "y": -1.8,
      },
    },
    {
      "offset": {
        "x": 5.2,
        "y": -5.2,
      },
      "original": {
        "x": 5.1,
        "y": -5.1,
      },
    },
    {
      "offset": {
        "x": -0.5,
        "y": -5.2,
      },
      "original": {
        "x": -0.6,
        "y": -5.1,
      },
    },
    {
      "offset": {
        "x": -0.5,
        "y": -7,
      },
      "original": {
        "x": -0.6,
        "y": -6.9,
      },
    },
    {
      "offset": {
        "x": -3.1,
        "y": -7,
      },
      "original": {
        "x": -3,
        "y": -6.9,
      },
    },
    {
      "offset": {
        "x": -3.1,
        "y": -5.2,
      },
      "original": {
        "x": -3,
        "y": -5.1,
      },
    },
    {
      "offset": {
        "x": -10,
        "y": -5.2,
      },
      "original": {
        "x": -9.9,
        "y": -5.1,
      },
    },
    {
      "offset": {
        "x": -10,
        "y": -2.6,
      },
      "original": {
        "x": -9.9,
        "y": -2.7,
      },
    },
    {
      "offset": {
        "x": -7.9,
        "y": -2.6,
      },
      "original": {
        "x": -7.8,
        "y": -2.7,
      },
    },
    {
      "offset": {
        "x": -7.9,
        "y": -0.5,
      },
      "original": {
        "x": -7.8,
        "y": -0.6,
      },
    },
    {
      "offset": {
        "x": -5.5,
        "y": -0.5,
      },
      "original": {
        "x": -5.4,
        "y": -0.6,
      },
    },
    {
      "offset": {
        "x": -5.5,
        "y": 3.1,
      },
      "original": {
        "x": -5.4,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 2.8,
        "y": 3.1,
      },
      "original": {
        "x": 2.7,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 2.8,
        "y": 1.4,
      },
      "original": {
        "x": 2.7,
        "y": 1.5,
      },
    },
    {
      "offset": {
        "x": -0.5,
        "y": 1.4,
      },
      "original": {
        "x": -0.6,
        "y": 1.5,
      },
    },
  ],
  "polygon": [
    [
      -0.5,
      -0.5,
    ],
    [
      1.3,
      -0.5,
    ],
    [
      1.3,
      -1.7,
    ],
    [
      5.2,
      -1.7,
    ],
    [
      5.2,
      -5.2,
    ],
    [
      -0.5,
      -5.2,
    ],
    [
      -0.5,
      -7,
    ],
    [
      -3.1,
      -7,
    ],
    [
      -3.1,
      -5.2,
    ],
    [
      -10,
      -5.2,
    ],
    [
      -10,
      -2.6,
    ],
    [
      -7.9,
      -2.6,
    ],
    [
      -7.9,
      -0.5,
    ],
    [
      -5.5,
      -0.5,
    ],
    [
      -5.5,
      3.1,
    ],
    [
      2.8,
      3.1,
    ],
    [
      2.8,
      1.4,
    ],
    [
      -0.5,
      1.4,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_9_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": -1.7,
        "y": -4.3,
      },
      "original": {
        "x": -1.8,
        "y": -4.2,
      },
    },
    {
      "offset": {
        "x": -1.7,
        "y": -4.9,
      },
      "original": {
        "x": -1.8,
        "y": -4.8,
      },
    },
    {
      "offset": {
        "x": -6.7,
        "y": -4.9,
      },
      "original": {
        "x": -6.6,
        "y": -4.8,
      },
    },
    {
      "offset": {
        "x": -6.7,
        "y": 3.1,
      },
      "original": {
        "x": -6.6,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": -2.9,
        "y": 3.1,
      },
      "original": {
        "x": -3,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": -2.9,
        "y": 1.9,
      },
      "original": {
        "x": -3,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": -0.5,
        "y": 1.9,
      },
      "original": {
        "x": -0.6,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": -0.5,
        "y": -0.1,
      },
      "original": {
        "x": -0.6,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -1.7,
        "y": -0.1,
      },
      "original": {
        "x": -1.8,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -1.7,
        "y": -0.8,
      },
      "original": {
        "x": -1.8,
        "y": -0.9,
      },
    },
    {
      "offset": {
        "x": 3.1,
        "y": -0.8,
      },
      "original": {
        "x": 3,
        "y": -0.9,
      },
    },
    {
      "offset": {
        "x": 3.1,
        "y": -4.3,
      },
      "original": {
        "x": 3,
        "y": -4.2,
      },
    },
  ],
  "polygon": [
    [
      -1.7,
      -4.3,
    ],
    [
      -1.7,
      -4.9,
    ],
    [
      -6.7,
      -4.9,
    ],
    [
      -6.7,
      3.1,
    ],
    [
      -2.9,
      3.1,
    ],
    [
      -2.9,
      1.9,
    ],
    [
      -0.5,
      1.9,
    ],
    [
      -0.5,
      -0.1,
    ],
    [
      -1.7,
      -0.1,
    ],
    [
      -1.7,
      -0.8,
    ],
    [
      3.1,
      -0.8,
    ],
    [
      3.1,
      -4.3,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_10_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": -5.6,
        "y": -1.3,
      },
      "original": {
        "x": -5.7,
        "y": -1.2,
      },
    },
    {
      "offset": {
        "x": -5.6,
        "y": -3.09,
      },
      "original": {
        "x": -5.7,
        "y": -3,
      },
    },
    {
      "offset": {
        "x": -11.5,
        "y": -3.41,
      },
      "original": {
        "x": -11.4,
        "y": -3.3,
      },
    },
    {
      "offset": {
        "x": -11.5,
        "y": -1,
      },
      "original": {
        "x": -11.4,
        "y": -0.9,
      },
    },
    {
      "offset": {
        "x": -15.7,
        "y": -1,
      },
      "original": {
        "x": -15.6,
        "y": -0.9,
      },
    },
    {
      "offset": {
        "x": -15.7,
        "y": 1.9,
      },
      "original": {
        "x": -15.6,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": -10.1,
        "y": 1.9,
      },
      "original": {
        "x": -10.2,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": -10.1,
        "y": 0.4,
      },
      "original": {
        "x": -10.2,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": -7.6,
        "y": 0.4,
      },
      "original": {
        "x": -7.5,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": -7.6,
        "y": 3.67,
      },
      "original": {
        "x": -7.5,
        "y": 3.6,
      },
    },
    {
      "offset": {
        "x": -3.5,
        "y": 4.94,
      },
      "original": {
        "x": -3.6,
        "y": 4.8,
      },
    },
    {
      "offset": {
        "x": -3.5,
        "y": -1.3,
      },
      "original": {
        "x": -3.6,
        "y": -1.2,
      },
    },
  ],
  "polygon": [
    [
      -5.6,
      -1.3,
    ],
    [
      -5.6,
      -3.09,
    ],
    [
      -11.5,
      -3.41,
    ],
    [
      -11.5,
      -1,
    ],
    [
      -15.7,
      -1,
    ],
    [
      -15.7,
      1.9,
    ],
    [
      -10.1,
      1.9,
    ],
    [
      -10.1,
      0.4,
    ],
    [
      -7.6,
      0.4,
    ],
    [
      -7.6,
      3.67,
    ],
    [
      -3.5,
      4.94,
    ],
    [
      -3.5,
      -1.3,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_11_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": -1.01,
        "y": 4.67,
      },
      "original": {
        "x": -0.91,
        "y": 4.57,
      },
    },
    {
      "offset": {
        "x": -1.01,
        "y": 6.5,
      },
      "original": {
        "x": -0.91,
        "y": 6.4,
      },
    },
    {
      "offset": {
        "x": 5.28,
        "y": 6.5,
      },
      "original": {
        "x": 5.18,
        "y": 6.4,
      },
    },
    {
      "offset": {
        "x": 5.28,
        "y": 3.15,
      },
      "original": {
        "x": 5.18,
        "y": 3.05,
      },
    },
    {
      "offset": {
        "x": 8.94,
        "y": 3.15,
      },
      "original": {
        "x": 8.84,
        "y": 3.05,
      },
    },
    {
      "offset": {
        "x": 8.94,
        "y": -2.54,
      },
      "original": {
        "x": 8.84,
        "y": -2.44,
      },
    },
    {
      "offset": {
        "x": 6,
        "y": -2.54,
      },
      "original": {
        "x": 6.1,
        "y": -2.44,
      },
    },
    {
      "offset": {
        "x": 6,
        "y": 2.95,
      },
      "original": {
        "x": 6.1,
        "y": 3.05,
      },
    },
    {
      "offset": {
        "x": 2.84,
        "y": 2.95,
      },
      "original": {
        "x": 2.74,
        "y": 3.05,
      },
    },
    {
      "offset": {
        "x": 2.84,
        "y": 0.2,
      },
      "original": {
        "x": 2.74,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": -1.01,
        "y": 0.2,
      },
      "original": {
        "x": -0.91,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": -1.01,
        "y": 1.73,
      },
      "original": {
        "x": -0.91,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 1.73,
      },
      "original": {
        "x": -3.66,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 4.67,
      },
      "original": {
        "x": -3.66,
        "y": 4.57,
      },
    },
  ],
  "polygon": [
    [
      -1.01,
      4.67,
    ],
    [
      -1.01,
      6.5,
    ],
    [
      5.28,
      6.5,
    ],
    [
      5.28,
      3.15,
    ],
    [
      8.94,
      3.15,
    ],
    [
      8.94,
      -2.54,
    ],
    [
      6,
      -2.54,
    ],
    [
      6,
      2.95,
    ],
    [
      2.84,
      2.95,
    ],
    [
      2.84,
      0.2,
    ],
    [
      -1.01,
      0.2,
    ],
    [
      -1.01,
      1.73,
    ],
    [
      -3.76,
      1.73,
    ],
    [
      -3.76,
      4.67,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_12_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": -4.37,
        "y": 1.62,
      },
      "original": {
        "x": -4.27,
        "y": 1.52,
      },
    },
    {
      "offset": {
        "x": -4.37,
        "y": 2.84,
      },
      "original": {
        "x": -4.27,
        "y": 2.74,
      },
    },
    {
      "offset": {
        "x": -1.12,
        "y": 2.84,
      },
      "original": {
        "x": -1.22,
        "y": 2.74,
      },
    },
    {
      "offset": {
        "x": -1.12,
        "y": 1.62,
      },
      "original": {
        "x": -1.22,
        "y": 1.52,
      },
    },
    {
      "offset": {
        "x": 1.62,
        "y": 1.62,
      },
      "original": {
        "x": 1.52,
        "y": 1.52,
      },
    },
    {
      "offset": {
        "x": 1.62,
        "y": 0.4,
      },
      "original": {
        "x": 1.52,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": 4.67,
        "y": 0.4,
      },
      "original": {
        "x": 4.57,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": 4.67,
        "y": -2.84,
      },
      "original": {
        "x": 4.57,
        "y": -2.74,
      },
    },
    {
      "offset": {
        "x": 2.54,
        "y": -2.84,
      },
      "original": {
        "x": 2.44,
        "y": -2.74,
      },
    },
    {
      "offset": {
        "x": 2.54,
        "y": -5.59,
      },
      "original": {
        "x": 2.44,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": -0.05,
        "y": -5.59,
      },
      "original": {
        "x": 0,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": -1.73,
        "y": -3.35,
      },
      "original": {
        "x": -1.83,
        "y": -3.05,
      },
    },
    {
      "offset": {
        "x": -1.73,
        "y": -5.59,
      },
      "original": {
        "x": -1.83,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": -5.59,
        "y": -5.59,
      },
      "original": {
        "x": -5.49,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": -5.59,
        "y": -2.54,
      },
      "original": {
        "x": -5.49,
        "y": -2.44,
      },
    },
    {
      "offset": {
        "x": -8.02,
        "y": -2.54,
      },
      "original": {
        "x": -7.92,
        "y": -2.44,
      },
    },
    {
      "offset": {
        "x": -8.02,
        "y": 1.62,
      },
      "original": {
        "x": -7.92,
        "y": 1.52,
      },
    },
  ],
  "polygon": [
    [
      -4.37,
      1.62,
    ],
    [
      -4.37,
      2.84,
    ],
    [
      -1.12,
      2.84,
    ],
    [
      -1.12,
      1.62,
    ],
    [
      1.62,
      1.62,
    ],
    [
      1.62,
      0.4,
    ],
    [
      4.67,
      0.4,
    ],
    [
      4.67,
      -2.84,
    ],
    [
      2.54,
      -2.84,
    ],
    [
      2.54,
      -5.59,
    ],
    [
      -0.05,
      -5.59,
    ],
    [
      -1.73,
      -3.35,
    ],
    [
      -1.73,
      -5.59,
    ],
    [
      -5.59,
      -5.59,
    ],
    [
      -5.59,
      -2.54,
    ],
    [
      -8.02,
      -2.54,
    ],
    [
      -8.02,
      1.62,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: complex_13_tier3 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 16.56,
        "y": 3.45,
      },
      "original": {
        "x": 16.46,
        "y": 3.35,
      },
    },
    {
      "offset": {
        "x": 17.47,
        "y": 3.45,
      },
      "original": {
        "x": 17.37,
        "y": 3.35,
      },
    },
    {
      "offset": {
        "x": 17.47,
        "y": -4.37,
      },
      "original": {
        "x": 17.37,
        "y": -4.27,
      },
    },
    {
      "offset": {
        "x": 14.12,
        "y": -4.37,
      },
      "original": {
        "x": 14.02,
        "y": -4.27,
      },
    },
    {
      "offset": {
        "x": 14.12,
        "y": -5.89,
      },
      "original": {
        "x": 14.02,
        "y": -5.79,
      },
    },
    {
      "offset": {
        "x": -1.32,
        "y": -5.89,
      },
      "original": {
        "x": -1.22,
        "y": -5.79,
      },
    },
    {
      "offset": {
        "x": -1.32,
        "y": 5.59,
      },
      "original": {
        "x": -1.22,
        "y": 5.49,
      },
    },
    {
      "offset": {
        "x": 14.12,
        "y": 5.59,
      },
      "original": {
        "x": 14.02,
        "y": 5.49,
      },
    },
    {
      "offset": {
        "x": 14.12,
        "y": 4.98,
      },
      "original": {
        "x": 14.02,
        "y": 4.88,
      },
    },
    {
      "offset": {
        "x": 16.56,
        "y": 4.98,
      },
      "original": {
        "x": 16.46,
        "y": 4.88,
      },
    },
  ],
  "polygon": [
    [
      16.56,
      3.45,
    ],
    [
      17.47,
      3.45,
    ],
    [
      17.47,
      -4.37,
    ],
    [
      14.12,
      -4.37,
    ],
    [
      14.12,
      -5.89,
    ],
    [
      -1.32,
      -5.89,
    ],
    [
      -1.32,
      5.59,
    ],
    [
      14.12,
      5.59,
    ],
    [
      14.12,
      4.98,
    ],
    [
      16.56,
      4.98,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: d_square_1 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 5.9,
        "y": 5.9,
      },
      "original": {
        "x": 6,
        "y": 6,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 5.9,
      },
      "original": {
        "x": 2,
        "y": 6,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 11.6,
      },
      "original": {
        "x": 2,
        "y": 11.5,
      },
    },
    {
      "offset": {
        "x": 6.1,
        "y": 11.6,
      },
      "original": {
        "x": 6,
        "y": 11.5,
      },
    },
    {
      "offset": {
        "x": 6.1,
        "y": 9.6,
      },
      "original": {
        "x": 6,
        "y": 9.5,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 9.6,
      },
      "original": {
        "x": 12,
        "y": 9.5,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 3.4,
      },
      "original": {
        "x": 12,
        "y": 3.5,
      },
    },
    {
      "offset": {
        "x": 5.9,
        "y": 3.4,
      },
      "original": {
        "x": 6,
        "y": 3.5,
      },
    },
  ],
  "polygon": [
    [
      5.9,
      5.9,
    ],
    [
      1.9,
      5.9,
    ],
    [
      1.9,
      11.6,
    ],
    [
      6.1,
      11.6,
    ],
    [
      6.1,
      9.6,
    ],
    [
      12.1,
      9.6,
    ],
    [
      12.1,
      3.4,
    ],
    [
      5.9,
      3.4,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: d_square_2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 3.9,
        "y": 6.1,
      },
      "original": {
        "x": 4,
        "y": 6,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 8.1,
      },
      "original": {
        "x": 4,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 8.1,
      },
      "original": {
        "x": 7,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 2.9,
      },
      "original": {
        "x": 7,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 5.1,
        "y": 2.9,
      },
      "original": {
        "x": 5,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 5.1,
        "y": 0.9,
      },
      "original": {
        "x": 5,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 6.1,
      },
      "original": {
        "x": 1,
        "y": 6,
      },
    },
  ],
  "polygon": [
    [
      3.9,
      6.1,
    ],
    [
      3.9,
      8.1,
    ],
    [
      7.1,
      8.1,
    ],
    [
      7.1,
      2.9,
    ],
    [
      5.1,
      2.9,
    ],
    [
      5.1,
      0.9,
    ],
    [
      0.9,
      0.9,
    ],
    [
      0.9,
      6.1,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: d_square_3 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 6.9,
        "y": 7.1,
      },
      "original": {
        "x": 7,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 6.9,
        "y": 10.1,
      },
      "original": {
        "x": 7,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 11.1,
        "y": 10.1,
      },
      "original": {
        "x": 11,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 11.1,
        "y": 3.9,
      },
      "original": {
        "x": 11,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 3.9,
      },
      "original": {
        "x": 8,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 0.9,
      },
      "original": {
        "x": 8,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 7.1,
      },
      "original": {
        "x": 1,
        "y": 7,
      },
    },
  ],
  "polygon": [
    [
      6.9,
      7.1,
    ],
    [
      6.9,
      10.1,
    ],
    [
      11.1,
      10.1,
    ],
    [
      11.1,
      3.9,
    ],
    [
      8.1,
      3.9,
    ],
    [
      8.1,
      0.9,
    ],
    [
      0.9,
      0.9,
    ],
    [
      0.9,
      7.1,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: d_square_4_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": -1.32,
        "y": 1.73,
      },
      "original": {
        "x": -1.22,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -1.93,
        "y": 1.73,
      },
      "original": {
        "x": -1.83,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -1.93,
        "y": 6.81,
      },
      "original": {
        "x": -1.83,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 3.15,
        "y": 6.81,
      },
      "original": {
        "x": 3.05,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 3.15,
        "y": 2.54,
      },
      "original": {
        "x": 3.05,
        "y": 2.44,
      },
    },
    {
      "offset": {
        "x": 6.81,
        "y": 2.54,
      },
      "original": {
        "x": 6.71,
        "y": 2.44,
      },
    },
    {
      "offset": {
        "x": 6.81,
        "y": -1.32,
      },
      "original": {
        "x": 6.71,
        "y": -1.22,
      },
    },
    {
      "offset": {
        "x": -1.32,
        "y": -1.32,
      },
      "original": {
        "x": -1.22,
        "y": -1.22,
      },
    },
  ],
  "polygon": [
    [
      -1.32,
      1.73,
    ],
    [
      -1.93,
      1.73,
    ],
    [
      -1.93,
      6.81,
    ],
    [
      3.15,
      6.81,
    ],
    [
      3.15,
      2.54,
    ],
    [
      6.81,
      2.54,
    ],
    [
      6.81,
      -1.32,
    ],
    [
      -1.32,
      -1.32,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: half_iron_cross 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 14.78,
        "y": 14.78,
      },
      "original": {
        "x": 15,
        "y": 15,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 9.84,
      },
      "original": {
        "x": 5,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 35.1,
      },
      "original": {
        "x": 5,
        "y": 35,
      },
    },
    {
      "offset": {
        "x": 35.1,
        "y": 35.1,
      },
      "original": {
        "x": 35,
        "y": 35,
      },
    },
    {
      "offset": {
        "x": 35.1,
        "y": 9.84,
      },
      "original": {
        "x": 35,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 25.22,
        "y": 14.78,
      },
      "original": {
        "x": 25,
        "y": 15,
      },
    },
    {
      "offset": {
        "x": 30.16,
        "y": 4.9,
      },
      "original": {
        "x": 30,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 9.84,
        "y": 4.9,
      },
      "original": {
        "x": 10,
        "y": 5,
      },
    },
  ],
  "polygon": [
    [
      14.78,
      14.78,
    ],
    [
      4.9,
      9.84,
    ],
    [
      4.9,
      35.1,
    ],
    [
      35.1,
      35.1,
    ],
    [
      35.1,
      9.84,
    ],
    [
      25.22,
      14.78,
    ],
    [
      30.16,
      4.9,
    ],
    [
      9.84,
      4.9,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: l_shape_1 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 8.1,
        "y": 14.1,
      },
      "original": {
        "x": 8,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 14.1,
      },
      "original": {
        "x": 12,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 3.9,
      },
      "original": {
        "x": 12,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 3.9,
      },
      "original": {
        "x": 4,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 16.1,
      },
      "original": {
        "x": 4,
        "y": 16,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 16.1,
      },
      "original": {
        "x": 8,
        "y": 16,
      },
    },
  ],
  "polygon": [
    [
      8.1,
      14.1,
    ],
    [
      12.1,
      14.1,
    ],
    [
      12.1,
      3.9,
    ],
    [
      3.9,
      3.9,
    ],
    [
      3.9,
      16.1,
    ],
    [
      8.1,
      16.1,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: l_shape_2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 7.1,
        "y": 4.1,
      },
      "original": {
        "x": 7,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 4.1,
      },
      "original": {
        "x": 10,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 1.9,
      },
      "original": {
        "x": 10,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 1.9,
      },
      "original": {
        "x": 2,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 7.1,
      },
      "original": {
        "x": 2,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 7.1,
      },
      "original": {
        "x": 7,
        "y": 7,
      },
    },
  ],
  "polygon": [
    [
      7.1,
      4.1,
    ],
    [
      10.1,
      4.1,
    ],
    [
      10.1,
      1.9,
    ],
    [
      1.9,
      1.9,
    ],
    [
      1.9,
      7.1,
    ],
    [
      7.1,
      7.1,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: l_shape_3 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 7.1,
        "y": 5.1,
      },
      "original": {
        "x": 7,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 13.1,
        "y": 5.1,
      },
      "original": {
        "x": 13,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 13.1,
        "y": 0.9,
      },
      "original": {
        "x": 13,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 8.1,
      },
      "original": {
        "x": 1,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 8.1,
      },
      "original": {
        "x": 7,
        "y": 8,
      },
    },
  ],
  "polygon": [
    [
      7.1,
      5.1,
    ],
    [
      13.1,
      5.1,
    ],
    [
      13.1,
      0.9,
    ],
    [
      0.9,
      0.9,
    ],
    [
      0.9,
      8.1,
    ],
    [
      7.1,
      8.1,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: rectangle 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 3.9,
        "y": 3.9,
      },
      "original": {
        "x": 4,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 12.1,
      },
      "original": {
        "x": 4,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 24.1,
        "y": 12.1,
      },
      "original": {
        "x": 24,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 24.1,
        "y": 3.9,
      },
      "original": {
        "x": 24,
        "y": 4,
      },
    },
  ],
  "polygon": [
    [
      3.9,
      3.9,
    ],
    [
      3.9,
      12.1,
    ],
    [
      24.1,
      12.1,
    ],
    [
      24.1,
      3.9,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: simple_1 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 8.99,
        "y": 7.14,
      },
      "original": {
        "x": 9,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 16.04,
        "y": 14.18,
      },
      "original": {
        "x": 16,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 18.11,
        "y": 9.01,
      },
      "original": {
        "x": 18,
        "y": 9,
      },
    },
    {
      "offset": {
        "x": 16.08,
        "y": 1.9,
      },
      "original": {
        "x": 16,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 2.9,
        "y": 1.9,
      },
      "original": {
        "x": 3,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 2.9,
        "y": 12.21,
      },
      "original": {
        "x": 3,
        "y": 12,
      },
    },
  ],
  "polygon": [
    [
      8.99,
      7.14,
    ],
    [
      16.04,
      14.18,
    ],
    [
      18.11,
      9.01,
    ],
    [
      16.08,
      1.9,
    ],
    [
      2.9,
      1.9,
    ],
    [
      2.9,
      12.21,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: simple_2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 0.9,
        "y": 1.4,
      },
      "original": {
        "x": 1,
        "y": 1.5,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 5.56,
      },
      "original": {
        "x": 1,
        "y": 5.5,
      },
    },
    {
      "offset": {
        "x": 4.79,
        "y": 7.52,
      },
      "original": {
        "x": 4.78,
        "y": 7.4,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 4.93,
      },
      "original": {
        "x": 8,
        "y": 4.88,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 1.4,
      },
      "original": {
        "x": 8,
        "y": 1.5,
      },
    },
  ],
  "polygon": [
    [
      0.9,
      1.4,
    ],
    [
      0.9,
      5.56,
    ],
    [
      4.79,
      7.52,
    ],
    [
      8.1,
      4.93,
    ],
    [
      8.1,
      1.4,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: straight_cross 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 9.1,
        "y": 4.9,
      },
      "original": {
        "x": 9,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 9.1,
        "y": 0.9,
      },
      "original": {
        "x": 9,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 0.9,
      },
      "original": {
        "x": 5,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 4.9,
      },
      "original": {
        "x": 5,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 4.9,
      },
      "original": {
        "x": 1,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 9.1,
      },
      "original": {
        "x": 1,
        "y": 9,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 9.1,
      },
      "original": {
        "x": 5,
        "y": 9,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 14.1,
      },
      "original": {
        "x": 5,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 9.1,
        "y": 14.1,
      },
      "original": {
        "x": 9,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 9.1,
        "y": 9.1,
      },
      "original": {
        "x": 9,
        "y": 9,
      },
    },
    {
      "offset": {
        "x": 14.1,
        "y": 9.1,
      },
      "original": {
        "x": 14,
        "y": 9,
      },
    },
    {
      "offset": {
        "x": 14.1,
        "y": 4.9,
      },
      "original": {
        "x": 14,
        "y": 5,
      },
    },
  ],
  "polygon": [
    [
      9.1,
      4.9,
    ],
    [
      9.1,
      0.9,
    ],
    [
      4.9,
      0.9,
    ],
    [
      4.9,
      4.9,
    ],
    [
      0.9,
      4.9,
    ],
    [
      0.9,
      9.1,
    ],
    [
      4.9,
      9.1,
    ],
    [
      4.9,
      14.1,
    ],
    [
      9.1,
      14.1,
    ],
    [
      9.1,
      9.1,
    ],
    [
      14.1,
      9.1,
    ],
    [
      14.1,
      4.9,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: t_shape_1 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 6.1,
        "y": 2.9,
      },
      "original": {
        "x": 6,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 6.1,
        "y": -0.1,
      },
      "original": {
        "x": 6,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": -0.1,
      },
      "original": {
        "x": 0,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": 10.1,
      },
      "original": {
        "x": 0,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 6.1,
        "y": 10.1,
      },
      "original": {
        "x": 6,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 6.1,
        "y": 7.1,
      },
      "original": {
        "x": 6,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 7.1,
      },
      "original": {
        "x": 10,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 2.9,
      },
      "original": {
        "x": 10,
        "y": 3,
      },
    },
  ],
  "polygon": [
    [
      6.1,
      2.9,
    ],
    [
      6.1,
      -0.1,
    ],
    [
      -0.1,
      -0.1,
    ],
    [
      -0.1,
      10.1,
    ],
    [
      6.1,
      10.1,
    ],
    [
      6.1,
      7.1,
    ],
    [
      10.1,
      7.1,
    ],
    [
      10.1,
      2.9,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: t_shape_2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 12.1,
        "y": 4.9,
      },
      "original": {
        "x": 12,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 1.9,
      },
      "original": {
        "x": 12,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 1.9,
      },
      "original": {
        "x": 2,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 14.1,
      },
      "original": {
        "x": 2,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 14.1,
      },
      "original": {
        "x": 12,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 11.1,
      },
      "original": {
        "x": 12,
        "y": 11,
      },
    },
    {
      "offset": {
        "x": 16.6,
        "y": 11.1,
      },
      "original": {
        "x": 16.5,
        "y": 11,
      },
    },
    {
      "offset": {
        "x": 16.6,
        "y": 4.9,
      },
      "original": {
        "x": 16.5,
        "y": 5,
      },
    },
  ],
  "polygon": [
    [
      12.1,
      4.9,
    ],
    [
      12.1,
      1.9,
    ],
    [
      1.9,
      1.9,
    ],
    [
      1.9,
      14.1,
    ],
    [
      12.1,
      14.1,
    ],
    [
      12.1,
      11.1,
    ],
    [
      16.6,
      11.1,
    ],
    [
      16.6,
      4.9,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: t_shape_3 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 7.1,
        "y": 2.9,
      },
      "original": {
        "x": 7,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 0.9,
      },
      "original": {
        "x": 7,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 7.1,
      },
      "original": {
        "x": 1,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 7.1,
      },
      "original": {
        "x": 7,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 5.1,
      },
      "original": {
        "x": 7,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 5.1,
      },
      "original": {
        "x": 10,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 2.9,
      },
      "original": {
        "x": 10,
        "y": 3,
      },
    },
  ],
  "polygon": [
    [
      7.1,
      2.9,
    ],
    [
      7.1,
      0.9,
    ],
    [
      0.9,
      0.9,
    ],
    [
      0.9,
      7.1,
    ],
    [
      7.1,
      7.1,
    ],
    [
      7.1,
      5.1,
    ],
    [
      10.1,
      5.1,
    ],
    [
      10.1,
      2.9,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: t_shape_4 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 3.9,
        "y": 4.9,
      },
      "original": {
        "x": 4,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 4.9,
      },
      "original": {
        "x": 1,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 12.1,
      },
      "original": {
        "x": 1,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 15.1,
        "y": 12.1,
      },
      "original": {
        "x": 15,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 15.1,
        "y": 4.9,
      },
      "original": {
        "x": 15,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 4.9,
      },
      "original": {
        "x": 10,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 0.9,
      },
      "original": {
        "x": 10,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 0.9,
      },
      "original": {
        "x": 4,
        "y": 1,
      },
    },
  ],
  "polygon": [
    [
      3.9,
      4.9,
    ],
    [
      0.9,
      4.9,
    ],
    [
      0.9,
      12.1,
    ],
    [
      15.1,
      12.1,
    ],
    [
      15.1,
      4.9,
    ],
    [
      10.1,
      4.9,
    ],
    [
      10.1,
      0.9,
    ],
    [
      3.9,
      0.9,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: t_shape_5_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 2.95,
        "y": 4.98,
      },
      "original": {
        "x": 3.05,
        "y": 4.88,
      },
    },
    {
      "offset": {
        "x": 2.95,
        "y": 6.81,
      },
      "original": {
        "x": 3.05,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 8.02,
        "y": 6.81,
      },
      "original": {
        "x": 7.92,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 8.02,
        "y": -0.71,
      },
      "original": {
        "x": 7.92,
        "y": -0.61,
      },
    },
    {
      "offset": {
        "x": 3.15,
        "y": -0.71,
      },
      "original": {
        "x": 3.05,
        "y": -0.61,
      },
    },
    {
      "offset": {
        "x": 3.15,
        "y": -6.2,
      },
      "original": {
        "x": 3.05,
        "y": -6.1,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": -6.2,
      },
      "original": {
        "x": -3.66,
        "y": -6.1,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 4.98,
      },
      "original": {
        "x": -3.66,
        "y": 4.88,
      },
    },
  ],
  "polygon": [
    [
      2.95,
      4.98,
    ],
    [
      2.95,
      6.81,
    ],
    [
      8.02,
      6.81,
    ],
    [
      8.02,
      -0.71,
    ],
    [
      3.15,
      -0.71,
    ],
    [
      3.15,
      -6.2,
    ],
    [
      -3.76,
      -6.2,
    ],
    [
      -3.76,
      4.98,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: t_shape_6_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 16.56,
        "y": 8.63,
      },
      "original": {
        "x": 16.46,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 17.78,
        "y": 8.63,
      },
      "original": {
        "x": 17.68,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 17.78,
        "y": 6.68,
      },
      "original": {
        "x": 17.68,
        "y": 6.78,
      },
    },
    {
      "offset": {
        "x": 9.65,
        "y": 6.68,
      },
      "original": {
        "x": 9.75,
        "y": 6.78,
      },
    },
    {
      "offset": {
        "x": 9.65,
        "y": 8.63,
      },
      "original": {
        "x": 9.75,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 11.48,
        "y": 8.63,
      },
      "original": {
        "x": 11.58,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 11.48,
        "y": 12.29,
      },
      "original": {
        "x": 11.58,
        "y": 12.19,
      },
    },
    {
      "offset": {
        "x": 16.56,
        "y": 12.29,
      },
      "original": {
        "x": 16.46,
        "y": 12.19,
      },
    },
  ],
  "polygon": [
    [
      16.56,
      8.63,
    ],
    [
      17.78,
      8.63,
    ],
    [
      17.78,
      6.68,
    ],
    [
      9.65,
      6.68,
    ],
    [
      9.65,
      8.63,
    ],
    [
      11.48,
      8.63,
    ],
    [
      11.48,
      12.29,
    ],
    [
      16.56,
      12.29,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: t_shape_7_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 5.17,
        "y": 4.87,
      },
      "original": {
        "x": 5.07,
        "y": 4.77,
      },
    },
    {
      "offset": {
        "x": 6.39,
        "y": 4.87,
      },
      "original": {
        "x": 6.29,
        "y": 4.77,
      },
    },
    {
      "offset": {
        "x": 6.39,
        "y": -3.65,
      },
      "original": {
        "x": 6.29,
        "y": -3.55,
      },
    },
    {
      "offset": {
        "x": -8.22,
        "y": -3.65,
      },
      "original": {
        "x": -8.12,
        "y": -3.55,
      },
    },
    {
      "offset": {
        "x": -8.22,
        "y": 4.87,
      },
      "original": {
        "x": -8.12,
        "y": 4.77,
      },
    },
    {
      "offset": {
        "x": -3.95,
        "y": 4.87,
      },
      "original": {
        "x": -3.85,
        "y": 4.77,
      },
    },
    {
      "offset": {
        "x": -3.95,
        "y": 7.61,
      },
      "original": {
        "x": -3.85,
        "y": 7.51,
      },
    },
    {
      "offset": {
        "x": 5.17,
        "y": 7.61,
      },
      "original": {
        "x": 5.07,
        "y": 7.51,
      },
    },
  ],
  "polygon": [
    [
      5.17,
      4.87,
    ],
    [
      6.39,
      4.87,
    ],
    [
      6.39,
      -3.65,
    ],
    [
      -8.22,
      -3.65,
    ],
    [
      -8.22,
      4.87,
    ],
    [
      -3.95,
      4.87,
    ],
    [
      -3.95,
      7.61,
    ],
    [
      5.17,
      7.61,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: t_shape_8_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 1.9,
        "y": 1.3,
      },
      "original": {
        "x": 1.8,
        "y": 1.2,
      },
    },
    {
      "offset": {
        "x": 4.6,
        "y": 1.3,
      },
      "original": {
        "x": 4.5,
        "y": 1.2,
      },
    },
    {
      "offset": {
        "x": 4.6,
        "y": -3.4,
      },
      "original": {
        "x": 4.5,
        "y": -3.3,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": -3.4,
      },
      "original": {
        "x": -2.7,
        "y": -3.3,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": 1.3,
      },
      "original": {
        "x": -2.7,
        "y": 1.2,
      },
    },
    {
      "offset": {
        "x": -0.7,
        "y": 1.3,
      },
      "original": {
        "x": -0.6,
        "y": 1.2,
      },
    },
    {
      "offset": {
        "x": -0.7,
        "y": 5.5,
      },
      "original": {
        "x": -0.6,
        "y": 5.4,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 5.5,
      },
      "original": {
        "x": 1.8,
        "y": 5.4,
      },
    },
  ],
  "polygon": [
    [
      1.9,
      1.3,
    ],
    [
      4.6,
      1.3,
    ],
    [
      4.6,
      -3.4,
    ],
    [
      -2.8,
      -3.4,
    ],
    [
      -2.8,
      1.3,
    ],
    [
      -0.7,
      1.3,
    ],
    [
      -0.7,
      5.5,
    ],
    [
      1.9,
      5.5,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: t_shape_9_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": -2.2,
        "y": 1.9,
      },
      "original": {
        "x": -2.1,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": -2.2,
        "y": 3.1,
      },
      "original": {
        "x": -2.1,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 3.1,
      },
      "original": {
        "x": 0,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 1.9,
      },
      "original": {
        "x": 0,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": 8.2,
        "y": 1.9,
      },
      "original": {
        "x": 8.1,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": 8.2,
        "y": -2.2,
      },
      "original": {
        "x": 8.1,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": -2.2,
      },
      "original": {
        "x": -2.7,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": 1.9,
      },
      "original": {
        "x": -2.7,
        "y": 1.8,
      },
    },
  ],
  "polygon": [
    [
      -2.2,
      1.9,
    ],
    [
      -2.2,
      3.1,
    ],
    [
      0.1,
      3.1,
    ],
    [
      0.1,
      1.9,
    ],
    [
      8.2,
      1.9,
    ],
    [
      8.2,
      -2.2,
    ],
    [
      -2.8,
      -2.2,
    ],
    [
      -2.8,
      1.9,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: t_shape_10_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": -4.37,
        "y": 3.45,
      },
      "original": {
        "x": -4.27,
        "y": 3.35,
      },
    },
    {
      "offset": {
        "x": -4.37,
        "y": 4.06,
      },
      "original": {
        "x": -4.27,
        "y": 3.96,
      },
    },
    {
      "offset": {
        "x": -1.42,
        "y": 4.06,
      },
      "original": {
        "x": -1.52,
        "y": 3.96,
      },
    },
    {
      "offset": {
        "x": -1.42,
        "y": 3.45,
      },
      "original": {
        "x": -1.52,
        "y": 3.35,
      },
    },
    {
      "offset": {
        "x": 4.67,
        "y": 3.45,
      },
      "original": {
        "x": 4.57,
        "y": 3.35,
      },
    },
    {
      "offset": {
        "x": 4.67,
        "y": 0.81,
      },
      "original": {
        "x": 4.57,
        "y": 0.91,
      },
    },
    {
      "offset": {
        "x": -4.67,
        "y": 0.81,
      },
      "original": {
        "x": -4.57,
        "y": 0.91,
      },
    },
    {
      "offset": {
        "x": -4.67,
        "y": 3.45,
      },
      "original": {
        "x": -4.57,
        "y": 3.35,
      },
    },
  ],
  "polygon": [
    [
      -4.37,
      3.45,
    ],
    [
      -4.37,
      4.06,
    ],
    [
      -1.42,
      4.06,
    ],
    [
      -1.42,
      3.45,
    ],
    [
      4.67,
      3.45,
    ],
    [
      4.67,
      0.81,
    ],
    [
      -4.67,
      0.81,
    ],
    [
      -4.67,
      3.45,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: t_shape_11_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 0.1,
        "y": 3.1,
      },
      "original": {
        "x": 0,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 3.1,
      },
      "original": {
        "x": 1.8,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": -1.3,
      },
      "original": {
        "x": 1.8,
        "y": -1.2,
      },
    },
    {
      "offset": {
        "x": -4.9,
        "y": -1.3,
      },
      "original": {
        "x": -4.8,
        "y": -1.2,
      },
    },
    {
      "offset": {
        "x": -4.9,
        "y": 3.1,
      },
      "original": {
        "x": -4.8,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": -3.1,
        "y": 3.1,
      },
      "original": {
        "x": -3,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": -3.1,
        "y": 5.5,
      },
      "original": {
        "x": -3,
        "y": 5.4,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 5.5,
      },
      "original": {
        "x": 0,
        "y": 5.4,
      },
    },
  ],
  "polygon": [
    [
      0.1,
      3.1,
    ],
    [
      1.9,
      3.1,
    ],
    [
      1.9,
      -1.3,
    ],
    [
      -4.9,
      -1.3,
    ],
    [
      -4.9,
      3.1,
    ],
    [
      -3.1,
      3.1,
    ],
    [
      -3.1,
      5.5,
    ],
    [
      0.1,
      5.5,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: the_sacred_polygon 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 50.18,
        "y": 33.01,
      },
      "original": {
        "x": 50,
        "y": 33,
      },
    },
    {
      "offset": {
        "x": 64.1,
        "y": 25.06,
      },
      "original": {
        "x": 64,
        "y": 25,
      },
    },
    {
      "offset": {
        "x": 64.1,
        "y": 0.89,
      },
      "original": {
        "x": 64,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 24.92,
        "y": 3.91,
      },
      "original": {
        "x": 25,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 19.97,
        "y": 19.77,
      },
      "original": {
        "x": 20,
        "y": 20,
      },
    },
    {
      "offset": {
        "x": 10.05,
        "y": 4.9,
      },
      "original": {
        "x": 10,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 4.9,
      },
      "original": {
        "x": 4,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 52.12,
      },
      "original": {
        "x": 4,
        "y": 52,
      },
    },
    {
      "offset": {
        "x": 63.25,
        "y": 43.06,
      },
      "original": {
        "x": 63,
        "y": 43,
      },
    },
  ],
  "polygon": [
    [
      50.18,
      33.01,
    ],
    [
      64.1,
      25.06,
    ],
    [
      64.1,
      0.89,
    ],
    [
      24.92,
      3.91,
    ],
    [
      19.97,
      19.77,
    ],
    [
      10.05,
      4.9,
    ],
    [
      3.9,
      4.9,
    ],
    [
      3.9,
      52.12,
    ],
    [
      63.25,
      43.06,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: u_shape 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 4.1,
        "y": 4.1,
      },
      "original": {
        "x": 4,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 7.9,
        "y": 4.1,
      },
      "original": {
        "x": 8,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 7.9,
        "y": 12.1,
      },
      "original": {
        "x": 8,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 12.1,
      },
      "original": {
        "x": 12,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 0.9,
      },
      "original": {
        "x": 12,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 12.1,
      },
      "original": {
        "x": 1,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 4.1,
        "y": 12.1,
      },
      "original": {
        "x": 4,
        "y": 12,
      },
    },
  ],
  "polygon": [
    [
      4.1,
      4.1,
    ],
    [
      7.9,
      4.1,
    ],
    [
      7.9,
      12.1,
    ],
    [
      12.1,
      12.1,
    ],
    [
      12.1,
      0.9,
    ],
    [
      0.9,
      0.9,
    ],
    [
      0.9,
      12.1,
    ],
    [
      4.1,
      12.1,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: u_shape_2_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 2.5,
        "y": 3.2,
      },
      "original": {
        "x": 2.4,
        "y": 3.3,
      },
    },
    {
      "offset": {
        "x": 2.5,
        "y": 2.5,
      },
      "original": {
        "x": 2.4,
        "y": 2.4,
      },
    },
    {
      "offset": {
        "x": 5.8,
        "y": 2.5,
      },
      "original": {
        "x": 5.7,
        "y": 2.4,
      },
    },
    {
      "offset": {
        "x": 5.8,
        "y": -0.1,
      },
      "original": {
        "x": 5.7,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": -0.1,
      },
      "original": {
        "x": 0,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": 4.9,
      },
      "original": {
        "x": 0,
        "y": 4.8,
      },
    },
    {
      "offset": {
        "x": 7.6,
        "y": 4.9,
      },
      "original": {
        "x": 7.5,
        "y": 4.8,
      },
    },
    {
      "offset": {
        "x": 7.6,
        "y": 3.2,
      },
      "original": {
        "x": 7.5,
        "y": 3.3,
      },
    },
  ],
  "polygon": [
    [
      2.5,
      3.2,
    ],
    [
      2.5,
      2.5,
    ],
    [
      5.8,
      2.5,
    ],
    [
      5.8,
      -0.1,
    ],
    [
      -0.1,
      -0.1,
    ],
    [
      -0.1,
      4.9,
    ],
    [
      7.6,
      4.9,
    ],
    [
      7.6,
      3.2,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 1: Point Preparation > should prepare points correctly for: u_shape_3_tier2 1`] = `
{
  "offsetCoordsOriginalCoordsMatched": [
    {
      "offset": {
        "x": 2.5,
        "y": 3.2,
      },
      "original": {
        "x": 2.4,
        "y": 3.3,
      },
    },
    {
      "offset": {
        "x": 2.5,
        "y": 2.51,
      },
      "original": {
        "x": 2.4,
        "y": 2.4,
      },
    },
    {
      "offset": {
        "x": 5.8,
        "y": 2.81,
      },
      "original": {
        "x": 5.7,
        "y": 2.7,
      },
    },
    {
      "offset": {
        "x": 5.8,
        "y": -0.1,
      },
      "original": {
        "x": 5.7,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": -0.1,
      },
      "original": {
        "x": 0,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": 4.9,
      },
      "original": {
        "x": 0,
        "y": 4.8,
      },
    },
    {
      "offset": {
        "x": 7.6,
        "y": 4.9,
      },
      "original": {
        "x": 7.5,
        "y": 4.8,
      },
    },
    {
      "offset": {
        "x": 7.6,
        "y": 3.2,
      },
      "original": {
        "x": 7.5,
        "y": 3.3,
      },
    },
  ],
  "polygon": [
    [
      2.5,
      3.2,
    ],
    [
      2.5,
      2.51,
    ],
    [
      5.8,
      2.81,
    ],
    [
      5.8,
      -0.1,
    ],
    [
      -0.1,
      -0.1,
    ],
    [
      -0.1,
      4.9,
    ],
    [
      7.6,
      4.9,
    ],
    [
      7.6,
      3.2,
    ],
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: bug_concave 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 12,
          "y": 12.14,
          "z": 3,
        },
        Vector3 {
          "x": 16.18,
          "y": 7.97,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 12.002016758688722,
        "y": 8.772011782193651,
        "z": 4.3757987705088235,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.1,
          "y": 8.24,
          "z": 3,
        },
        Vector3 {
          "x": 12.002016758688722,
          "y": 8.772011782193651,
          "z": 4.3757987705088235,
        },
      ],
      "source": Vector3 {
        "x": 6.885513619983074,
        "y": 5.307970510045735,
        "z": 3.701184038429906,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.885513619983074,
          "y": 5.307970510045735,
          "z": 3.701184038429906,
        },
        Vector3 {
          "x": 1.9,
          "y": 1.85,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.000000000000001,
        "y": 6.551270946882588,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.000000000000001,
          "y": 6.551270946882588,
          "z": 4.789785834487839,
        },
        Vector3 {
          "x": 1.9,
          "y": 14.1,
          "z": 3,
        },
        Vector3 {
          "x": 8.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5,
        "y": 11,
        "z": 4.789785834487839,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.3757987705088237,
      "sinks": [
        Point2 {
          "x": 12,
          "y": 12.14,
        },
        Point2 {
          "x": 16.18,
          "y": 7.97,
        },
      ],
      "source": Point2 {
        "x": 12.002016758688722,
        "y": 8.772011782193651,
      },
    },
    {
      "height": 0.7011840384299058,
      "sinks": [
        Point2 {
          "x": 8.1,
          "y": 8.24,
        },
        Point2 {
          "x": 12.002016758688722,
          "y": 8.772011782193651,
        },
      ],
      "source": Point2 {
        "x": 6.885513619983074,
        "y": 5.307970510045735,
      },
    },
    {
      "height": 1.789785834487839,
      "sinks": [
        Point2 {
          "x": 6.885513619983074,
          "y": 5.307970510045735,
        },
        Point2 {
          "x": 1.9,
          "y": 1.85,
        },
      ],
      "source": Point2 {
        "x": 5.000000000000001,
        "y": 6.551270946882588,
      },
    },
    {
      "height": 1.7897858344878395,
      "sinks": [
        Point2 {
          "x": 5.000000000000001,
          "y": 6.551270946882588,
        },
        Point2 {
          "x": 1.9,
          "y": 14.1,
        },
        Point2 {
          "x": 8.1,
          "y": 14.1,
        },
      ],
      "source": Point2 {
        "x": 5,
        "y": 11,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 8.1,
      "y": 3,
      "z": 8.24,
    },
    {
      "x": 12,
      "y": 3,
      "z": 12.14,
    },
    {
      "x": 16.18,
      "y": 3,
      "z": 7.97,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 1.85,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 12.002016758688722,
      "y": 4.3757987705088235,
      "z": 8.772011782193651,
    },
    {
      "x": 6.885513619983074,
      "y": 3.701184038429906,
      "z": 5.307970510045735,
    },
    {
      "x": 5.000000000000001,
      "y": 4.789785834487839,
      "z": 6.551270946882588,
    },
    {
      "x": 5,
      "y": 4.789785834487839,
      "z": 11,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_1 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 14.1,
          "z": 3,
        },
        Vector3 {
          "x": 8.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 12,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 12,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 8.1,
          "y": 11.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 9,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 16.1,
          "y": 5.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 14.000000000000002,
        "y": 3,
        "z": 4.212435565298215,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 14.000000000000002,
          "y": 3,
          "z": 4.212435565298215,
        },
        Vector3 {
          "x": 18.1,
          "y": 5.1,
          "z": 3,
        },
        Vector3 {
          "x": 18.1,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 16,
        "y": 3,
        "z": 4.212435565298215,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 6.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.4999999999999996,
        "y": 3.4999999999999996,
        "z": 4.501110699893027,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.4999999999999996,
          "y": 3.4999999999999996,
          "z": 4.501110699893027,
        },
        Vector3 {
          "x": 3.9,
          "y": 6.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.5,
        "y": 3.4999999999999996,
        "z": 4.501110699893027,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 18.1,
          "y": 7.9,
          "z": 3,
        },
        Vector3 {
          "x": 14.5,
          "y": 9.5,
          "z": 3.923760430703402,
        },
      ],
      "source": Vector3 {
        "x": 15.5,
        "y": 10.500000000000002,
        "z": 4.501110699893028,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 15.5,
          "y": 10.500000000000002,
          "z": 4.501110699893028,
        },
        Vector3 {
          "x": 12.9,
          "y": 18.1,
          "z": 3,
        },
        Vector3 {
          "x": 18.1,
          "y": 18.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 15.5,
        "y": 15.5,
        "z": 4.501110699893028,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.5,
          "y": 3.4999999999999996,
          "z": 4.501110699893027,
        },
        Vector3 {
          "x": 6,
          "y": 9,
          "z": 4.212435565298214,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 6,
        "z": 5.944486372867091,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 14.000000000000002,
          "y": 3,
          "z": 4.212435565298215,
        },
        Vector3 {
          "x": 9,
          "y": 6,
          "z": 5.944486372867091,
        },
        Vector3 {
          "x": 14.5,
          "y": 9.5,
          "z": 3.923760430703402,
        },
      ],
      "source": Vector3 {
        "x": 11,
        "y": 6.000000000000002,
        "z": 5.944486372867092,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.9,
          "y": 11.1,
          "z": 3,
        },
        Vector3 {
          "x": 16.1,
          "y": 7.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 14.5,
        "y": 9.5,
        "z": 3.923760430703402,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 3.9,
          "y": 14.1,
        },
        Point2 {
          "x": 8.1,
          "y": 14.1,
        },
      ],
      "source": Point2 {
        "x": 6,
        "y": 12,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 6,
          "y": 12,
        },
        Point2 {
          "x": 8.1,
          "y": 11.1,
        },
      ],
      "source": Point2 {
        "x": 6,
        "y": 9,
      },
    },
    {
      "height": 1.2124355652982142,
      "sinks": [
        Point2 {
          "x": 16.1,
          "y": 5.1,
        },
      ],
      "source": Point2 {
        "x": 14.000000000000002,
        "y": 3,
      },
    },
    {
      "height": 1.2124355652982148,
      "sinks": [
        Point2 {
          "x": 14.000000000000002,
          "y": 3,
        },
        Point2 {
          "x": 18.1,
          "y": 5.1,
        },
        Point2 {
          "x": 18.1,
          "y": 0.9,
        },
      ],
      "source": Point2 {
        "x": 16,
        "y": 3,
      },
    },
    {
      "height": 1.5011106998930266,
      "sinks": [
        Point2 {
          "x": 0.9,
          "y": 0.9,
        },
        Point2 {
          "x": 0.9,
          "y": 6.1,
        },
      ],
      "source": Point2 {
        "x": 3.4999999999999996,
        "y": 3.4999999999999996,
      },
    },
    {
      "height": 1.501110699893027,
      "sinks": [
        Point2 {
          "x": 3.4999999999999996,
          "y": 3.4999999999999996,
        },
        Point2 {
          "x": 3.9,
          "y": 6.1,
        },
      ],
      "source": Point2 {
        "x": 6.5,
        "y": 3.4999999999999996,
      },
    },
    {
      "height": 1.5011106998930277,
      "sinks": [
        Point2 {
          "x": 18.1,
          "y": 7.9,
        },
        Point2 {
          "x": 14.5,
          "y": 9.5,
        },
      ],
      "source": Point2 {
        "x": 15.5,
        "y": 10.500000000000002,
      },
    },
    {
      "height": 1.5011106998930277,
      "sinks": [
        Point2 {
          "x": 15.5,
          "y": 10.500000000000002,
        },
        Point2 {
          "x": 12.9,
          "y": 18.1,
        },
        Point2 {
          "x": 18.1,
          "y": 18.1,
        },
      ],
      "source": Point2 {
        "x": 15.5,
        "y": 15.5,
      },
    },
    {
      "height": 2.944486372867091,
      "sinks": [
        Point2 {
          "x": 6.5,
          "y": 3.4999999999999996,
        },
        Point2 {
          "x": 6,
          "y": 9,
        },
      ],
      "source": Point2 {
        "x": 9,
        "y": 6,
      },
    },
    {
      "height": 2.9444863728670922,
      "sinks": [
        Point2 {
          "x": 14.000000000000002,
          "y": 3,
        },
        Point2 {
          "x": 9,
          "y": 6,
        },
        Point2 {
          "x": 14.5,
          "y": 9.5,
        },
      ],
      "source": Point2 {
        "x": 11,
        "y": 6.000000000000002,
      },
    },
    {
      "height": 0.923760430703402,
      "sinks": [
        Point2 {
          "x": 12.9,
          "y": 11.1,
        },
        Point2 {
          "x": 16.1,
          "y": 7.9,
        },
      ],
      "source": Point2 {
        "x": 14.5,
        "y": 9.5,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 16.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 12.9,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 12.9,
      "y": 3,
      "z": 18.1,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 18.1,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 16.1,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 12,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 9,
    },
    {
      "x": 14.000000000000002,
      "y": 4.212435565298215,
      "z": 3,
    },
    {
      "x": 16,
      "y": 4.212435565298215,
      "z": 3,
    },
    {
      "x": 3.4999999999999996,
      "y": 4.501110699893027,
      "z": 3.4999999999999996,
    },
    {
      "x": 6.5,
      "y": 4.501110699893027,
      "z": 3.4999999999999996,
    },
    {
      "x": 15.5,
      "y": 4.501110699893028,
      "z": 10.500000000000002,
    },
    {
      "x": 15.5,
      "y": 4.501110699893028,
      "z": 15.5,
    },
    {
      "x": 9,
      "y": 5.944486372867091,
      "z": 6,
    },
    {
      "x": 11,
      "y": 5.944486372867092,
      "z": 6.000000000000002,
    },
    {
      "x": 14.5,
      "y": 3.923760430703402,
      "z": 9.5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 11.1,
          "y": 5.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 10.35002705971438,
        "y": 4.350027059714381,
        "z": 3.4329970789588367,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 10.35002705971438,
          "y": 4.350027059714381,
          "z": 3.4329970789588367,
        },
        Vector3 {
          "x": 14.1,
          "y": 5.1,
          "z": 3,
        },
        Vector3 {
          "x": 14.1,
          "y": 0.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 12.631073565666998,
        "y": 3.6310735656669983,
        "z": 3.8480850722819153,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.1,
          "y": 12.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.911782058693406,
        "y": 9.911782058693408,
        "z": 4.263368217458931,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.911782058693406,
          "y": 9.911782058693408,
          "z": 4.263368217458931,
        },
        Vector3 {
          "x": 3.97,
          "y": 7.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.720108145456102,
        "y": 10.279891854543898,
        "z": 4.374031202863118,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.720108145456102,
          "y": 10.279891854543898,
          "z": 4.374031202863118,
        },
        Vector3 {
          "x": 0.9,
          "y": 7.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 11,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4,
          "y": 11,
          "z": 4.789785834487839,
        },
        Vector3 {
          "x": 0.9,
          "y": 16.1,
          "z": 3,
        },
        Vector3 {
          "x": 7.1,
          "y": 16.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 13.000000000000002,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.911782058693406,
          "y": 9.911782058693408,
          "z": 4.263368217458931,
        },
        Vector3 {
          "x": 11.1,
          "y": 12.1,
          "z": 3,
        },
        Vector3 {
          "x": 10.35002705971438,
          "y": 4.350027059714381,
          "z": 3.4329970789588367,
        },
      ],
      "source": Vector3 {
        "x": 7.953177399963563,
        "y": 8.953177399963565,
        "z": 4.816818875223035,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.4329970789588366,
      "sinks": [
        Point2 {
          "x": 11.1,
          "y": 5.1,
        },
      ],
      "source": Point2 {
        "x": 10.35002705971438,
        "y": 4.350027059714381,
      },
    },
    {
      "height": 0.8480850722819154,
      "sinks": [
        Point2 {
          "x": 10.35002705971438,
          "y": 4.350027059714381,
        },
        Point2 {
          "x": 14.1,
          "y": 5.1,
        },
        Point2 {
          "x": 14.1,
          "y": 0.81,
        },
      ],
      "source": Point2 {
        "x": 12.631073565666998,
        "y": 3.6310735656669983,
      },
    },
    {
      "height": 1.2633682174589302,
      "sinks": [
        Point2 {
          "x": 7.1,
          "y": 12.1,
        },
      ],
      "source": Point2 {
        "x": 4.911782058693406,
        "y": 9.911782058693408,
      },
    },
    {
      "height": 1.3740312028631179,
      "sinks": [
        Point2 {
          "x": 4.911782058693406,
          "y": 9.911782058693408,
        },
        Point2 {
          "x": 3.97,
          "y": 7.9,
        },
      ],
      "source": Point2 {
        "x": 4.720108145456102,
        "y": 10.279891854543898,
      },
    },
    {
      "height": 1.7897858344878395,
      "sinks": [
        Point2 {
          "x": 4.720108145456102,
          "y": 10.279891854543898,
        },
        Point2 {
          "x": 0.9,
          "y": 7.9,
        },
      ],
      "source": Point2 {
        "x": 4,
        "y": 11,
      },
    },
    {
      "height": 1.7897858344878395,
      "sinks": [
        Point2 {
          "x": 4,
          "y": 11,
        },
        Point2 {
          "x": 0.9,
          "y": 16.1,
        },
        Point2 {
          "x": 7.1,
          "y": 16.1,
        },
      ],
      "source": Point2 {
        "x": 4,
        "y": 13.000000000000002,
      },
    },
    {
      "height": 1.8168188752230348,
      "sinks": [
        Point2 {
          "x": 4.911782058693406,
          "y": 9.911782058693408,
        },
        Point2 {
          "x": 11.1,
          "y": 12.1,
        },
        Point2 {
          "x": 10.35002705971438,
          "y": 4.350027059714381,
        },
      ],
      "source": Point2 {
        "x": 7.953177399963563,
        "y": 8.953177399963565,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 3.97,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": 10.35002705971438,
      "y": 3.4329970789588367,
      "z": 4.350027059714381,
    },
    {
      "x": 12.631073565666998,
      "y": 3.8480850722819153,
      "z": 3.6310735656669983,
    },
    {
      "x": 4.911782058693406,
      "y": 4.263368217458931,
      "z": 9.911782058693408,
    },
    {
      "x": 4.720108145456102,
      "y": 4.374031202863118,
      "z": 10.279891854543898,
    },
    {
      "x": 4,
      "y": 4.789785834487839,
      "z": 11,
    },
    {
      "x": 4,
      "y": 4.789785834487839,
      "z": 13.000000000000002,
    },
    {
      "x": 7.953177399963563,
      "y": 4.816818875223035,
      "z": 8.953177399963565,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_3 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 3.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 10.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 7,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 3.9,
          "z": 3,
        },
        Vector3 {
          "x": 4,
          "y": 7,
          "z": 4.78978583448784,
        },
      ],
      "source": Vector3 {
        "x": 7.000000000000001,
        "y": 7,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.9,
          "y": 10.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 13,
        "y": 6.999999999999999,
        "z": 4.789785834487841,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 16.1,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 13,
          "y": 6.999999999999999,
          "z": 4.789785834487841,
        },
      ],
      "source": Vector3 {
        "x": 13,
        "y": 8,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 17.1,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 13,
          "y": 8,
          "z": 4.789785834487839,
        },
      ],
      "source": Vector3 {
        "x": 13.5,
        "y": 8.5,
        "z": 5.078460969082652,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 13.5,
          "y": 8.5,
          "z": 5.078460969082652,
        },
        Vector3 {
          "x": 9.9,
          "y": 14.1,
          "z": 3,
        },
        Vector3 {
          "x": 17.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 13.5,
        "y": 10.5,
        "z": 5.078460969082652,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 7.000000000000001,
          "y": 7,
          "z": 4.789785834487839,
        },
      ],
      "source": Vector3 {
        "x": 8.5,
        "y": 5.500000000000001,
        "z": 5.655811238272278,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 13,
          "y": 6.999999999999999,
          "z": 4.789785834487841,
        },
        Vector3 {
          "x": 16.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 8.5,
          "y": 5.500000000000001,
          "z": 5.655811238272278,
        },
      ],
      "source": Vector3 {
        "x": 11.500000000000002,
        "y": 5.500000000000001,
        "z": 5.655811238272278,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.78978583448784,
      "sinks": [
        Point2 {
          "x": 0.9,
          "y": 3.9,
        },
        Point2 {
          "x": 0.9,
          "y": 10.1,
        },
      ],
      "source": Point2 {
        "x": 4,
        "y": 7,
      },
    },
    {
      "height": 1.7897858344878395,
      "sinks": [
        Point2 {
          "x": 3.9,
          "y": 3.9,
        },
        Point2 {
          "x": 4,
          "y": 7,
        },
      ],
      "source": Point2 {
        "x": 7.000000000000001,
        "y": 7,
      },
    },
    {
      "height": 1.7897858344878406,
      "sinks": [
        Point2 {
          "x": 9.9,
          "y": 10.1,
        },
      ],
      "source": Point2 {
        "x": 13,
        "y": 6.999999999999999,
      },
    },
    {
      "height": 1.7897858344878395,
      "sinks": [
        Point2 {
          "x": 16.1,
          "y": 4.9,
        },
        Point2 {
          "x": 13,
          "y": 6.999999999999999,
        },
      ],
      "source": Point2 {
        "x": 13,
        "y": 8,
      },
    },
    {
      "height": 2.0784609690826525,
      "sinks": [
        Point2 {
          "x": 17.1,
          "y": 4.9,
        },
        Point2 {
          "x": 13,
          "y": 8,
        },
      ],
      "source": Point2 {
        "x": 13.5,
        "y": 8.5,
      },
    },
    {
      "height": 2.0784609690826525,
      "sinks": [
        Point2 {
          "x": 13.5,
          "y": 8.5,
        },
        Point2 {
          "x": 9.9,
          "y": 14.1,
        },
        Point2 {
          "x": 17.1,
          "y": 14.1,
        },
      ],
      "source": Point2 {
        "x": 13.5,
        "y": 10.5,
      },
    },
    {
      "height": 2.6558112382722783,
      "sinks": [
        Point2 {
          "x": 3.9,
          "y": 0.9,
        },
        Point2 {
          "x": 7.000000000000001,
          "y": 7,
        },
      ],
      "source": Point2 {
        "x": 8.5,
        "y": 5.500000000000001,
      },
    },
    {
      "height": 2.6558112382722783,
      "sinks": [
        Point2 {
          "x": 13,
          "y": 6.999999999999999,
        },
        Point2 {
          "x": 16.1,
          "y": 0.9,
        },
        Point2 {
          "x": 8.5,
          "y": 5.500000000000001,
        },
      ],
      "source": Point2 {
        "x": 11.500000000000002,
        "y": 5.500000000000001,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 9.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 9.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 17.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 17.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 16.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 16.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 7,
    },
    {
      "x": 7.000000000000001,
      "y": 4.789785834487839,
      "z": 7,
    },
    {
      "x": 13,
      "y": 4.789785834487841,
      "z": 6.999999999999999,
    },
    {
      "x": 13,
      "y": 4.789785834487839,
      "z": 8,
    },
    {
      "x": 13.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 13.5,
      "y": 5.078460969082652,
      "z": 10.5,
    },
    {
      "x": 8.5,
      "y": 5.655811238272278,
      "z": 5.500000000000001,
    },
    {
      "x": 11.500000000000002,
      "y": 5.655811238272278,
      "z": 5.500000000000001,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_4_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 4.17,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.705000000000003,
        "y": 4.275,
        "z": 4.4635829323957,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.705000000000003,
          "y": 4.275,
          "z": 4.4635829323957,
        },
        Vector3 {
          "x": 4.17,
          "y": 9.24,
          "z": 3,
        },
        Vector3 {
          "x": 9.24,
          "y": 9.21,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.705,
        "y": 6.689955621690224,
        "z": 4.463582932395701,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.81,
          "y": -3.76,
          "z": 3,
        },
        Vector3 {
          "x": -6.81,
          "y": 1.93,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.965,
        "y": -0.9149999999999998,
        "z": 4.642561515844485,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.965,
          "y": -0.9149999999999998,
          "z": 4.642561515844485,
        },
        Vector3 {
          "x": -4.37,
          "y": 1.93,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.5250000000000004,
        "y": -0.9149999999999998,
        "z": 4.642561515844485,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.12,
          "y": 4.98,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.5699999999999985,
        "y": 1.5299999999999994,
        "z": 4.99185842870421,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.02,
          "y": -0.71,
          "z": 3,
        },
        Vector3 {
          "x": 4.5699999999999985,
          "y": 1.5299999999999994,
          "z": 4.99185842870421,
        },
      ],
      "source": Vector3 {
        "x": 4.5699999999999985,
        "y": 2.7399999999999993,
        "z": 4.991858428704208,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.02,
          "y": -5.59,
          "z": 3,
        },
        Vector3 {
          "x": 0.51,
          "y": -5.59,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.265,
        "y": -1.8350000000000004,
        "z": 5.167950260807045,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.265,
          "y": -1.8350000000000004,
          "z": 5.167950260807045,
        },
        Vector3 {
          "x": 0.51,
          "y": -3.76,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.265,
        "y": -0.0050000000000001155,
        "z": 5.167950260807045,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.5699999999999985,
          "y": 2.7399999999999993,
          "z": 4.991858428704208,
        },
        Vector3 {
          "x": 1.12,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.879999999999999,
        "y": 3.0500000000000003,
        "z": 5.170837012152992,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.879999999999999,
          "y": 3.0500000000000003,
          "z": 5.170837012152992,
        },
        Vector3 {
          "x": 6.705000000000003,
          "y": 4.275,
          "z": 4.4635829323957,
        },
        Vector3 {
          "x": 9.24,
          "y": -0.71,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.480000000000001,
        "y": 3.049999999999999,
        "z": 5.170837012152992,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.5250000000000004,
          "y": -0.9149999999999998,
          "z": 4.642561515844485,
        },
        Vector3 {
          "x": -4.37,
          "y": 4.98,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.220446049250313e-16,
        "y": 0.6100000000000008,
        "z": 5.523020676358664,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.5699999999999985,
          "y": 1.5299999999999994,
          "z": 4.99185842870421,
        },
        Vector3 {
          "x": 4.265,
          "y": -0.0050000000000001155,
          "z": 5.167950260807045,
        },
        Vector3 {
          "x": 2.220446049250313e-16,
          "y": 0.6100000000000008,
          "z": 5.523020676358664,
        },
      ],
      "source": Vector3 {
        "x": 3.6499999999999995,
        "y": 0.6100000000000002,
        "z": 5.523020676358664,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.4635829323956997,
      "sinks": [
        Point2 {
          "x": 4.17,
          "y": 6.81,
        },
      ],
      "source": Point2 {
        "x": 6.705000000000003,
        "y": 4.275,
      },
    },
    {
      "height": 1.4635829323957008,
      "sinks": [
        Point2 {
          "x": 6.705000000000003,
          "y": 4.275,
        },
        Point2 {
          "x": 4.17,
          "y": 9.24,
        },
        Point2 {
          "x": 9.24,
          "y": 9.21,
        },
      ],
      "source": Point2 {
        "x": 6.705,
        "y": 6.689955621690224,
      },
    },
    {
      "height": 1.642561515844485,
      "sinks": [
        Point2 {
          "x": -6.81,
          "y": -3.76,
        },
        Point2 {
          "x": -6.81,
          "y": 1.93,
        },
      ],
      "source": Point2 {
        "x": -3.965,
        "y": -0.9149999999999998,
      },
    },
    {
      "height": 1.642561515844485,
      "sinks": [
        Point2 {
          "x": -3.965,
          "y": -0.9149999999999998,
        },
        Point2 {
          "x": -4.37,
          "y": 1.93,
        },
      ],
      "source": Point2 {
        "x": -1.5250000000000004,
        "y": -0.9149999999999998,
      },
    },
    {
      "height": 1.9918584287042094,
      "sinks": [
        Point2 {
          "x": 1.12,
          "y": 4.98,
        },
      ],
      "source": Point2 {
        "x": 4.5699999999999985,
        "y": 1.5299999999999994,
      },
    },
    {
      "height": 1.9918584287042078,
      "sinks": [
        Point2 {
          "x": 8.02,
          "y": -0.71,
        },
        Point2 {
          "x": 4.5699999999999985,
          "y": 1.5299999999999994,
        },
      ],
      "source": Point2 {
        "x": 4.5699999999999985,
        "y": 2.7399999999999993,
      },
    },
    {
      "height": 2.1679502608070442,
      "sinks": [
        Point2 {
          "x": 8.02,
          "y": -5.59,
        },
        Point2 {
          "x": 0.51,
          "y": -5.59,
        },
      ],
      "source": Point2 {
        "x": 4.265,
        "y": -1.8350000000000004,
      },
    },
    {
      "height": 2.1679502608070447,
      "sinks": [
        Point2 {
          "x": 4.265,
          "y": -1.8350000000000004,
        },
        Point2 {
          "x": 0.51,
          "y": -3.76,
        },
      ],
      "source": Point2 {
        "x": 4.265,
        "y": -0.0050000000000001155,
      },
    },
    {
      "height": 2.170837012152992,
      "sinks": [
        Point2 {
          "x": 4.5699999999999985,
          "y": 2.7399999999999993,
        },
        Point2 {
          "x": 1.12,
          "y": 6.81,
        },
      ],
      "source": Point2 {
        "x": 4.879999999999999,
        "y": 3.0500000000000003,
      },
    },
    {
      "height": 2.170837012152992,
      "sinks": [
        Point2 {
          "x": 4.879999999999999,
          "y": 3.0500000000000003,
        },
        Point2 {
          "x": 6.705000000000003,
          "y": 4.275,
        },
        Point2 {
          "x": 9.24,
          "y": -0.71,
        },
      ],
      "source": Point2 {
        "x": 5.480000000000001,
        "y": 3.049999999999999,
      },
    },
    {
      "height": 2.5230206763586644,
      "sinks": [
        Point2 {
          "x": -1.5250000000000004,
          "y": -0.9149999999999998,
        },
        Point2 {
          "x": -4.37,
          "y": 4.98,
        },
      ],
      "source": Point2 {
        "x": 2.220446049250313e-16,
        "y": 0.6100000000000008,
      },
    },
    {
      "height": 2.5230206763586644,
      "sinks": [
        Point2 {
          "x": 4.5699999999999985,
          "y": 1.5299999999999994,
        },
        Point2 {
          "x": 4.265,
          "y": -0.0050000000000001155,
        },
        Point2 {
          "x": 2.220446049250313e-16,
          "y": 0.6100000000000008,
        },
      ],
      "source": Point2 {
        "x": 3.6499999999999995,
        "y": 0.6100000000000002,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 1.12,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 1.12,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 4.17,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 4.17,
      "y": 3,
      "z": 9.24,
    },
    {
      "x": 9.24,
      "y": 3,
      "z": 9.21,
    },
    {
      "x": 9.24,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 0.51,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 0.51,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -6.81,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -6.81,
      "y": 3,
      "z": 1.93,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 1.93,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 6.705000000000003,
      "y": 4.4635829323957,
      "z": 4.275,
    },
    {
      "x": 6.705,
      "y": 4.463582932395701,
      "z": 6.689955621690224,
    },
    {
      "x": -3.965,
      "y": 4.642561515844485,
      "z": -0.9149999999999998,
    },
    {
      "x": -1.5250000000000004,
      "y": 4.642561515844485,
      "z": -0.9149999999999998,
    },
    {
      "x": 4.5699999999999985,
      "y": 4.99185842870421,
      "z": 1.5299999999999994,
    },
    {
      "x": 4.5699999999999985,
      "y": 4.991858428704208,
      "z": 2.7399999999999993,
    },
    {
      "x": 4.265,
      "y": 5.167950260807045,
      "z": -1.8350000000000004,
    },
    {
      "x": 4.265,
      "y": 5.167950260807045,
      "z": -0.0050000000000001155,
    },
    {
      "x": 4.879999999999999,
      "y": 5.170837012152992,
      "z": 3.0500000000000003,
    },
    {
      "x": 5.480000000000001,
      "y": 5.170837012152992,
      "z": 3.049999999999999,
    },
    {
      "x": 2.220446049250313e-16,
      "y": 5.523020676358664,
      "z": 0.6100000000000008,
    },
    {
      "x": 3.6499999999999995,
      "y": 5.523020676358664,
      "z": 0.6100000000000002,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_5_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 10.46,
          "y": 4.37,
          "z": 3,
        },
        Vector3 {
          "x": 10.46,
          "y": 2.34,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9.445,
        "y": 3.355,
        "z": 3.5860105232274706,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.445,
          "y": 3.355,
          "z": 3.5860105232274706,
        },
        Vector3 {
          "x": 4.37,
          "y": 2.34,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.3550000000000004,
        "y": 3.355,
        "z": 3.58601052322747,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.1,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.2200000000000002,
        "y": 5.49,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.93,
          "y": 4.17,
          "z": 3,
        },
        Vector3 {
          "x": -1.2200000000000002,
          "y": 5.49,
          "z": 3.762102355330306,
        },
      ],
      "source": Vector3 {
        "x": -0.6100000000000005,
        "y": 5.49,
        "z": 3.7621023553303057,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.76,
          "y": 4.37,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.135,
        "y": 2.745,
        "z": 3.938194187433142,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.135,
          "y": 2.745,
          "z": 3.938194187433142,
        },
        Vector3 {
          "x": 3.3550000000000004,
          "y": 3.355,
          "z": 3.58601052322747,
        },
      ],
      "source": Vector3 {
        "x": 2.7450000000000006,
        "y": 2.745,
        "z": 3.938194187433142,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.95,
          "y": 1.12,
          "z": 3,
        },
        Vector3 {
          "x": 2.7450000000000006,
          "y": 2.745,
          "z": 3.938194187433142,
        },
      ],
      "source": Vector3 {
        "x": 3.66,
        "y": 1.8300000000000003,
        "z": 3.409918691124634,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.66,
          "y": 1.8300000000000003,
          "z": 3.409918691124634,
        },
        Vector3 {
          "x": 4.37,
          "y": 1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.66,
        "y": 0.6100000000000001,
        "z": 3.409918691124634,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.2,
          "y": 6,
          "z": 3,
        },
        Vector3 {
          "x": -6.2,
          "y": 9.85,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.275,
        "y": 7.925,
        "z": 4.111399268190029,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.2200000000000002,
          "y": 5.49,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": -3.76,
          "y": 4.17,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.8299999999999998,
        "y": 6.1,
        "z": 4.114286019535977,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.76,
          "y": 6,
          "z": 3,
        },
        Vector3 {
          "x": -4.275,
          "y": 7.925,
          "z": 4.111399268190029,
        },
        Vector3 {
          "x": 0.1,
          "y": 9.85,
          "z": 3,
        },
        Vector3 {
          "x": -1.8299999999999998,
          "y": 6.1,
          "z": 4.114286019535977,
        },
      ],
      "source": Vector3 {
        "x": -1.8325,
        "y": 7.9225,
        "z": 4.1128426438630035,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.42,
          "y": -3.15,
          "z": 3,
        },
        Vector3 {
          "x": 2.95,
          "y": -3.15,
          "z": 3,
        },
        Vector3 {
          "x": 3.66,
          "y": 0.6100000000000001,
          "z": 3.409918691124634,
        },
        Vector3 {
          "x": 7.42,
          "y": 1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.1850000000000005,
        "y": -0.9149999999999999,
        "z": 4.290377851638814,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.93,
          "y": 1.12,
          "z": 3,
        },
        Vector3 {
          "x": -0.6100000000000005,
          "y": 5.49,
          "z": 3.7621023553303057,
        },
        Vector3 {
          "x": 2.135,
          "y": 2.745,
          "z": 3.938194187433142,
        },
        Vector3 {
          "x": 3.76,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9149999999999999,
        "y": 3.965,
        "z": 4.642561515844485,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.5860105232274705,
      "sinks": [
        Point2 {
          "x": 10.46,
          "y": 4.37,
        },
        Point2 {
          "x": 10.46,
          "y": 2.34,
        },
      ],
      "source": Point2 {
        "x": 9.445,
        "y": 3.355,
      },
    },
    {
      "height": 0.5860105232274702,
      "sinks": [
        Point2 {
          "x": 9.445,
          "y": 3.355,
        },
        Point2 {
          "x": 4.37,
          "y": 2.34,
        },
      ],
      "source": Point2 {
        "x": 3.3550000000000004,
        "y": 3.355,
      },
    },
    {
      "height": 0.7621023553303061,
      "sinks": [
        Point2 {
          "x": 0.1,
          "y": 6.81,
        },
      ],
      "source": Point2 {
        "x": -1.2200000000000002,
        "y": 5.49,
      },
    },
    {
      "height": 0.7621023553303056,
      "sinks": [
        Point2 {
          "x": -1.93,
          "y": 4.17,
        },
        Point2 {
          "x": -1.2200000000000002,
          "y": 5.49,
        },
      ],
      "source": Point2 {
        "x": -0.6100000000000005,
        "y": 5.49,
      },
    },
    {
      "height": 0.9381941874331419,
      "sinks": [
        Point2 {
          "x": 3.76,
          "y": 4.37,
        },
      ],
      "source": Point2 {
        "x": 2.135,
        "y": 2.745,
      },
    },
    {
      "height": 0.9381941874331419,
      "sinks": [
        Point2 {
          "x": 2.135,
          "y": 2.745,
        },
        Point2 {
          "x": 3.3550000000000004,
          "y": 3.355,
        },
      ],
      "source": Point2 {
        "x": 2.7450000000000006,
        "y": 2.745,
      },
    },
    {
      "height": 0.40991869112463436,
      "sinks": [
        Point2 {
          "x": 2.95,
          "y": 1.12,
        },
        Point2 {
          "x": 2.7450000000000006,
          "y": 2.745,
        },
      ],
      "source": Point2 {
        "x": 3.66,
        "y": 1.8300000000000003,
      },
    },
    {
      "height": 0.40991869112463425,
      "sinks": [
        Point2 {
          "x": 3.66,
          "y": 1.8300000000000003,
        },
        Point2 {
          "x": 4.37,
          "y": 1.32,
        },
      ],
      "source": Point2 {
        "x": 3.66,
        "y": 0.6100000000000001,
      },
    },
    {
      "height": 1.1113992681900293,
      "sinks": [
        Point2 {
          "x": -6.2,
          "y": 6,
        },
        Point2 {
          "x": -6.2,
          "y": 9.85,
        },
      ],
      "source": Point2 {
        "x": -4.275,
        "y": 7.925,
      },
    },
    {
      "height": 1.1142860195359774,
      "sinks": [
        Point2 {
          "x": -1.2200000000000002,
          "y": 5.49,
        },
        Point2 {
          "x": -3.76,
          "y": 4.17,
        },
      ],
      "source": Point2 {
        "x": -1.8299999999999998,
        "y": 6.1,
      },
    },
    {
      "height": 1.1128426438630032,
      "sinks": [
        Point2 {
          "x": -3.76,
          "y": 6,
        },
        Point2 {
          "x": -4.275,
          "y": 7.925,
        },
        Point2 {
          "x": 0.1,
          "y": 9.85,
        },
        Point2 {
          "x": -1.8299999999999998,
          "y": 6.1,
        },
      ],
      "source": Point2 {
        "x": -1.8325,
        "y": 7.9225,
      },
    },
    {
      "height": 1.2903778516388138,
      "sinks": [
        Point2 {
          "x": 7.42,
          "y": -3.15,
        },
        Point2 {
          "x": 2.95,
          "y": -3.15,
        },
        Point2 {
          "x": 3.66,
          "y": 0.6100000000000001,
        },
        Point2 {
          "x": 7.42,
          "y": 1.32,
        },
      ],
      "source": Point2 {
        "x": 5.1850000000000005,
        "y": -0.9149999999999999,
      },
    },
    {
      "height": 1.642561515844485,
      "sinks": [
        Point2 {
          "x": -1.93,
          "y": 1.12,
        },
        Point2 {
          "x": -0.6100000000000005,
          "y": 5.49,
        },
        Point2 {
          "x": 2.135,
          "y": 2.745,
        },
        Point2 {
          "x": 3.76,
          "y": 6.81,
        },
      ],
      "source": Point2 {
        "x": 0.9149999999999999,
        "y": 3.965,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 4.37,
      "y": 3,
      "z": 2.34,
    },
    {
      "x": 4.37,
      "y": 3,
      "z": 1.32,
    },
    {
      "x": 7.42,
      "y": 3,
      "z": 1.32,
    },
    {
      "x": 7.42,
      "y": 3,
      "z": -3.15,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": -3.15,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": 1.12,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 1.12,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 4.17,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 4.17,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 6,
    },
    {
      "x": -6.2,
      "y": 3,
      "z": 6,
    },
    {
      "x": -6.2,
      "y": 3,
      "z": 9.85,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 9.85,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 3.76,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 3.76,
      "y": 3,
      "z": 4.37,
    },
    {
      "x": 10.46,
      "y": 3,
      "z": 4.37,
    },
    {
      "x": 10.46,
      "y": 3,
      "z": 2.34,
    },
    {
      "x": 9.445,
      "y": 3.5860105232274706,
      "z": 3.355,
    },
    {
      "x": 3.3550000000000004,
      "y": 3.58601052322747,
      "z": 3.355,
    },
    {
      "x": -1.2200000000000002,
      "y": 3.762102355330306,
      "z": 5.49,
    },
    {
      "x": -0.6100000000000005,
      "y": 3.7621023553303057,
      "z": 5.49,
    },
    {
      "x": 2.135,
      "y": 3.938194187433142,
      "z": 2.745,
    },
    {
      "x": 2.7450000000000006,
      "y": 3.938194187433142,
      "z": 2.745,
    },
    {
      "x": 3.66,
      "y": 3.409918691124634,
      "z": 1.8300000000000003,
    },
    {
      "x": 3.66,
      "y": 3.409918691124634,
      "z": 0.6100000000000001,
    },
    {
      "x": -4.275,
      "y": 4.111399268190029,
      "z": 7.925,
    },
    {
      "x": -1.8299999999999998,
      "y": 4.114286019535977,
      "z": 6.1,
    },
    {
      "x": -1.8325,
      "y": 4.1128426438630035,
      "z": 7.9225,
    },
    {
      "x": 5.1850000000000005,
      "y": 4.290377851638814,
      "z": -0.9149999999999999,
    },
    {
      "x": 0.9149999999999999,
      "y": 4.642561515844485,
      "z": 3.965,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_6_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": -0.31,
          "y": -3.76,
          "z": 3,
        },
        Vector3 {
          "x": -3.25,
          "y": -3.76,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.78,
        "y": -2.29,
        "z": 3.8487048957087495,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.78,
          "y": -2.29,
          "z": 3.8487048957087495,
        },
        Vector3 {
          "x": -3.25,
          "y": -1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.78,
        "y": 0.1499999999999999,
        "z": 3.84870489570875,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -9.66,
          "y": 7.5,
          "z": 3,
        },
        Vector3 {
          "x": -7.01,
          "y": 7.42,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -7.048900608425285,
        "y": 4.842247646550684,
        "z": 4.488266015168154,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.93,
          "y": 7.42,
          "z": 3,
        },
        Vector3 {
          "x": 1.93,
          "y": -0.51,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.0349999999999993,
        "y": 3.454999999999999,
        "z": 5.289193817336866,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.0349999999999993,
          "y": 3.454999999999999,
          "z": 5.289193817336866,
        },
        Vector3 {
          "x": -0.31,
          "y": -0.51,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.274999999999999,
        "y": 3.454999999999999,
        "z": 5.289193817336866,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -9.55,
          "y": -1.32,
          "z": 3,
        },
        Vector3 {
          "x": -7.048900608425285,
          "y": 4.842247646550684,
          "z": 4.488266015168154,
        },
      ],
      "source": Vector3 {
        "x": -5.234161287323641,
        "y": 3.0499999999999994,
        "z": 5.523020676358664,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.274999999999999,
          "y": 3.454999999999999,
          "z": 5.289193817336866,
        },
        Vector3 {
          "x": -1.78,
          "y": 0.1499999999999999,
          "z": 3.84870489570875,
        },
        Vector3 {
          "x": -5.234161287323641,
          "y": 3.0499999999999994,
          "z": 5.523020676358664,
        },
      ],
      "source": Vector3 {
        "x": -4.679999999999999,
        "y": 3.0499999999999985,
        "z": 5.523020676358664,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.8487048957087496,
      "sinks": [
        Point2 {
          "x": -0.31,
          "y": -3.76,
        },
        Point2 {
          "x": -3.25,
          "y": -3.76,
        },
      ],
      "source": Point2 {
        "x": -1.78,
        "y": -2.29,
      },
    },
    {
      "height": 0.8487048957087499,
      "sinks": [
        Point2 {
          "x": -1.78,
          "y": -2.29,
        },
        Point2 {
          "x": -3.25,
          "y": -1.32,
        },
      ],
      "source": Point2 {
        "x": -1.78,
        "y": 0.1499999999999999,
      },
    },
    {
      "height": 1.488266015168154,
      "sinks": [
        Point2 {
          "x": -9.66,
          "y": 7.5,
        },
        Point2 {
          "x": -7.01,
          "y": 7.42,
        },
      ],
      "source": Point2 {
        "x": -7.048900608425285,
        "y": 4.842247646550684,
      },
    },
    {
      "height": 2.2891938173368653,
      "sinks": [
        Point2 {
          "x": 1.93,
          "y": 7.42,
        },
        Point2 {
          "x": 1.93,
          "y": -0.51,
        },
      ],
      "source": Point2 {
        "x": -2.0349999999999993,
        "y": 3.454999999999999,
      },
    },
    {
      "height": 2.2891938173368653,
      "sinks": [
        Point2 {
          "x": -2.0349999999999993,
          "y": 3.454999999999999,
        },
        Point2 {
          "x": -0.31,
          "y": -0.51,
        },
      ],
      "source": Point2 {
        "x": -4.274999999999999,
        "y": 3.454999999999999,
      },
    },
    {
      "height": 2.5230206763586644,
      "sinks": [
        Point2 {
          "x": -9.55,
          "y": -1.32,
        },
        Point2 {
          "x": -7.048900608425285,
          "y": 4.842247646550684,
        },
      ],
      "source": Point2 {
        "x": -5.234161287323641,
        "y": 3.0499999999999994,
      },
    },
    {
      "height": 2.523020676358664,
      "sinks": [
        Point2 {
          "x": -4.274999999999999,
          "y": 3.454999999999999,
        },
        Point2 {
          "x": -1.78,
          "y": 0.1499999999999999,
        },
        Point2 {
          "x": -5.234161287323641,
          "y": 3.0499999999999994,
        },
      ],
      "source": Point2 {
        "x": -4.679999999999999,
        "y": 3.0499999999999985,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": -0.31,
      "y": 3,
      "z": -0.51,
    },
    {
      "x": -0.31,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -3.25,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -3.25,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -9.55,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -9.66,
      "y": 3,
      "z": 7.5,
    },
    {
      "x": -7.01,
      "y": 3,
      "z": 7.42,
    },
    {
      "x": 1.93,
      "y": 3,
      "z": 7.42,
    },
    {
      "x": 1.93,
      "y": 3,
      "z": -0.51,
    },
    {
      "x": -1.78,
      "y": 3.8487048957087495,
      "z": -2.29,
    },
    {
      "x": -1.78,
      "y": 3.84870489570875,
      "z": 0.1499999999999999,
    },
    {
      "x": -7.048900608425285,
      "y": 4.488266015168154,
      "z": 4.842247646550684,
    },
    {
      "x": -2.0349999999999993,
      "y": 5.289193817336866,
      "z": 3.454999999999999,
    },
    {
      "x": -4.274999999999999,
      "y": 5.289193817336866,
      "z": 3.454999999999999,
    },
    {
      "x": -5.234161287323641,
      "y": 5.523020676358664,
      "z": 3.0499999999999994,
    },
    {
      "x": -4.679999999999999,
      "y": 5.523020676358664,
      "z": 3.0499999999999985,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_7_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 4.3,
          "y": 0.4,
          "z": 3,
        },
        Vector3 {
          "x": 4.3,
          "y": -1.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.4499999999999997,
        "y": -0.44999999999999996,
        "z": 3.490747728811182,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.4499999999999997,
          "y": -0.44999999999999996,
          "z": 3.490747728811182,
        },
        Vector3 {
          "x": 7.3,
          "y": 0.4,
          "z": 3,
        },
        Vector3 {
          "x": 7.3,
          "y": -1.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.449999999999999,
        "y": -0.45000000000000007,
        "z": 3.4907477288111823,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.3,
          "y": 0.7,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.3,
        "y": -0.30000000000000004,
        "z": 3.5773502691896257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4,
          "y": -4.6,
          "z": 3,
        },
        Vector3 {
          "x": 1.4,
          "y": -4.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.7,
        "y": -3.3,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.7,
          "y": -3.3,
          "z": 3.7505553499465134,
        },
        Vector3 {
          "x": 1.4,
          "y": -4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.7,
        "y": -2.6999999999999997,
        "z": 3.750555349946514,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.1,
          "y": -1.9,
          "z": 3,
        },
        Vector3 {
          "x": -6.1,
          "y": 1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.6499999999999995,
        "y": -0.44999999999999973,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8,
          "y": -1.9,
          "z": 3,
        },
        Vector3 {
          "x": -4.6499999999999995,
          "y": -0.44999999999999973,
          "z": 3.8371578903249572,
        },
        Vector3 {
          "x": -2.8,
          "y": 1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.35,
        "y": -0.44999999999999973,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.3,
          "y": -0.30000000000000004,
          "z": 3.5773502691896257,
        },
        Vector3 {
          "x": 4.3,
          "y": -2.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.8499999999999996,
        "y": -0.7500000000000001,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.8499999999999996,
          "y": -0.7500000000000001,
          "z": 3.8371578903249572,
        },
        Vector3 {
          "x": 4,
          "y": -2.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.55,
        "y": -0.7500000000000001,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8,
          "y": -2.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.1999999999999997,
        "y": -0.6000000000000001,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.1999999999999997,
          "y": -0.6000000000000001,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": -2.8,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.7499999999999998,
        "y": -0.15000000000000013,
        "z": 4.183568051838733,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.9,
          "y": -2.2,
          "z": 3,
        },
        Vector3 {
          "x": -0.7499999999999998,
          "y": -0.15000000000000013,
          "z": 4.183568051838733,
        },
      ],
      "source": Vector3 {
        "x": 0.15000000000000036,
        "y": -0.1499999999999999,
        "z": 4.183568051838733,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.44999999999999984,
          "y": -1.65,
          "z": 4.35677313259562,
        },
        Vector3 {
          "x": 0.15000000000000036,
          "y": -0.1499999999999999,
          "z": 4.183568051838733,
        },
        Vector3 {
          "x": 2.8,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.4500000000000001,
        "y": -0.4499999999999997,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.44999999999999984,
          "y": -1.65,
          "z": 4.35677313259562,
        },
        Vector3 {
          "x": 2.55,
          "y": -0.7500000000000001,
          "z": 3.8371578903249572,
        },
        Vector3 {
          "x": 2.7,
          "y": -2.6999999999999997,
          "z": 3.750555349946514,
        },
      ],
      "source": Vector3 {
        "x": 1.6500000000000004,
        "y": -1.65,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.8,
          "y": 0.7,
          "z": 3,
        },
        Vector3 {
          "x": -1.9,
          "y": -4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.44999999999999984,
        "y": -1.65,
        "z": 4.35677313259562,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.49074772881118195,
      "sinks": [
        Point2 {
          "x": 4.3,
          "y": 0.4,
        },
        Point2 {
          "x": 4.3,
          "y": -1.3,
        },
      ],
      "source": Point2 {
        "x": 3.4499999999999997,
        "y": -0.44999999999999996,
      },
    },
    {
      "height": 0.49074772881118217,
      "sinks": [
        Point2 {
          "x": 3.4499999999999997,
          "y": -0.44999999999999996,
        },
        Point2 {
          "x": 7.3,
          "y": 0.4,
        },
        Point2 {
          "x": 7.3,
          "y": -1.3,
        },
      ],
      "source": Point2 {
        "x": 6.449999999999999,
        "y": -0.45000000000000007,
      },
    },
    {
      "height": 0.5773502691896257,
      "sinks": [
        Point2 {
          "x": 4.3,
          "y": 0.7,
        },
      ],
      "source": Point2 {
        "x": 3.3,
        "y": -0.30000000000000004,
      },
    },
    {
      "height": 0.7505553499465133,
      "sinks": [
        Point2 {
          "x": 4,
          "y": -4.6,
        },
        Point2 {
          "x": 1.4,
          "y": -4.6,
        },
      ],
      "source": Point2 {
        "x": 2.7,
        "y": -3.3,
      },
    },
    {
      "height": 0.7505553499465136,
      "sinks": [
        Point2 {
          "x": 2.7,
          "y": -3.3,
        },
        Point2 {
          "x": 1.4,
          "y": -4,
        },
      ],
      "source": Point2 {
        "x": 2.7,
        "y": -2.6999999999999997,
      },
    },
    {
      "height": 0.8371578903249575,
      "sinks": [
        Point2 {
          "x": -6.1,
          "y": -1.9,
        },
        Point2 {
          "x": -6.1,
          "y": 1,
        },
      ],
      "source": Point2 {
        "x": -4.6499999999999995,
        "y": -0.44999999999999973,
      },
    },
    {
      "height": 0.8371578903249571,
      "sinks": [
        Point2 {
          "x": -2.8,
          "y": -1.9,
        },
        Point2 {
          "x": -4.6499999999999995,
          "y": -0.44999999999999973,
        },
        Point2 {
          "x": -2.8,
          "y": 1,
        },
      ],
      "source": Point2 {
        "x": -1.35,
        "y": -0.44999999999999973,
      },
    },
    {
      "height": 0.8371578903249575,
      "sinks": [
        Point2 {
          "x": 3.3,
          "y": -0.30000000000000004,
        },
        Point2 {
          "x": 4.3,
          "y": -2.2,
        },
      ],
      "source": Point2 {
        "x": 2.8499999999999996,
        "y": -0.7500000000000001,
      },
    },
    {
      "height": 0.8371578903249575,
      "sinks": [
        Point2 {
          "x": 2.8499999999999996,
          "y": -0.7500000000000001,
        },
        Point2 {
          "x": 4,
          "y": -2.2,
        },
      ],
      "source": Point2 {
        "x": 2.55,
        "y": -0.7500000000000001,
      },
    },
    {
      "height": 0.9237604307034012,
      "sinks": [
        Point2 {
          "x": -2.8,
          "y": -2.2,
        },
      ],
      "source": Point2 {
        "x": -1.1999999999999997,
        "y": -0.6000000000000001,
      },
    },
    {
      "height": 1.1835680518387326,
      "sinks": [
        Point2 {
          "x": -1.1999999999999997,
          "y": -0.6000000000000001,
        },
        Point2 {
          "x": -2.8,
          "y": 1.9,
        },
      ],
      "source": Point2 {
        "x": -0.7499999999999998,
        "y": -0.15000000000000013,
      },
    },
    {
      "height": 1.1835680518387326,
      "sinks": [
        Point2 {
          "x": -1.9,
          "y": -2.2,
        },
        Point2 {
          "x": -0.7499999999999998,
          "y": -0.15000000000000013,
        },
      ],
      "source": Point2 {
        "x": 0.15000000000000036,
        "y": -0.1499999999999999,
      },
    },
    {
      "height": 1.3567731325956203,
      "sinks": [
        Point2 {
          "x": 0.44999999999999984,
          "y": -1.65,
        },
        Point2 {
          "x": 0.15000000000000036,
          "y": -0.1499999999999999,
        },
        Point2 {
          "x": 2.8,
          "y": 1.9,
        },
      ],
      "source": Point2 {
        "x": 0.4500000000000001,
        "y": -0.4499999999999997,
      },
    },
    {
      "height": 1.3567731325956205,
      "sinks": [
        Point2 {
          "x": 0.44999999999999984,
          "y": -1.65,
        },
        Point2 {
          "x": 2.55,
          "y": -0.7500000000000001,
        },
        Point2 {
          "x": 2.7,
          "y": -2.6999999999999997,
        },
      ],
      "source": Point2 {
        "x": 1.6500000000000004,
        "y": -1.65,
      },
    },
    {
      "height": 1.3567731325956203,
      "sinks": [
        Point2 {
          "x": 2.8,
          "y": 0.7,
        },
        Point2 {
          "x": -1.9,
          "y": -4,
        },
      ],
      "source": Point2 {
        "x": 0.44999999999999984,
        "y": -1.65,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": -2.8,
      "y": 3,
      "z": 1,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 0.7,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": 0.7,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 7.3,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 7.3,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 4,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 4,
      "y": 3,
      "z": -4.6,
    },
    {
      "x": 1.4,
      "y": 3,
      "z": -4.6,
    },
    {
      "x": 1.4,
      "y": 3,
      "z": -4,
    },
    {
      "x": -1.9,
      "y": 3,
      "z": -4,
    },
    {
      "x": -1.9,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -1.9,
    },
    {
      "x": -6.1,
      "y": 3,
      "z": -1.9,
    },
    {
      "x": -6.1,
      "y": 3,
      "z": 1,
    },
    {
      "x": 3.4499999999999997,
      "y": 3.490747728811182,
      "z": -0.44999999999999996,
    },
    {
      "x": 6.449999999999999,
      "y": 3.4907477288111823,
      "z": -0.45000000000000007,
    },
    {
      "x": 3.3,
      "y": 3.5773502691896257,
      "z": -0.30000000000000004,
    },
    {
      "x": 2.7,
      "y": 3.7505553499465134,
      "z": -3.3,
    },
    {
      "x": 2.7,
      "y": 3.750555349946514,
      "z": -2.6999999999999997,
    },
    {
      "x": -4.6499999999999995,
      "y": 3.8371578903249572,
      "z": -0.44999999999999973,
    },
    {
      "x": -1.35,
      "y": 3.8371578903249572,
      "z": -0.44999999999999973,
    },
    {
      "x": 2.8499999999999996,
      "y": 3.8371578903249572,
      "z": -0.7500000000000001,
    },
    {
      "x": 2.55,
      "y": 3.8371578903249572,
      "z": -0.7500000000000001,
    },
    {
      "x": -1.1999999999999997,
      "y": 3.923760430703401,
      "z": -0.6000000000000001,
    },
    {
      "x": -0.7499999999999998,
      "y": 4.183568051838733,
      "z": -0.15000000000000013,
    },
    {
      "x": 0.15000000000000036,
      "y": 4.183568051838733,
      "z": -0.1499999999999999,
    },
    {
      "x": 0.4500000000000001,
      "y": 4.35677313259562,
      "z": -0.4499999999999997,
    },
    {
      "x": 1.6500000000000004,
      "y": 4.35677313259562,
      "z": -1.65,
    },
    {
      "x": 0.44999999999999984,
      "y": 4.35677313259562,
      "z": -1.65,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_8_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 2.8,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": 2.8,
          "y": 1.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.9499999999999997,
        "y": 2.25,
        "z": 3.490747728811182,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.9499999999999997,
          "y": 2.25,
          "z": 3.490747728811182,
        },
        Vector3 {
          "x": -0.5,
          "y": 1.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.3500000000000005,
        "y": 2.25,
        "z": 3.490747728811182,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -10,
          "y": -5.2,
          "z": 3,
        },
        Vector3 {
          "x": -10,
          "y": -2.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -8.7,
        "y": -3.9000000000000004,
        "z": 3.750555349946514,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -8.7,
          "y": -3.9000000000000004,
          "z": 3.750555349946514,
        },
        Vector3 {
          "x": -7.9,
          "y": -2.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -6.6,
        "y": -3.9000000000000004,
        "z": 3.750555349946514,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.5,
          "y": -7,
          "z": 3,
        },
        Vector3 {
          "x": -3.1,
          "y": -7,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.8,
        "y": -5.7,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.5,
          "y": -5.2,
          "z": 3,
        },
        Vector3 {
          "x": -1.8,
          "y": -5.7,
          "z": 3.7505553499465134,
        },
        Vector3 {
          "x": -3.1,
          "y": -5.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.8000000000000007,
        "y": -3.9000000000000004,
        "z": 3.750555349946513,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.3,
          "y": -1.7,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.4500000000000002,
        "y": -3.45,
        "z": 4.010362971081845,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.4500000000000002,
          "y": -3.45,
          "z": 4.010362971081845,
        },
        Vector3 {
          "x": 5.2,
          "y": -1.7,
          "z": 3,
        },
        Vector3 {
          "x": 5.2,
          "y": -5.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.45,
        "y": -3.45,
        "z": 4.010362971081845,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.6,
          "y": -3.9000000000000004,
          "z": 3.750555349946514,
        },
        Vector3 {
          "x": -7.9,
          "y": -0.5,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -5.55,
        "y": -2.8500000000000005,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -5.55,
          "y": -2.8500000000000005,
          "z": 4.35677313259562,
        },
        Vector3 {
          "x": -5.5,
          "y": -0.5,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.1499999999999995,
        "y": -2.8500000000000005,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.3,
          "y": -0.5,
          "z": 3,
        },
        Vector3 {
          "x": -0.9000000000000004,
          "y": -3,
          "z": 4.270170592217177,
        },
      ],
      "source": Vector3 {
        "x": -1.0500000000000005,
        "y": -2.8500000000000005,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.5,
          "y": -0.5,
          "z": 3,
        },
        Vector3 {
          "x": -1.0500000000000005,
          "y": -2.8500000000000005,
          "z": 4.35677313259562,
        },
      ],
      "source": Vector3 {
        "x": -2.8500000000000005,
        "y": -2.8500000000000005,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8500000000000005,
          "y": -2.8500000000000005,
          "z": 4.35677313259562,
        },
        Vector3 {
          "x": -3.1499999999999995,
          "y": -2.8500000000000005,
          "z": 4.35677313259562,
        },
      ],
      "source": Vector3 {
        "x": -3,
        "y": -2.700000000000001,
        "z": 4.443375672974064,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3,
          "y": -2.700000000000001,
          "z": 4.443375672974064,
        },
        Vector3 {
          "x": -5.5,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": -1.3500000000000005,
          "y": 2.25,
          "z": 3.490747728811182,
        },
      ],
      "source": Vector3 {
        "x": -3,
        "y": 0.6000000000000003,
        "z": 4.4433756729740645,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.4500000000000002,
          "y": -3.45,
          "z": 4.010362971081845,
        },
      ],
      "source": Vector3 {
        "x": -0.9000000000000004,
        "y": -3,
        "z": 4.270170592217177,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.49074772881118195,
      "sinks": [
        Point2 {
          "x": 2.8,
          "y": 3.1,
        },
        Point2 {
          "x": 2.8,
          "y": 1.4,
        },
      ],
      "source": Point2 {
        "x": 1.9499999999999997,
        "y": 2.25,
      },
    },
    {
      "height": 0.49074772881118195,
      "sinks": [
        Point2 {
          "x": 1.9499999999999997,
          "y": 2.25,
        },
        Point2 {
          "x": -0.5,
          "y": 1.4,
        },
      ],
      "source": Point2 {
        "x": -1.3500000000000005,
        "y": 2.25,
      },
    },
    {
      "height": 0.7505553499465139,
      "sinks": [
        Point2 {
          "x": -10,
          "y": -5.2,
        },
        Point2 {
          "x": -10,
          "y": -2.6,
        },
      ],
      "source": Point2 {
        "x": -8.7,
        "y": -3.9000000000000004,
      },
    },
    {
      "height": 0.7505553499465136,
      "sinks": [
        Point2 {
          "x": -8.7,
          "y": -3.9000000000000004,
        },
        Point2 {
          "x": -7.9,
          "y": -2.6,
        },
      ],
      "source": Point2 {
        "x": -6.6,
        "y": -3.9000000000000004,
      },
    },
    {
      "height": 0.7505553499465133,
      "sinks": [
        Point2 {
          "x": -0.5,
          "y": -7,
        },
        Point2 {
          "x": -3.1,
          "y": -7,
        },
      ],
      "source": Point2 {
        "x": -1.8,
        "y": -5.7,
      },
    },
    {
      "height": 0.7505553499465131,
      "sinks": [
        Point2 {
          "x": -0.5,
          "y": -5.2,
        },
        Point2 {
          "x": -1.8,
          "y": -5.7,
        },
        Point2 {
          "x": -3.1,
          "y": -5.2,
        },
      ],
      "source": Point2 {
        "x": -1.8000000000000007,
        "y": -3.9000000000000004,
      },
    },
    {
      "height": 1.010362971081845,
      "sinks": [
        Point2 {
          "x": 1.3,
          "y": -1.7,
        },
      ],
      "source": Point2 {
        "x": -0.4500000000000002,
        "y": -3.45,
      },
    },
    {
      "height": 1.010362971081845,
      "sinks": [
        Point2 {
          "x": -0.4500000000000002,
          "y": -3.45,
        },
        Point2 {
          "x": 5.2,
          "y": -1.7,
        },
        Point2 {
          "x": 5.2,
          "y": -5.2,
        },
      ],
      "source": Point2 {
        "x": 3.45,
        "y": -3.45,
      },
    },
    {
      "height": 1.3567731325956207,
      "sinks": [
        Point2 {
          "x": -6.6,
          "y": -3.9000000000000004,
        },
        Point2 {
          "x": -7.9,
          "y": -0.5,
        },
      ],
      "source": Point2 {
        "x": -5.55,
        "y": -2.8500000000000005,
      },
    },
    {
      "height": 1.3567731325956207,
      "sinks": [
        Point2 {
          "x": -5.55,
          "y": -2.8500000000000005,
        },
        Point2 {
          "x": -5.5,
          "y": -0.5,
        },
      ],
      "source": Point2 {
        "x": -3.1499999999999995,
        "y": -2.8500000000000005,
      },
    },
    {
      "height": 1.3567731325956207,
      "sinks": [
        Point2 {
          "x": 1.3,
          "y": -0.5,
        },
        Point2 {
          "x": -0.9000000000000004,
          "y": -3,
        },
      ],
      "source": Point2 {
        "x": -1.0500000000000005,
        "y": -2.8500000000000005,
      },
    },
    {
      "height": 1.3567731325956207,
      "sinks": [
        Point2 {
          "x": -0.5,
          "y": -0.5,
        },
        Point2 {
          "x": -1.0500000000000005,
          "y": -2.8500000000000005,
        },
      ],
      "source": Point2 {
        "x": -2.8500000000000005,
        "y": -2.8500000000000005,
      },
    },
    {
      "height": 1.4433756729740639,
      "sinks": [
        Point2 {
          "x": -2.8500000000000005,
          "y": -2.8500000000000005,
        },
        Point2 {
          "x": -3.1499999999999995,
          "y": -2.8500000000000005,
        },
      ],
      "source": Point2 {
        "x": -3,
        "y": -2.700000000000001,
      },
    },
    {
      "height": 1.4433756729740643,
      "sinks": [
        Point2 {
          "x": -3,
          "y": -2.700000000000001,
        },
        Point2 {
          "x": -5.5,
          "y": 3.1,
        },
        Point2 {
          "x": -1.3500000000000005,
          "y": 2.25,
        },
      ],
      "source": Point2 {
        "x": -3,
        "y": 0.6000000000000003,
      },
    },
    {
      "height": 1.2701705922171767,
      "sinks": [
        Point2 {
          "x": -0.4500000000000002,
          "y": -3.45,
        },
      ],
      "source": Point2 {
        "x": -0.9000000000000004,
        "y": -3,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": -0.5,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": 1.3,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": 1.3,
      "y": 3,
      "z": -1.7,
    },
    {
      "x": 5.2,
      "y": 3,
      "z": -1.7,
    },
    {
      "x": 5.2,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": -7,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": -7,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -10,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -10,
      "y": 3,
      "z": -2.6,
    },
    {
      "x": -7.9,
      "y": 3,
      "z": -2.6,
    },
    {
      "x": -7.9,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -5.5,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -5.5,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 1.9499999999999997,
      "y": 3.490747728811182,
      "z": 2.25,
    },
    {
      "x": -1.3500000000000005,
      "y": 3.490747728811182,
      "z": 2.25,
    },
    {
      "x": -8.7,
      "y": 3.750555349946514,
      "z": -3.9000000000000004,
    },
    {
      "x": -6.6,
      "y": 3.750555349946514,
      "z": -3.9000000000000004,
    },
    {
      "x": -1.8,
      "y": 3.7505553499465134,
      "z": -5.7,
    },
    {
      "x": -1.8000000000000007,
      "y": 3.750555349946513,
      "z": -3.9000000000000004,
    },
    {
      "x": -0.4500000000000002,
      "y": 4.010362971081845,
      "z": -3.45,
    },
    {
      "x": 3.45,
      "y": 4.010362971081845,
      "z": -3.45,
    },
    {
      "x": -5.55,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -3.1499999999999995,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -1.0500000000000005,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -2.8500000000000005,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -3,
      "y": 4.443375672974064,
      "z": -2.700000000000001,
    },
    {
      "x": -3,
      "y": 4.4433756729740645,
      "z": 0.6000000000000003,
    },
    {
      "x": -0.9000000000000004,
      "y": 4.270170592217177,
      "z": -3,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_9_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": -0.5,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": -0.5,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.5,
        "y": 0.8999999999999999,
        "z": 3.5773502691896257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.5,
          "y": 0.8999999999999999,
          "z": 3.5773502691896257,
        },
        Vector3 {
          "x": -1.7,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.6999999999999997,
        "y": 0.8999999999999999,
        "z": 3.5773502691896257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.7,
          "y": -0.8,
          "z": 3,
        },
        Vector3 {
          "x": -1.7,
          "y": -4.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.45,
        "y": -2.5500000000000003,
        "z": 4.010362971081845,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.45,
          "y": -2.5500000000000003,
          "z": 4.010362971081845,
        },
        Vector3 {
          "x": 3.1,
          "y": -0.8,
          "z": 3,
        },
        Vector3 {
          "x": 3.1,
          "y": -4.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.3500000000000003,
        "y": -2.55,
        "z": 4.010362971081845,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.7,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": -2.9,
          "y": 3.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.8,
        "y": 1.2,
        "z": 4.096965511460289,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.8,
          "y": 1.2,
          "z": 4.096965511460289,
        },
        Vector3 {
          "x": -2.9,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.8,
        "y": 0,
        "z": 4.096965511460288,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.7,
          "y": -4.9,
          "z": 3,
        },
        Vector3 {
          "x": -6.7,
          "y": -4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.2,
        "y": -2.4000000000000004,
        "z": 4.4433756729740645,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.2,
          "y": -1.7999999999999998,
          "z": 4.4433756729740645,
        },
        Vector3 {
          "x": -4.8,
          "y": 0,
          "z": 4.096965511460288,
        },
        Vector3 {
          "x": -2.6999999999999997,
          "y": 0.8999999999999999,
          "z": 3.5773502691896257,
        },
      ],
      "source": Vector3 {
        "x": -4.199999999999999,
        "y": -0.6000000000000002,
        "z": 4.4433756729740645,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.2,
          "y": -2.4000000000000004,
          "z": 4.4433756729740645,
        },
      ],
      "source": Vector3 {
        "x": -4.2,
        "y": -1.7999999999999998,
        "z": 4.4433756729740645,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.5773502691896257,
      "sinks": [
        Point2 {
          "x": -0.5,
          "y": 1.9,
        },
        Point2 {
          "x": -0.5,
          "y": -0.1,
        },
      ],
      "source": Point2 {
        "x": -1.5,
        "y": 0.8999999999999999,
      },
    },
    {
      "height": 0.5773502691896256,
      "sinks": [
        Point2 {
          "x": -1.5,
          "y": 0.8999999999999999,
        },
        Point2 {
          "x": -1.7,
          "y": -0.1,
        },
      ],
      "source": Point2 {
        "x": -2.6999999999999997,
        "y": 0.8999999999999999,
      },
    },
    {
      "height": 1.0103629710818447,
      "sinks": [
        Point2 {
          "x": -1.7,
          "y": -0.8,
        },
        Point2 {
          "x": -1.7,
          "y": -4.3,
        },
      ],
      "source": Point2 {
        "x": -3.45,
        "y": -2.5500000000000003,
      },
    },
    {
      "height": 1.010362971081845,
      "sinks": [
        Point2 {
          "x": -3.45,
          "y": -2.5500000000000003,
        },
        Point2 {
          "x": 3.1,
          "y": -0.8,
        },
        Point2 {
          "x": 3.1,
          "y": -4.3,
        },
      ],
      "source": Point2 {
        "x": 1.3500000000000003,
        "y": -2.55,
      },
    },
    {
      "height": 1.096965511460289,
      "sinks": [
        Point2 {
          "x": -6.7,
          "y": 3.1,
        },
        Point2 {
          "x": -2.9,
          "y": 3.1,
        },
      ],
      "source": Point2 {
        "x": -4.8,
        "y": 1.2,
      },
    },
    {
      "height": 1.0969655114602888,
      "sinks": [
        Point2 {
          "x": -4.8,
          "y": 1.2,
        },
        Point2 {
          "x": -2.9,
          "y": 1.9,
        },
      ],
      "source": Point2 {
        "x": -4.8,
        "y": 0,
      },
    },
    {
      "height": 1.4433756729740643,
      "sinks": [
        Point2 {
          "x": -1.7,
          "y": -4.9,
        },
        Point2 {
          "x": -6.7,
          "y": -4.9,
        },
      ],
      "source": Point2 {
        "x": -4.2,
        "y": -2.4000000000000004,
      },
    },
    {
      "height": 1.4433756729740643,
      "sinks": [
        Point2 {
          "x": -4.2,
          "y": -1.7999999999999998,
        },
        Point2 {
          "x": -4.8,
          "y": 0,
        },
        Point2 {
          "x": -2.6999999999999997,
          "y": 0.8999999999999999,
        },
      ],
      "source": Point2 {
        "x": -4.199999999999999,
        "y": -0.6000000000000002,
      },
    },
    {
      "height": 1.4433756729740643,
      "sinks": [
        Point2 {
          "x": -4.2,
          "y": -2.4000000000000004,
        },
      ],
      "source": Point2 {
        "x": -4.2,
        "y": -1.7999999999999998,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": -1.7,
      "y": 3,
      "z": -4.3,
    },
    {
      "x": -1.7,
      "y": 3,
      "z": -4.9,
    },
    {
      "x": -6.7,
      "y": 3,
      "z": -4.9,
    },
    {
      "x": -6.7,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -2.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -2.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -1.7,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -1.7,
      "y": 3,
      "z": -0.8,
    },
    {
      "x": 3.1,
      "y": 3,
      "z": -0.8,
    },
    {
      "x": 3.1,
      "y": 3,
      "z": -4.3,
    },
    {
      "x": -1.5,
      "y": 3.5773502691896257,
      "z": 0.8999999999999999,
    },
    {
      "x": -2.6999999999999997,
      "y": 3.5773502691896257,
      "z": 0.8999999999999999,
    },
    {
      "x": -3.45,
      "y": 4.010362971081845,
      "z": -2.5500000000000003,
    },
    {
      "x": 1.3500000000000003,
      "y": 4.010362971081845,
      "z": -2.55,
    },
    {
      "x": -4.8,
      "y": 4.096965511460289,
      "z": 1.2,
    },
    {
      "x": -4.8,
      "y": 4.096965511460288,
      "z": 0,
    },
    {
      "x": -4.2,
      "y": 4.4433756729740645,
      "z": -2.4000000000000004,
    },
    {
      "x": -4.199999999999999,
      "y": 4.4433756729740645,
      "z": -0.6000000000000002,
    },
    {
      "x": -4.2,
      "y": 4.4433756729740645,
      "z": -1.7999999999999998,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_10_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": -11.5,
          "y": -1,
          "z": 3,
        },
        Vector3 {
          "x": -10.1,
          "y": 0.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -10.8,
        "y": -0.30000000000000027,
        "z": 3.404145188432738,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -7.6,
          "y": 0.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -6.6,
        "y": -0.5999999999999996,
        "z": 3.5773502691896257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -5.6,
          "y": -1.3,
          "z": 3,
        },
        Vector3 {
          "x": -6.6,
          "y": -0.5999999999999996,
          "z": 3.5773502691896257,
        },
      ],
      "source": Vector3 {
        "x": -6.6,
        "y": -0.3000000000000004,
        "z": 3.5773502691896257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -15.7,
          "y": -1,
          "z": 3,
        },
        Vector3 {
          "x": -15.7,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -14.25,
        "y": 0.4500000000000002,
        "z": 3.837157890324957,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -10.8,
          "y": -0.30000000000000027,
          "z": 3.404145188432738,
        },
        Vector3 {
          "x": -14.25,
          "y": 0.4500000000000002,
          "z": 3.837157890324957,
        },
        Vector3 {
          "x": -10.1,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -11.55,
        "y": 0.4500000000000002,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.6,
          "y": -0.5999999999999996,
          "z": 3.5773502691896257,
        },
        Vector3 {
          "x": -5.6,
          "y": -3.09,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -7.392287283381367,
        "y": -1.3922872833813669,
        "z": 4.034777545525375,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -7.392287283381367,
          "y": -1.3922872833813669,
          "z": 4.034777545525375,
        },
        Vector3 {
          "x": -11.5,
          "y": -3.41,
          "z": 3,
        },
        Vector3 {
          "x": -10.8,
          "y": -0.30000000000000027,
          "z": 3.404145188432738,
        },
      ],
      "source": Vector3 {
        "x": -9.646623080138399,
        "y": -1.4533769198616027,
        "z": 4.070047663591935,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.5,
          "y": -1.3,
          "z": 3,
        },
        Vector3 {
          "x": -6.6,
          "y": -0.3000000000000004,
          "z": 3.5773502691896257,
        },
      ],
      "source": Vector3 {
        "x": -5.55,
        "y": 0.7499999999999997,
        "z": 4.183568051838733,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -5.55,
          "y": 0.7499999999999997,
          "z": 4.183568051838733,
        },
        Vector3 {
          "x": -7.6,
          "y": 3.67,
          "z": 3,
        },
        Vector3 {
          "x": -3.5,
          "y": 4.94,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -5.550000000000001,
        "y": 2.15890470854624,
        "z": 4.183568051838733,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.40414518843273817,
      "sinks": [
        Point2 {
          "x": -11.5,
          "y": -1,
        },
        Point2 {
          "x": -10.1,
          "y": 0.4,
        },
      ],
      "source": Point2 {
        "x": -10.8,
        "y": -0.30000000000000027,
      },
    },
    {
      "height": 0.5773502691896257,
      "sinks": [
        Point2 {
          "x": -7.6,
          "y": 0.4,
        },
      ],
      "source": Point2 {
        "x": -6.6,
        "y": -0.5999999999999996,
      },
    },
    {
      "height": 0.5773502691896257,
      "sinks": [
        Point2 {
          "x": -5.6,
          "y": -1.3,
        },
        Point2 {
          "x": -6.6,
          "y": -0.5999999999999996,
        },
      ],
      "source": Point2 {
        "x": -6.6,
        "y": -0.3000000000000004,
      },
    },
    {
      "height": 0.8371578903249569,
      "sinks": [
        Point2 {
          "x": -15.7,
          "y": -1,
        },
        Point2 {
          "x": -15.7,
          "y": 1.9,
        },
      ],
      "source": Point2 {
        "x": -14.25,
        "y": 0.4500000000000002,
      },
    },
    {
      "height": 0.8371578903249575,
      "sinks": [
        Point2 {
          "x": -10.8,
          "y": -0.30000000000000027,
        },
        Point2 {
          "x": -14.25,
          "y": 0.4500000000000002,
        },
        Point2 {
          "x": -10.1,
          "y": 1.9,
        },
      ],
      "source": Point2 {
        "x": -11.55,
        "y": 0.4500000000000002,
      },
    },
    {
      "height": 1.0347775455253754,
      "sinks": [
        Point2 {
          "x": -6.6,
          "y": -0.5999999999999996,
        },
        Point2 {
          "x": -5.6,
          "y": -3.09,
        },
      ],
      "source": Point2 {
        "x": -7.392287283381367,
        "y": -1.3922872833813669,
      },
    },
    {
      "height": 1.0700476635919347,
      "sinks": [
        Point2 {
          "x": -7.392287283381367,
          "y": -1.3922872833813669,
        },
        Point2 {
          "x": -11.5,
          "y": -3.41,
        },
        Point2 {
          "x": -10.8,
          "y": -0.30000000000000027,
        },
      ],
      "source": Point2 {
        "x": -9.646623080138399,
        "y": -1.4533769198616027,
      },
    },
    {
      "height": 1.1835680518387326,
      "sinks": [
        Point2 {
          "x": -3.5,
          "y": -1.3,
        },
        Point2 {
          "x": -6.6,
          "y": -0.3000000000000004,
        },
      ],
      "source": Point2 {
        "x": -5.55,
        "y": 0.7499999999999997,
      },
    },
    {
      "height": 1.1835680518387328,
      "sinks": [
        Point2 {
          "x": -5.55,
          "y": 0.7499999999999997,
        },
        Point2 {
          "x": -7.6,
          "y": 3.67,
        },
        Point2 {
          "x": -3.5,
          "y": 4.94,
        },
      ],
      "source": Point2 {
        "x": -5.550000000000001,
        "y": 2.15890470854624,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": -5.6,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -5.6,
      "y": 3,
      "z": -3.09,
    },
    {
      "x": -11.5,
      "y": 3,
      "z": -3.41,
    },
    {
      "x": -11.5,
      "y": 3,
      "z": -1,
    },
    {
      "x": -15.7,
      "y": 3,
      "z": -1,
    },
    {
      "x": -15.7,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -10.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -10.1,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": -7.6,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": -7.6,
      "y": 3,
      "z": 3.67,
    },
    {
      "x": -3.5,
      "y": 3,
      "z": 4.94,
    },
    {
      "x": -3.5,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -10.8,
      "y": 3.404145188432738,
      "z": -0.30000000000000027,
    },
    {
      "x": -6.6,
      "y": 3.5773502691896257,
      "z": -0.5999999999999996,
    },
    {
      "x": -6.6,
      "y": 3.5773502691896257,
      "z": -0.3000000000000004,
    },
    {
      "x": -14.25,
      "y": 3.837157890324957,
      "z": 0.4500000000000002,
    },
    {
      "x": -11.55,
      "y": 3.8371578903249572,
      "z": 0.4500000000000002,
    },
    {
      "x": -7.392287283381367,
      "y": 4.034777545525375,
      "z": -1.3922872833813669,
    },
    {
      "x": -9.646623080138399,
      "y": 4.070047663591935,
      "z": -1.4533769198616027,
    },
    {
      "x": -5.55,
      "y": 4.183568051838733,
      "z": 0.7499999999999997,
    },
    {
      "x": -5.550000000000001,
      "y": 4.183568051838733,
      "z": 2.15890470854624,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_11_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 5.28,
          "y": 3.15,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.180000000000001,
        "y": 3.05,
        "z": 3.0577350269189623,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 2.95,
          "z": 3,
        },
        Vector3 {
          "x": 5.180000000000001,
          "y": 3.05,
          "z": 3.0577350269189623,
        },
      ],
      "source": Vector3 {
        "x": 6.1,
        "y": 3.05,
        "z": 3.0577350269189627,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.76,
          "y": 1.73,
          "z": 3,
        },
        Vector3 {
          "x": -3.76,
          "y": 4.67,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.29,
        "y": 3.2,
        "z": 3.8487048957087495,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.01,
          "y": 1.73,
          "z": 3,
        },
        Vector3 {
          "x": -2.29,
          "y": 3.2,
          "z": 3.8487048957087495,
        },
        Vector3 {
          "x": -1.01,
          "y": 4.67,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.45999999999999996,
        "y": 3.2,
        "z": 3.8487048957087495,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.94,
          "y": -2.54,
          "z": 3,
        },
        Vector3 {
          "x": 6,
          "y": -2.54,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7.47,
        "y": -1.07,
        "z": 3.84870489570875,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.1,
          "y": 3.05,
          "z": 3.0577350269189627,
        },
        Vector3 {
          "x": 8.94,
          "y": 3.15,
          "z": 3,
        },
        Vector3 {
          "x": 7.47,
          "y": -1.07,
          "z": 3.84870489570875,
        },
      ],
      "source": Vector3 {
        "x": 7.47,
        "y": 1.68,
        "z": 3.84870489570875,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.28,
          "y": 6.5,
          "z": 3,
        },
        Vector3 {
          "x": 5.180000000000001,
          "y": 3.05,
          "z": 3.0577350269189623,
        },
      ],
      "source": Vector3 {
        "x": 3.5050000000000003,
        "y": 4.725,
        "z": 4.0247967278115855,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.5050000000000003,
          "y": 4.725,
          "z": 4.0247967278115855,
        },
        Vector3 {
          "x": 2.84,
          "y": 2.95,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.0650000000000004,
        "y": 4.725,
        "z": 4.0247967278115855,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.84,
          "y": 0.2,
          "z": 3,
        },
        Vector3 {
          "x": -1.01,
          "y": 0.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.915,
        "y": 2.125,
        "z": 4.11139926819003,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.915,
          "y": 2.125,
          "z": 4.11139926819003,
        },
      ],
      "source": Vector3 {
        "x": 0.915,
        "y": 2.745,
        "z": 4.111399268190029,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.915,
          "y": 2.745,
          "z": 4.111399268190029,
        },
        Vector3 {
          "x": -1.01,
          "y": 6.5,
          "z": 3,
        },
        Vector3 {
          "x": 1.0650000000000004,
          "y": 4.725,
          "z": 4.0247967278115855,
        },
      ],
      "source": Vector3 {
        "x": 0.9150000000000005,
        "y": 4.575,
        "z": 4.111399268190029,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.057735026918962366,
      "sinks": [
        Point2 {
          "x": 5.28,
          "y": 3.15,
        },
      ],
      "source": Point2 {
        "x": 5.180000000000001,
        "y": 3.05,
      },
    },
    {
      "height": 0.05773502691896262,
      "sinks": [
        Point2 {
          "x": 6,
          "y": 2.95,
        },
        Point2 {
          "x": 5.180000000000001,
          "y": 3.05,
        },
      ],
      "source": Point2 {
        "x": 6.1,
        "y": 3.05,
      },
    },
    {
      "height": 0.8487048957087496,
      "sinks": [
        Point2 {
          "x": -3.76,
          "y": 1.73,
        },
        Point2 {
          "x": -3.76,
          "y": 4.67,
        },
      ],
      "source": Point2 {
        "x": -2.29,
        "y": 3.2,
      },
    },
    {
      "height": 0.8487048957087496,
      "sinks": [
        Point2 {
          "x": -1.01,
          "y": 1.73,
        },
        Point2 {
          "x": -2.29,
          "y": 3.2,
        },
        Point2 {
          "x": -1.01,
          "y": 4.67,
        },
      ],
      "source": Point2 {
        "x": 0.45999999999999996,
        "y": 3.2,
      },
    },
    {
      "height": 0.8487048957087499,
      "sinks": [
        Point2 {
          "x": 8.94,
          "y": -2.54,
        },
        Point2 {
          "x": 6,
          "y": -2.54,
        },
      ],
      "source": Point2 {
        "x": 7.47,
        "y": -1.07,
      },
    },
    {
      "height": 0.8487048957087499,
      "sinks": [
        Point2 {
          "x": 6.1,
          "y": 3.05,
        },
        Point2 {
          "x": 8.94,
          "y": 3.15,
        },
        Point2 {
          "x": 7.47,
          "y": -1.07,
        },
      ],
      "source": Point2 {
        "x": 7.47,
        "y": 1.68,
      },
    },
    {
      "height": 1.0247967278115857,
      "sinks": [
        Point2 {
          "x": 5.28,
          "y": 6.5,
        },
        Point2 {
          "x": 5.180000000000001,
          "y": 3.05,
        },
      ],
      "source": Point2 {
        "x": 3.5050000000000003,
        "y": 4.725,
      },
    },
    {
      "height": 1.0247967278115853,
      "sinks": [
        Point2 {
          "x": 3.5050000000000003,
          "y": 4.725,
        },
        Point2 {
          "x": 2.84,
          "y": 2.95,
        },
      ],
      "source": Point2 {
        "x": 1.0650000000000004,
        "y": 4.725,
      },
    },
    {
      "height": 1.1113992681900295,
      "sinks": [
        Point2 {
          "x": 2.84,
          "y": 0.2,
        },
        Point2 {
          "x": -1.01,
          "y": 0.2,
        },
      ],
      "source": Point2 {
        "x": 0.915,
        "y": 2.125,
      },
    },
    {
      "height": 1.1113992681900293,
      "sinks": [
        Point2 {
          "x": 0.915,
          "y": 2.125,
        },
      ],
      "source": Point2 {
        "x": 0.915,
        "y": 2.745,
      },
    },
    {
      "height": 1.1113992681900293,
      "sinks": [
        Point2 {
          "x": 0.915,
          "y": 2.745,
        },
        Point2 {
          "x": -1.01,
          "y": 6.5,
        },
        Point2 {
          "x": 1.0650000000000004,
          "y": 4.725,
        },
      ],
      "source": Point2 {
        "x": 0.9150000000000005,
        "y": 4.575,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": -1.01,
      "y": 3,
      "z": 4.67,
    },
    {
      "x": -1.01,
      "y": 3,
      "z": 6.5,
    },
    {
      "x": 5.28,
      "y": 3,
      "z": 6.5,
    },
    {
      "x": 5.28,
      "y": 3,
      "z": 3.15,
    },
    {
      "x": 8.94,
      "y": 3,
      "z": 3.15,
    },
    {
      "x": 8.94,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": 6,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": 6,
      "y": 3,
      "z": 2.95,
    },
    {
      "x": 2.84,
      "y": 3,
      "z": 2.95,
    },
    {
      "x": 2.84,
      "y": 3,
      "z": 0.2,
    },
    {
      "x": -1.01,
      "y": 3,
      "z": 0.2,
    },
    {
      "x": -1.01,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 4.67,
    },
    {
      "x": 5.180000000000001,
      "y": 3.0577350269189623,
      "z": 3.05,
    },
    {
      "x": 6.1,
      "y": 3.0577350269189627,
      "z": 3.05,
    },
    {
      "x": -2.29,
      "y": 3.8487048957087495,
      "z": 3.2,
    },
    {
      "x": 0.45999999999999996,
      "y": 3.8487048957087495,
      "z": 3.2,
    },
    {
      "x": 7.47,
      "y": 3.84870489570875,
      "z": -1.07,
    },
    {
      "x": 7.47,
      "y": 3.84870489570875,
      "z": 1.68,
    },
    {
      "x": 3.5050000000000003,
      "y": 4.0247967278115855,
      "z": 4.725,
    },
    {
      "x": 1.0650000000000004,
      "y": 4.0247967278115855,
      "z": 4.725,
    },
    {
      "x": 0.915,
      "y": 4.11139926819003,
      "z": 2.125,
    },
    {
      "x": 0.915,
      "y": 4.111399268190029,
      "z": 2.745,
    },
    {
      "x": 0.9150000000000005,
      "y": 4.111399268190029,
      "z": 4.575,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_12_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": -4.37,
          "y": 1.62,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.0500000000000003,
        "y": 0.30000000000000027,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.73,
          "y": -3.35,
          "z": 3,
        },
        Vector3 {
          "x": -3.0500000000000003,
          "y": 0.30000000000000027,
          "z": 3.762102355330306,
        },
      ],
      "source": Vector3 {
        "x": -3.0500000000000003,
        "y": 0.6100000000000001,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.67,
          "y": 0.4,
          "z": 3,
        },
        Vector3 {
          "x": 4.67,
          "y": -2.84,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.05,
        "y": -1.22,
        "z": 3.935307436087194,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.05,
          "y": -1.22,
          "z": 3.935307436087194,
        },
        Vector3 {
          "x": 2.54,
          "y": -2.84,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9200000000000004,
        "y": -1.22,
        "z": 3.935307436087194,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.37,
          "y": 2.84,
          "z": 3,
        },
        Vector3 {
          "x": -1.12,
          "y": 2.84,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.745,
        "y": 1.2149999999999999,
        "z": 3.938194187433142,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.0500000000000003,
          "y": 0.6100000000000001,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": -2.745,
          "y": 1.2149999999999999,
          "z": 3.938194187433142,
        },
      ],
      "source": Vector3 {
        "x": -2.745,
        "y": 0.7116666666666669,
        "z": 3.938194187433142,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.745,
          "y": 0.7116666666666669,
          "z": 3.938194187433142,
        },
        Vector3 {
          "x": -1.12,
          "y": 1.62,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.5658333333333334,
        "y": 0.1741666666666667,
        "z": 3.834752264203334,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.54,
          "y": -5.59,
          "z": 3,
        },
        Vector3 {
          "x": -0.05,
          "y": -5.59,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.8133333333333335,
        "y": -3.8633333333333333,
        "z": 3.9968914648007536,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.73,
          "y": -5.59,
          "z": 3,
        },
        Vector3 {
          "x": -5.59,
          "y": -5.59,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.66,
        "y": -3.66,
        "z": 4.114286019535977,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.66,
          "y": -3.66,
          "z": 4.114286019535977,
        },
        Vector3 {
          "x": -5.59,
          "y": -2.54,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.66,
        "y": -0.6100000000000003,
        "z": 4.114286019535977,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -8.02,
          "y": -2.54,
          "z": 3,
        },
        Vector3 {
          "x": -8.02,
          "y": 1.62,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -5.9399999999999995,
        "y": -0.45999999999999996,
        "z": 4.2008885599144214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.0500000000000003,
          "y": 0.30000000000000027,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": -3.66,
          "y": -0.6100000000000003,
          "z": 4.114286019535977,
        },
        Vector3 {
          "x": -5.9399999999999995,
          "y": -0.45999999999999996,
          "z": 4.2008885599144214,
        },
      ],
      "source": Vector3 {
        "x": -3.8100000000000005,
        "y": -0.45999999999999996,
        "z": 4.2008885599144214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.5658333333333334,
          "y": 0.1741666666666667,
          "z": 3.834752264203334,
        },
        Vector3 {
          "x": 1.62,
          "y": 1.62,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.7391666666666667,
        "y": -0.7391666666666665,
        "z": 4.362065510063192,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.7391666666666667,
          "y": -0.7391666666666665,
          "z": 4.362065510063192,
        },
        Vector3 {
          "x": 1.62,
          "y": 0.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.43416666666666676,
        "y": -1.6541666666666663,
        "z": 4.185973677960356,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.43416666666666676,
          "y": -1.6541666666666663,
          "z": 4.185973677960356,
        },
        Vector3 {
          "x": 0.9200000000000004,
          "y": -1.22,
          "z": 3.935307436087194,
        },
        Vector3 {
          "x": 0.8133333333333335,
          "y": -3.8633333333333333,
          "z": 3.9968914648007536,
        },
      ],
      "source": Vector3 {
        "x": 0.1791666666666668,
        "y": -1.9608333333333334,
        "z": 4.363027760511842,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.7621023553303061,
      "sinks": [
        Point2 {
          "x": -4.37,
          "y": 1.62,
        },
      ],
      "source": Point2 {
        "x": -3.0500000000000003,
        "y": 0.30000000000000027,
      },
    },
    {
      "height": 0.7621023553303061,
      "sinks": [
        Point2 {
          "x": -1.73,
          "y": -3.35,
        },
        Point2 {
          "x": -3.0500000000000003,
          "y": 0.30000000000000027,
        },
      ],
      "source": Point2 {
        "x": -3.0500000000000003,
        "y": 0.6100000000000001,
      },
    },
    {
      "height": 0.9353074360871938,
      "sinks": [
        Point2 {
          "x": 4.67,
          "y": 0.4,
        },
        Point2 {
          "x": 4.67,
          "y": -2.84,
        },
      ],
      "source": Point2 {
        "x": 3.05,
        "y": -1.22,
      },
    },
    {
      "height": 0.9353074360871936,
      "sinks": [
        Point2 {
          "x": 3.05,
          "y": -1.22,
        },
        Point2 {
          "x": 2.54,
          "y": -2.84,
        },
      ],
      "source": Point2 {
        "x": 0.9200000000000004,
        "y": -1.22,
      },
    },
    {
      "height": 0.9381941874331419,
      "sinks": [
        Point2 {
          "x": -4.37,
          "y": 2.84,
        },
        Point2 {
          "x": -1.12,
          "y": 2.84,
        },
      ],
      "source": Point2 {
        "x": -2.745,
        "y": 1.2149999999999999,
      },
    },
    {
      "height": 0.9381941874331419,
      "sinks": [
        Point2 {
          "x": -3.0500000000000003,
          "y": 0.6100000000000001,
        },
        Point2 {
          "x": -2.745,
          "y": 1.2149999999999999,
        },
      ],
      "source": Point2 {
        "x": -2.745,
        "y": 0.7116666666666669,
      },
    },
    {
      "height": 0.8347522642033338,
      "sinks": [
        Point2 {
          "x": -2.745,
          "y": 0.7116666666666669,
        },
        Point2 {
          "x": -1.12,
          "y": 1.62,
        },
      ],
      "source": Point2 {
        "x": -2.5658333333333334,
        "y": 0.1741666666666667,
      },
    },
    {
      "height": 0.9968914648007537,
      "sinks": [
        Point2 {
          "x": 2.54,
          "y": -5.59,
        },
        Point2 {
          "x": -0.05,
          "y": -5.59,
        },
      ],
      "source": Point2 {
        "x": 0.8133333333333335,
        "y": -3.8633333333333333,
      },
    },
    {
      "height": 1.1142860195359774,
      "sinks": [
        Point2 {
          "x": -1.73,
          "y": -5.59,
        },
        Point2 {
          "x": -5.59,
          "y": -5.59,
        },
      ],
      "source": Point2 {
        "x": -3.66,
        "y": -3.66,
      },
    },
    {
      "height": 1.1142860195359774,
      "sinks": [
        Point2 {
          "x": -3.66,
          "y": -3.66,
        },
        Point2 {
          "x": -5.59,
          "y": -2.54,
        },
      ],
      "source": Point2 {
        "x": -3.66,
        "y": -0.6100000000000003,
      },
    },
    {
      "height": 1.2008885599144217,
      "sinks": [
        Point2 {
          "x": -8.02,
          "y": -2.54,
        },
        Point2 {
          "x": -8.02,
          "y": 1.62,
        },
      ],
      "source": Point2 {
        "x": -5.9399999999999995,
        "y": -0.45999999999999996,
      },
    },
    {
      "height": 1.200888559914422,
      "sinks": [
        Point2 {
          "x": -3.0500000000000003,
          "y": 0.30000000000000027,
        },
        Point2 {
          "x": -3.66,
          "y": -0.6100000000000003,
        },
        Point2 {
          "x": -5.9399999999999995,
          "y": -0.45999999999999996,
        },
      ],
      "source": Point2 {
        "x": -3.8100000000000005,
        "y": -0.45999999999999996,
      },
    },
    {
      "height": 1.3620655100631922,
      "sinks": [
        Point2 {
          "x": -2.5658333333333334,
          "y": 0.1741666666666667,
        },
        Point2 {
          "x": 1.62,
          "y": 1.62,
        },
      ],
      "source": Point2 {
        "x": -0.7391666666666667,
        "y": -0.7391666666666665,
      },
    },
    {
      "height": 1.1859736779603562,
      "sinks": [
        Point2 {
          "x": -0.7391666666666667,
          "y": -0.7391666666666665,
        },
        Point2 {
          "x": 1.62,
          "y": 0.4,
        },
      ],
      "source": Point2 {
        "x": -0.43416666666666676,
        "y": -1.6541666666666663,
      },
    },
    {
      "height": 1.3630277605118415,
      "sinks": [
        Point2 {
          "x": -0.43416666666666676,
          "y": -1.6541666666666663,
        },
        Point2 {
          "x": 0.9200000000000004,
          "y": -1.22,
        },
        Point2 {
          "x": 0.8133333333333335,
          "y": -3.8633333333333333,
        },
      ],
      "source": Point2 {
        "x": 0.1791666666666668,
        "y": -1.9608333333333334,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": -4.37,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 2.84,
    },
    {
      "x": -1.12,
      "y": 3,
      "z": 2.84,
    },
    {
      "x": -1.12,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": 1.62,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": 1.62,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": -2.84,
    },
    {
      "x": 2.54,
      "y": 3,
      "z": -2.84,
    },
    {
      "x": 2.54,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -0.05,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -1.73,
      "y": 3,
      "z": -3.35,
    },
    {
      "x": -1.73,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -5.59,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -5.59,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": -8.02,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": -8.02,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -3.0500000000000003,
      "y": 3.762102355330306,
      "z": 0.30000000000000027,
    },
    {
      "x": -3.0500000000000003,
      "y": 3.762102355330306,
      "z": 0.6100000000000001,
    },
    {
      "x": 3.05,
      "y": 3.935307436087194,
      "z": -1.22,
    },
    {
      "x": 0.9200000000000004,
      "y": 3.935307436087194,
      "z": -1.22,
    },
    {
      "x": -2.745,
      "y": 3.938194187433142,
      "z": 1.2149999999999999,
    },
    {
      "x": -2.745,
      "y": 3.938194187433142,
      "z": 0.7116666666666669,
    },
    {
      "x": -2.5658333333333334,
      "y": 3.834752264203334,
      "z": 0.1741666666666667,
    },
    {
      "x": 0.8133333333333335,
      "y": 3.9968914648007536,
      "z": -3.8633333333333333,
    },
    {
      "x": -3.66,
      "y": 4.114286019535977,
      "z": -3.66,
    },
    {
      "x": -3.66,
      "y": 4.114286019535977,
      "z": -0.6100000000000003,
    },
    {
      "x": -5.9399999999999995,
      "y": 4.2008885599144214,
      "z": -0.45999999999999996,
    },
    {
      "x": -3.8100000000000005,
      "y": 4.2008885599144214,
      "z": -0.45999999999999996,
    },
    {
      "x": -0.7391666666666667,
      "y": 4.362065510063192,
      "z": -0.7391666666666665,
    },
    {
      "x": -0.43416666666666676,
      "y": 4.185973677960356,
      "z": -1.6541666666666663,
    },
    {
      "x": 0.1791666666666668,
      "y": 4.363027760511842,
      "z": -1.9608333333333334,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: complex_13_tier3 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 16.56,
          "y": 3.45,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 12.649999999999997,
        "y": -0.4599999999999991,
        "z": 5.257439552531437,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.649999999999997,
          "y": -0.4599999999999991,
          "z": 5.257439552531437,
        },
        Vector3 {
          "x": 17.47,
          "y": 3.45,
          "z": 3,
        },
        Vector3 {
          "x": 17.47,
          "y": -4.37,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 13.559999999999999,
        "y": -0.4599999999999995,
        "z": 5.257439552531437,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 14.12,
          "y": 4.98,
          "z": 3,
        },
        Vector3 {
          "x": 14.12,
          "y": -4.37,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9.444999999999999,
        "y": 0.3049999999999997,
        "z": 5.6991125084615,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.444999999999999,
          "y": 0.3049999999999997,
          "z": 5.6991125084615,
        },
        Vector3 {
          "x": 16.56,
          "y": 4.98,
          "z": 3,
        },
        Vector3 {
          "x": 12.649999999999997,
          "y": -0.4599999999999991,
          "z": 5.257439552531437,
        },
      ],
      "source": Vector3 {
        "x": 11.884999999999998,
        "y": 0.3049999999999997,
        "z": 5.699112508461501,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.32,
          "y": -5.89,
          "z": 3,
        },
        Vector3 {
          "x": -1.32,
          "y": 5.59,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.420000000000001,
        "y": -0.14999999999999858,
        "z": 6.313990545148452,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.14,
          "y": 0.6099999999999994,
          "z": 5.875204340564336,
        },
        Vector3 {
          "x": 14.12,
          "y": -5.89,
          "z": 3,
        },
        Vector3 {
          "x": 4.420000000000001,
          "y": -0.14999999999999858,
          "z": 6.313990545148452,
        },
      ],
      "source": Vector3 {
        "x": 8.379999999999999,
        "y": -0.14999999999999858,
        "z": 6.313990545148452,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 14.12,
          "y": 5.59,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9.14,
        "y": 0.6099999999999994,
        "z": 5.875204340564336,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 2.2574395525314372,
      "sinks": [
        Point2 {
          "x": 16.56,
          "y": 3.45,
        },
      ],
      "source": Point2 {
        "x": 12.649999999999997,
        "y": -0.4599999999999991,
      },
    },
    {
      "height": 2.257439552531437,
      "sinks": [
        Point2 {
          "x": 12.649999999999997,
          "y": -0.4599999999999991,
        },
        Point2 {
          "x": 17.47,
          "y": 3.45,
        },
        Point2 {
          "x": 17.47,
          "y": -4.37,
        },
      ],
      "source": Point2 {
        "x": 13.559999999999999,
        "y": -0.4599999999999995,
      },
    },
    {
      "height": 2.6991125084615,
      "sinks": [
        Point2 {
          "x": 14.12,
          "y": 4.98,
        },
        Point2 {
          "x": 14.12,
          "y": -4.37,
        },
      ],
      "source": Point2 {
        "x": 9.444999999999999,
        "y": 0.3049999999999997,
      },
    },
    {
      "height": 2.699112508461501,
      "sinks": [
        Point2 {
          "x": 9.444999999999999,
          "y": 0.3049999999999997,
        },
        Point2 {
          "x": 16.56,
          "y": 4.98,
        },
        Point2 {
          "x": 12.649999999999997,
          "y": -0.4599999999999991,
        },
      ],
      "source": Point2 {
        "x": 11.884999999999998,
        "y": 0.3049999999999997,
      },
    },
    {
      "height": 3.313990545148452,
      "sinks": [
        Point2 {
          "x": -1.32,
          "y": -5.89,
        },
        Point2 {
          "x": -1.32,
          "y": 5.59,
        },
      ],
      "source": Point2 {
        "x": 4.420000000000001,
        "y": -0.14999999999999858,
      },
    },
    {
      "height": 3.313990545148452,
      "sinks": [
        Point2 {
          "x": 9.14,
          "y": 0.6099999999999994,
        },
        Point2 {
          "x": 14.12,
          "y": -5.89,
        },
        Point2 {
          "x": 4.420000000000001,
          "y": -0.14999999999999858,
        },
      ],
      "source": Point2 {
        "x": 8.379999999999999,
        "y": -0.14999999999999858,
      },
    },
    {
      "height": 2.8752043405643364,
      "sinks": [
        Point2 {
          "x": 14.12,
          "y": 5.59,
        },
      ],
      "source": Point2 {
        "x": 9.14,
        "y": 0.6099999999999994,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 16.56,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 17.47,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 17.47,
      "y": 3,
      "z": -4.37,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": -4.37,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": -5.89,
    },
    {
      "x": -1.32,
      "y": 3,
      "z": -5.89,
    },
    {
      "x": -1.32,
      "y": 3,
      "z": 5.59,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": 5.59,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 16.56,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 12.649999999999997,
      "y": 5.257439552531437,
      "z": -0.4599999999999991,
    },
    {
      "x": 13.559999999999999,
      "y": 5.257439552531437,
      "z": -0.4599999999999995,
    },
    {
      "x": 9.444999999999999,
      "y": 5.6991125084615,
      "z": 0.3049999999999997,
    },
    {
      "x": 11.884999999999998,
      "y": 5.699112508461501,
      "z": 0.3049999999999997,
    },
    {
      "x": 4.420000000000001,
      "y": 6.313990545148452,
      "z": -0.14999999999999858,
    },
    {
      "x": 8.379999999999999,
      "y": 6.313990545148452,
      "z": -0.14999999999999858,
    },
    {
      "x": 9.14,
      "y": 5.875204340564336,
      "z": 0.6099999999999994,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: d_square_1 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 6.1,
          "y": 9.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.25,
        "y": 7.75,
        "z": 4.068097998000807,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.9,
          "y": 5.9,
          "z": 3,
        },
        Vector3 {
          "x": 4.25,
          "y": 7.75,
          "z": 4.068097998000807,
        },
      ],
      "source": Vector3 {
        "x": 7.75,
        "y": 7.75,
        "z": 4.068097998000807,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.25,
          "y": 7.75,
          "z": 4.068097998000807,
        },
        Vector3 {
          "x": 1.9,
          "y": 5.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 8,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4,
          "y": 8,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 1.9,
          "y": 11.6,
          "z": 3,
        },
        Vector3 {
          "x": 6.1,
          "y": 11.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 9.5,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 3.4,
          "z": 3,
        },
        Vector3 {
          "x": 5.9,
          "y": 3.4,
          "z": 3,
        },
        Vector3 {
          "x": 7.75,
          "y": 7.75,
          "z": 4.068097998000807,
        },
        Vector3 {
          "x": 12.1,
          "y": 9.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 6.5,
        "z": 4.78978583448784,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.0680979980008074,
      "sinks": [
        Point2 {
          "x": 6.1,
          "y": 9.6,
        },
      ],
      "source": Point2 {
        "x": 4.25,
        "y": 7.75,
      },
    },
    {
      "height": 1.0680979980008074,
      "sinks": [
        Point2 {
          "x": 5.9,
          "y": 5.9,
        },
        Point2 {
          "x": 4.25,
          "y": 7.75,
        },
      ],
      "source": Point2 {
        "x": 7.75,
        "y": 7.75,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 4.25,
          "y": 7.75,
        },
        Point2 {
          "x": 1.9,
          "y": 5.9,
        },
      ],
      "source": Point2 {
        "x": 4,
        "y": 8,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 4,
          "y": 8,
        },
        Point2 {
          "x": 1.9,
          "y": 11.6,
        },
        Point2 {
          "x": 6.1,
          "y": 11.6,
        },
      ],
      "source": Point2 {
        "x": 4,
        "y": 9.5,
      },
    },
    {
      "height": 1.78978583448784,
      "sinks": [
        Point2 {
          "x": 12.1,
          "y": 3.4,
        },
        Point2 {
          "x": 5.9,
          "y": 3.4,
        },
        Point2 {
          "x": 7.75,
          "y": 7.75,
        },
        Point2 {
          "x": 12.1,
          "y": 9.6,
        },
      ],
      "source": Point2 {
        "x": 9,
        "y": 6.5,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 5.9,
      "y": 3,
      "z": 5.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 5.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 11.6,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 11.6,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 9.6,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 9.6,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 3.4,
    },
    {
      "x": 5.9,
      "y": 3,
      "z": 3.4,
    },
    {
      "x": 4.25,
      "y": 4.068097998000807,
      "z": 7.75,
    },
    {
      "x": 7.75,
      "y": 4.068097998000807,
      "z": 7.75,
    },
    {
      "x": 4,
      "y": 4.212435565298214,
      "z": 8,
    },
    {
      "x": 4,
      "y": 4.212435565298214,
      "z": 9.5,
    },
    {
      "x": 9,
      "y": 4.78978583448784,
      "z": 6.5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: d_square_2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 5.5,
          "y": 4.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 5.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.4999999999999996,
        "y": 4.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.5,
          "y": 4.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 3.9,
          "y": 8.1,
          "z": 3,
        },
        Vector3 {
          "x": 7.1,
          "y": 8.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.499999999999999,
        "y": 6.5,
        "z": 3.9237604307034015,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3,
        "y": 2.9999999999999996,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.4999999999999996,
          "y": 4.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 3,
          "y": 2.9999999999999996,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 0.9,
          "y": 6.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3,
        "y": 3.999999999999999,
        "z": 4.212435565298215,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 6.1,
          "z": 3,
        },
        Vector3 {
          "x": 7.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.5,
        "y": 4.5,
        "z": 3.923760430703401,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.9237604307034012,
      "sinks": [
        Point2 {
          "x": 5.5,
          "y": 4.5,
        },
        Point2 {
          "x": 5.1,
          "y": 2.9,
        },
      ],
      "source": Point2 {
        "x": 3.4999999999999996,
        "y": 4.5,
      },
    },
    {
      "height": 0.9237604307034015,
      "sinks": [
        Point2 {
          "x": 5.5,
          "y": 4.5,
        },
        Point2 {
          "x": 3.9,
          "y": 8.1,
        },
        Point2 {
          "x": 7.1,
          "y": 8.1,
        },
      ],
      "source": Point2 {
        "x": 5.499999999999999,
        "y": 6.5,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 5.1,
          "y": 0.9,
        },
        Point2 {
          "x": 0.9,
          "y": 0.9,
        },
      ],
      "source": Point2 {
        "x": 3,
        "y": 2.9999999999999996,
      },
    },
    {
      "height": 1.2124355652982142,
      "sinks": [
        Point2 {
          "x": 3.4999999999999996,
          "y": 4.5,
        },
        Point2 {
          "x": 3,
          "y": 2.9999999999999996,
        },
        Point2 {
          "x": 0.9,
          "y": 6.1,
        },
      ],
      "source": Point2 {
        "x": 3,
        "y": 3.999999999999999,
      },
    },
    {
      "height": 0.9237604307034012,
      "sinks": [
        Point2 {
          "x": 3.9,
          "y": 6.1,
        },
        Point2 {
          "x": 7.1,
          "y": 2.9,
        },
      ],
      "source": Point2 {
        "x": 5.5,
        "y": 4.5,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 3.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 5.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 5.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 3.4999999999999996,
      "y": 3.923760430703401,
      "z": 4.5,
    },
    {
      "x": 5.499999999999999,
      "y": 3.9237604307034015,
      "z": 6.5,
    },
    {
      "x": 3,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
    {
      "x": 3,
      "y": 4.212435565298215,
      "z": 3.999999999999999,
    },
    {
      "x": 5.5,
      "y": 3.923760430703401,
      "z": 4.5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: d_square_3 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 6.9,
          "y": 10.1,
          "z": 3,
        },
        Vector3 {
          "x": 11.1,
          "y": 10.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 8,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9,
          "y": 8,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 11.1,
          "y": 3.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 6,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.9,
          "y": 7.1,
          "z": 3,
        },
        Vector3 {
          "x": 9,
          "y": 6,
          "z": 4.212435565298214,
        },
      ],
      "source": Vector3 {
        "x": 8.5,
        "y": 5.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.5,
          "y": 5.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 8.1,
          "y": 3.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.5,
        "y": 5.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 7.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 4,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.5,
          "y": 5.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 8.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 4,
          "y": 4,
          "z": 4.78978583448784,
        },
      ],
      "source": Vector3 {
        "x": 5,
        "y": 4,
        "z": 4.78978583448784,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 6.9,
          "y": 10.1,
        },
        Point2 {
          "x": 11.1,
          "y": 10.1,
        },
      ],
      "source": Point2 {
        "x": 9,
        "y": 8,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 9,
          "y": 8,
        },
        Point2 {
          "x": 11.1,
          "y": 3.9,
        },
      ],
      "source": Point2 {
        "x": 9,
        "y": 6,
      },
    },
    {
      "height": 0.923760430703401,
      "sinks": [
        Point2 {
          "x": 6.9,
          "y": 7.1,
        },
        Point2 {
          "x": 9,
          "y": 6,
        },
      ],
      "source": Point2 {
        "x": 8.5,
        "y": 5.5,
      },
    },
    {
      "height": 0.9237604307034012,
      "sinks": [
        Point2 {
          "x": 8.5,
          "y": 5.5,
        },
        Point2 {
          "x": 8.1,
          "y": 3.9,
        },
      ],
      "source": Point2 {
        "x": 6.5,
        "y": 5.5,
      },
    },
    {
      "height": 1.78978583448784,
      "sinks": [
        Point2 {
          "x": 0.9,
          "y": 0.9,
        },
        Point2 {
          "x": 0.9,
          "y": 7.1,
        },
      ],
      "source": Point2 {
        "x": 4,
        "y": 4,
      },
    },
    {
      "height": 1.78978583448784,
      "sinks": [
        Point2 {
          "x": 6.5,
          "y": 5.5,
        },
        Point2 {
          "x": 8.1,
          "y": 0.9,
        },
        Point2 {
          "x": 4,
          "y": 4,
        },
      ],
      "source": Point2 {
        "x": 5,
        "y": 4,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 6.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 6.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 9,
      "y": 4.212435565298214,
      "z": 8,
    },
    {
      "x": 9,
      "y": 4.212435565298214,
      "z": 6,
    },
    {
      "x": 8.5,
      "y": 3.923760430703401,
      "z": 5.5,
    },
    {
      "x": 6.5,
      "y": 3.923760430703401,
      "z": 5.5,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 5,
      "y": 4.78978583448784,
      "z": 4,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: d_square_4_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 3.15,
          "y": 2.54,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.2200000000000002,
        "y": 0.6100000000000003,
        "z": 4.114286019535978,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2200000000000002,
          "y": 0.6100000000000003,
          "z": 4.114286019535978,
        },
        Vector3 {
          "x": 6.81,
          "y": 2.54,
          "z": 3,
        },
        Vector3 {
          "x": 6.81,
          "y": -1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.88,
        "y": 0.6100000000000001,
        "z": 4.114286019535977,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2200000000000002,
          "y": 0.6100000000000003,
          "z": 4.114286019535978,
        },
        Vector3 {
          "x": -1.32,
          "y": -1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9150000000000003,
        "y": 0.9150000000000003,
        "z": 4.290377851638814,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9150000000000003,
          "y": 0.9150000000000003,
          "z": 4.290377851638814,
        },
        Vector3 {
          "x": -1.32,
          "y": 1.73,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9150000000000003,
        "y": 3.965,
        "z": 4.290377851638814,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.93,
          "y": 1.73,
          "z": 3,
        },
        Vector3 {
          "x": -1.93,
          "y": 6.81,
          "z": 3,
        },
        Vector3 {
          "x": 0.9150000000000003,
          "y": 3.965,
          "z": 4.290377851638814,
        },
        Vector3 {
          "x": 3.15,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.6100000000000003,
        "y": 4.27,
        "z": 4.466469683741649,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.1142860195359778,
      "sinks": [
        Point2 {
          "x": 3.15,
          "y": 2.54,
        },
      ],
      "source": Point2 {
        "x": 1.2200000000000002,
        "y": 0.6100000000000003,
      },
    },
    {
      "height": 1.1142860195359774,
      "sinks": [
        Point2 {
          "x": 1.2200000000000002,
          "y": 0.6100000000000003,
        },
        Point2 {
          "x": 6.81,
          "y": 2.54,
        },
        Point2 {
          "x": 6.81,
          "y": -1.32,
        },
      ],
      "source": Point2 {
        "x": 4.88,
        "y": 0.6100000000000001,
      },
    },
    {
      "height": 1.2903778516388138,
      "sinks": [
        Point2 {
          "x": 1.2200000000000002,
          "y": 0.6100000000000003,
        },
        Point2 {
          "x": -1.32,
          "y": -1.32,
        },
      ],
      "source": Point2 {
        "x": 0.9150000000000003,
        "y": 0.9150000000000003,
      },
    },
    {
      "height": 1.2903778516388138,
      "sinks": [
        Point2 {
          "x": 0.9150000000000003,
          "y": 0.9150000000000003,
        },
        Point2 {
          "x": -1.32,
          "y": 1.73,
        },
      ],
      "source": Point2 {
        "x": 0.9150000000000003,
        "y": 3.965,
      },
    },
    {
      "height": 1.4664696837416493,
      "sinks": [
        Point2 {
          "x": -1.93,
          "y": 1.73,
        },
        Point2 {
          "x": -1.93,
          "y": 6.81,
        },
        Point2 {
          "x": 0.9150000000000003,
          "y": 3.965,
        },
        Point2 {
          "x": 3.15,
          "y": 6.81,
        },
      ],
      "source": Point2 {
        "x": 0.6100000000000003,
        "y": 4.27,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": -1.32,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": 2.54,
    },
    {
      "x": 6.81,
      "y": 3,
      "z": 2.54,
    },
    {
      "x": 6.81,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -1.32,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": 1.2200000000000002,
      "y": 4.114286019535978,
      "z": 0.6100000000000003,
    },
    {
      "x": 4.88,
      "y": 4.114286019535977,
      "z": 0.6100000000000001,
    },
    {
      "x": 0.9150000000000003,
      "y": 4.290377851638814,
      "z": 0.9150000000000003,
    },
    {
      "x": 0.9150000000000003,
      "y": 4.290377851638814,
      "z": 3.965,
    },
    {
      "x": 0.6100000000000003,
      "y": 4.466469683741649,
      "z": 4.27,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: half_iron_cross 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 20.000000000000004,
          "y": 20,
          "z": 4.347798204480182,
        },
        Vector3 {
          "x": 30.16,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 9.84,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 20.000000000000007,
        "y": 11.179225325698926,
        "z": 6.6253124320945895,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.9,
          "y": 9.84,
          "z": 3,
        },
        Vector3 {
          "x": 4.9,
          "y": 35.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 14.54846144417766,
        "y": 25.451538555822346,
        "z": 8.570541812061697,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 20.000000000000004,
          "y": 20,
          "z": 4.347798204480182,
        },
        Vector3 {
          "x": 14.54846144417766,
          "y": 25.451538555822346,
          "z": 8.570541812061697,
        },
      ],
      "source": Vector3 {
        "x": 20,
        "y": 26.73847223695745,
        "z": 7.827530304829147,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 20,
          "y": 26.73847223695745,
          "z": 7.827530304829147,
        },
        Vector3 {
          "x": 35.1,
          "y": 35.1,
          "z": 3,
        },
        Vector3 {
          "x": 35.1,
          "y": 9.84,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 25.451538555822346,
        "y": 25.451538555822346,
        "z": 8.570541812061697,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 25.22,
          "y": 14.78,
          "z": 3,
        },
        Vector3 {
          "x": 14.78,
          "y": 14.78,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 20.000000000000004,
        "y": 20,
        "z": 4.347798204480182,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 3.6253124320945895,
      "sinks": [
        Point2 {
          "x": 20.000000000000004,
          "y": 20,
        },
        Point2 {
          "x": 30.16,
          "y": 4.9,
        },
        Point2 {
          "x": 9.84,
          "y": 4.9,
        },
      ],
      "source": Point2 {
        "x": 20.000000000000007,
        "y": 11.179225325698926,
      },
    },
    {
      "height": 5.5705418120616965,
      "sinks": [
        Point2 {
          "x": 4.9,
          "y": 9.84,
        },
        Point2 {
          "x": 4.9,
          "y": 35.1,
        },
      ],
      "source": Point2 {
        "x": 14.54846144417766,
        "y": 25.451538555822346,
      },
    },
    {
      "height": 4.827530304829147,
      "sinks": [
        Point2 {
          "x": 20.000000000000004,
          "y": 20,
        },
        Point2 {
          "x": 14.54846144417766,
          "y": 25.451538555822346,
        },
      ],
      "source": Point2 {
        "x": 20,
        "y": 26.73847223695745,
      },
    },
    {
      "height": 5.5705418120616965,
      "sinks": [
        Point2 {
          "x": 20,
          "y": 26.73847223695745,
        },
        Point2 {
          "x": 35.1,
          "y": 35.1,
        },
        Point2 {
          "x": 35.1,
          "y": 9.84,
        },
      ],
      "source": Point2 {
        "x": 25.451538555822346,
        "y": 25.451538555822346,
      },
    },
    {
      "height": 1.3477982044801822,
      "sinks": [
        Point2 {
          "x": 25.22,
          "y": 14.78,
        },
        Point2 {
          "x": 14.78,
          "y": 14.78,
        },
      ],
      "source": Point2 {
        "x": 20.000000000000004,
        "y": 20,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 14.78,
      "y": 3,
      "z": 14.78,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 9.84,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 35.1,
    },
    {
      "x": 35.1,
      "y": 3,
      "z": 35.1,
    },
    {
      "x": 35.1,
      "y": 3,
      "z": 9.84,
    },
    {
      "x": 25.22,
      "y": 3,
      "z": 14.78,
    },
    {
      "x": 30.16,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 9.84,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 20.000000000000007,
      "y": 6.6253124320945895,
      "z": 11.179225325698926,
    },
    {
      "x": 14.54846144417766,
      "y": 8.570541812061697,
      "z": 25.451538555822346,
    },
    {
      "x": 20,
      "y": 7.827530304829147,
      "z": 26.73847223695745,
    },
    {
      "x": 25.451538555822346,
      "y": 8.570541812061697,
      "z": 25.451538555822346,
    },
    {
      "x": 20.000000000000004,
      "y": 4.347798204480182,
      "z": 20,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: l_shape_1 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 16.1,
          "z": 3,
        },
        Vector3 {
          "x": 8.1,
          "y": 16.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 14.000000000000002,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 14.000000000000002,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 8.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 12,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 3.9,
          "z": 3,
        },
        Vector3 {
          "x": 3.9,
          "y": 3.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 8,
        "y": 8,
        "z": 5.367136103677465,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 12,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 12.1,
          "y": 14.1,
          "z": 3,
        },
        Vector3 {
          "x": 8,
          "y": 8,
          "z": 5.367136103677465,
        },
      ],
      "source": Vector3 {
        "x": 8,
        "y": 10,
        "z": 5.367136103677465,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 3.9,
          "y": 16.1,
        },
        Point2 {
          "x": 8.1,
          "y": 16.1,
        },
      ],
      "source": Point2 {
        "x": 6,
        "y": 14.000000000000002,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 6,
          "y": 14.000000000000002,
        },
        Point2 {
          "x": 8.1,
          "y": 14.1,
        },
      ],
      "source": Point2 {
        "x": 6,
        "y": 12,
      },
    },
    {
      "height": 2.367136103677465,
      "sinks": [
        Point2 {
          "x": 12.1,
          "y": 3.9,
        },
        Point2 {
          "x": 3.9,
          "y": 3.9,
        },
      ],
      "source": Point2 {
        "x": 8,
        "y": 8,
      },
    },
    {
      "height": 2.367136103677465,
      "sinks": [
        Point2 {
          "x": 6,
          "y": 12,
        },
        Point2 {
          "x": 12.1,
          "y": 14.1,
        },
        Point2 {
          "x": 8,
          "y": 8,
        },
      ],
      "source": Point2 {
        "x": 8,
        "y": 10,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 14.000000000000002,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 12,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 8,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 10,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: l_shape_2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 7.1,
          "y": 4.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 3,
        "z": 3.6350852961085884,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 3,
          "z": 3.6350852961085884,
        },
        Vector3 {
          "x": 10.1,
          "y": 4.1,
          "z": 3,
        },
        Vector3 {
          "x": 10.1,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 3,
        "z": 3.635085296108588,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.9,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": 1.9,
          "y": 7.1,
          "z": 3,
        },
        Vector3 {
          "x": 6,
          "y": 3,
          "z": 3.6350852961085884,
        },
        Vector3 {
          "x": 7.1,
          "y": 7.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.5,
        "y": 4.5,
        "z": 4.501110699893027,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.6350852961085883,
      "sinks": [
        Point2 {
          "x": 7.1,
          "y": 4.1,
        },
      ],
      "source": Point2 {
        "x": 6,
        "y": 3,
      },
    },
    {
      "height": 0.6350852961085881,
      "sinks": [
        Point2 {
          "x": 6,
          "y": 3,
        },
        Point2 {
          "x": 10.1,
          "y": 4.1,
        },
        Point2 {
          "x": 10.1,
          "y": 1.9,
        },
      ],
      "source": Point2 {
        "x": 9,
        "y": 3,
      },
    },
    {
      "height": 1.501110699893027,
      "sinks": [
        Point2 {
          "x": 1.9,
          "y": 1.9,
        },
        Point2 {
          "x": 1.9,
          "y": 7.1,
        },
        Point2 {
          "x": 6,
          "y": 3,
        },
        Point2 {
          "x": 7.1,
          "y": 7.1,
        },
      ],
      "source": Point2 {
        "x": 4.5,
        "y": 4.5,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 7.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 6,
      "y": 3.6350852961085884,
      "z": 3,
    },
    {
      "x": 9,
      "y": 3.635085296108588,
      "z": 3,
    },
    {
      "x": 4.5,
      "y": 4.501110699893027,
      "z": 4.5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: l_shape_3 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 7.1,
          "y": 5.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5,
        "y": 3,
        "z": 4.212435565298215,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5,
          "y": 3,
          "z": 4.212435565298215,
        },
        Vector3 {
          "x": 13.1,
          "y": 5.1,
          "z": 3,
        },
        Vector3 {
          "x": 13.1,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 11,
        "y": 3,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5,
          "y": 3,
          "z": 4.212435565298215,
        },
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 4,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4,
          "y": 4,
          "z": 4.78978583448784,
        },
        Vector3 {
          "x": 0.9,
          "y": 8.1,
          "z": 3,
        },
        Vector3 {
          "x": 7.1,
          "y": 8.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.9999999999999996,
        "y": 5,
        "z": 4.789785834487839,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.2124355652982142,
      "sinks": [
        Point2 {
          "x": 7.1,
          "y": 5.1,
        },
      ],
      "source": Point2 {
        "x": 5,
        "y": 3,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 5,
          "y": 3,
        },
        Point2 {
          "x": 13.1,
          "y": 5.1,
        },
        Point2 {
          "x": 13.1,
          "y": 0.9,
        },
      ],
      "source": Point2 {
        "x": 11,
        "y": 3,
      },
    },
    {
      "height": 1.78978583448784,
      "sinks": [
        Point2 {
          "x": 5,
          "y": 3,
        },
        Point2 {
          "x": 0.9,
          "y": 0.9,
        },
      ],
      "source": Point2 {
        "x": 4,
        "y": 4,
      },
    },
    {
      "height": 1.7897858344878395,
      "sinks": [
        Point2 {
          "x": 4,
          "y": 4,
        },
        Point2 {
          "x": 0.9,
          "y": 8.1,
        },
        Point2 {
          "x": 7.1,
          "y": 8.1,
        },
      ],
      "source": Point2 {
        "x": 3.9999999999999996,
        "y": 5,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 7.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 13.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 13.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 5,
      "y": 4.212435565298215,
      "z": 3,
    },
    {
      "x": 11,
      "y": 4.212435565298214,
      "z": 3,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 3.9999999999999996,
      "y": 4.789785834487839,
      "z": 5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: rectangle 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 3.9,
          "z": 3,
        },
        Vector3 {
          "x": 3.9,
          "y": 12.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 8,
        "y": 8,
        "z": 5.367136103677465,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8,
          "y": 8,
          "z": 5.367136103677465,
        },
        Vector3 {
          "x": 24.1,
          "y": 12.1,
          "z": 3,
        },
        Vector3 {
          "x": 24.1,
          "y": 3.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 20,
        "y": 8,
        "z": 5.367136103677465,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 2.367136103677465,
      "sinks": [
        Point2 {
          "x": 3.9,
          "y": 3.9,
        },
        Point2 {
          "x": 3.9,
          "y": 12.1,
        },
      ],
      "source": Point2 {
        "x": 8,
        "y": 8,
      },
    },
    {
      "height": 2.367136103677465,
      "sinks": [
        Point2 {
          "x": 8,
          "y": 8,
        },
        Point2 {
          "x": 24.1,
          "y": 12.1,
        },
        Point2 {
          "x": 24.1,
          "y": 3.9,
        },
      ],
      "source": Point2 {
        "x": 20,
        "y": 8,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 24.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 24.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 8,
    },
    {
      "x": 20,
      "y": 5.367136103677465,
      "z": 8,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: simple_1 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 16.04,
          "y": 14.18,
          "z": 3,
        },
        Vector3 {
          "x": 18.11,
          "y": 9.01,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 14.944368566642424,
        "y": 8.847260643697126,
        "z": 4.731654207208618,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.9,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": 2.9,
          "y": 12.21,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.190045624922629,
        "y": 5.190045624922629,
        "z": 4.89950872719523,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.190045624922629,
          "y": 5.190045624922629,
          "z": 4.89950872719523,
        },
        Vector3 {
          "x": 8.99,
          "y": 7.14,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9.126297778439174,
        "y": 4.127780581269664,
        "z": 4.286209718291461,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.126297778439174,
          "y": 4.127780581269664,
          "z": 4.286209718291461,
        },
        Vector3 {
          "x": 14.944368566642424,
          "y": 8.847260643697126,
          "z": 4.731654207208618,
        },
        Vector3 {
          "x": 16.08,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 13.144744034822164,
        "y": 5.790605112191723,
        "z": 5.246241908834426,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.7316542072086183,
      "sinks": [
        Point2 {
          "x": 16.04,
          "y": 14.18,
        },
        Point2 {
          "x": 18.11,
          "y": 9.01,
        },
      ],
      "source": Point2 {
        "x": 14.944368566642424,
        "y": 8.847260643697126,
      },
    },
    {
      "height": 1.8995087271952302,
      "sinks": [
        Point2 {
          "x": 2.9,
          "y": 1.9,
        },
        Point2 {
          "x": 2.9,
          "y": 12.21,
        },
      ],
      "source": Point2 {
        "x": 6.190045624922629,
        "y": 5.190045624922629,
      },
    },
    {
      "height": 1.2862097182914616,
      "sinks": [
        Point2 {
          "x": 6.190045624922629,
          "y": 5.190045624922629,
        },
        Point2 {
          "x": 8.99,
          "y": 7.14,
        },
      ],
      "source": Point2 {
        "x": 9.126297778439174,
        "y": 4.127780581269664,
      },
    },
    {
      "height": 2.2462419088344254,
      "sinks": [
        Point2 {
          "x": 9.126297778439174,
          "y": 4.127780581269664,
        },
        Point2 {
          "x": 14.944368566642424,
          "y": 8.847260643697126,
        },
        Point2 {
          "x": 16.08,
          "y": 1.9,
        },
      ],
      "source": Point2 {
        "x": 13.144744034822164,
        "y": 5.790605112191723,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 8.99,
      "y": 3,
      "z": 7.14,
    },
    {
      "x": 16.04,
      "y": 3,
      "z": 14.18,
    },
    {
      "x": 18.11,
      "y": 3,
      "z": 9.01,
    },
    {
      "x": 16.08,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 2.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 2.9,
      "y": 3,
      "z": 12.21,
    },
    {
      "x": 14.944368566642424,
      "y": 4.731654207208618,
      "z": 8.847260643697126,
    },
    {
      "x": 6.190045624922629,
      "y": 4.89950872719523,
      "z": 5.190045624922629,
    },
    {
      "x": 9.126297778439174,
      "y": 4.286209718291461,
      "z": 4.127780581269664,
    },
    {
      "x": 13.144744034822164,
      "y": 5.246241908834426,
      "z": 5.790605112191723,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: simple_2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 8.1,
          "y": 4.93,
          "z": 3,
        },
        Vector3 {
          "x": 8.1,
          "y": 1.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.7265316068790195,
        "y": 3.773468393120981,
        "z": 4.3703226156814665,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 1.4,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 5.56,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.474404413487008,
        "y": 3.974404413487008,
        "z": 4.486333081129684,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.474404413487008,
          "y": 3.974404413487008,
          "z": 4.486333081129684,
        },
        Vector3 {
          "x": 4.79,
          "y": 7.52,
          "z": 3,
        },
        Vector3 {
          "x": 5.7265316068790195,
          "y": 3.773468393120981,
          "z": 4.3703226156814665,
        },
      ],
      "source": Vector3 {
        "x": 4.462436578847668,
        "y": 4.209254155420391,
        "z": 4.621923642854037,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.3703226156814663,
      "sinks": [
        Point2 {
          "x": 8.1,
          "y": 4.93,
        },
        Point2 {
          "x": 8.1,
          "y": 1.4,
        },
      ],
      "source": Point2 {
        "x": 5.7265316068790195,
        "y": 3.773468393120981,
      },
    },
    {
      "height": 1.4863330811296847,
      "sinks": [
        Point2 {
          "x": 0.9,
          "y": 1.4,
        },
        Point2 {
          "x": 0.9,
          "y": 5.56,
        },
      ],
      "source": Point2 {
        "x": 3.474404413487008,
        "y": 3.974404413487008,
      },
    },
    {
      "height": 1.6219236428540373,
      "sinks": [
        Point2 {
          "x": 3.474404413487008,
          "y": 3.974404413487008,
        },
        Point2 {
          "x": 4.79,
          "y": 7.52,
        },
        Point2 {
          "x": 5.7265316068790195,
          "y": 3.773468393120981,
        },
      ],
      "source": Point2 {
        "x": 4.462436578847668,
        "y": 4.209254155420391,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 0.9,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 5.56,
    },
    {
      "x": 4.79,
      "y": 3,
      "z": 7.52,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 4.93,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 5.7265316068790195,
      "y": 4.3703226156814665,
      "z": 3.773468393120981,
    },
    {
      "x": 3.474404413487008,
      "y": 4.486333081129684,
      "z": 3.974404413487008,
    },
    {
      "x": 4.462436578847668,
      "y": 4.621923642854037,
      "z": 4.209254155420391,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: straight_cross 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 9.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.9999999999999996,
        "y": 7,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 4.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7,
        "y": 2.9999999999999996,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.9,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 2.9999999999999996,
          "y": 7,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 9.1,
          "y": 9.1,
          "z": 3,
        },
        Vector3 {
          "x": 4.9,
          "y": 9.1,
          "z": 3,
        },
        Vector3 {
          "x": 7,
          "y": 2.9999999999999996,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 9.1,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7,
        "y": 7,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7,
          "y": 7,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 4.9,
          "y": 14.1,
          "z": 3,
        },
        Vector3 {
          "x": 9.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7,
        "y": 12,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7,
          "y": 7,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 14.1,
          "y": 9.1,
          "z": 3,
        },
        Vector3 {
          "x": 14.1,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 12,
        "y": 7,
        "z": 4.212435565298214,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 0.9,
          "y": 4.9,
        },
        Point2 {
          "x": 0.9,
          "y": 9.1,
        },
      ],
      "source": Point2 {
        "x": 2.9999999999999996,
        "y": 7,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 9.1,
          "y": 0.9,
        },
        Point2 {
          "x": 4.9,
          "y": 0.9,
        },
      ],
      "source": Point2 {
        "x": 7,
        "y": 2.9999999999999996,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 4.9,
          "y": 4.9,
        },
        Point2 {
          "x": 2.9999999999999996,
          "y": 7,
        },
        Point2 {
          "x": 9.1,
          "y": 9.1,
        },
        Point2 {
          "x": 4.9,
          "y": 9.1,
        },
        Point2 {
          "x": 7,
          "y": 2.9999999999999996,
        },
        Point2 {
          "x": 9.1,
          "y": 4.9,
        },
      ],
      "source": Point2 {
        "x": 7,
        "y": 7,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 7,
          "y": 7,
        },
        Point2 {
          "x": 4.9,
          "y": 14.1,
        },
        Point2 {
          "x": 9.1,
          "y": 14.1,
        },
      ],
      "source": Point2 {
        "x": 7,
        "y": 12,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 7,
          "y": 7,
        },
        Point2 {
          "x": 14.1,
          "y": 9.1,
        },
        Point2 {
          "x": 14.1,
          "y": 4.9,
        },
      ],
      "source": Point2 {
        "x": 12,
        "y": 7,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 9.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 9.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 9.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 9.1,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 2.9999999999999996,
      "y": 4.212435565298214,
      "z": 7,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 7,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 12,
    },
    {
      "x": 12,
      "y": 4.212435565298214,
      "z": 7,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: t_shape_1 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 6.1,
          "y": 7.1,
          "z": 3,
        },
        Vector3 {
          "x": 6.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 5,
        "z": 4.212435565298215,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4,
          "y": 5,
          "z": 4.212435565298215,
        },
        Vector3 {
          "x": 10.1,
          "y": 7.1,
          "z": 3,
        },
        Vector3 {
          "x": 10.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 8,
        "y": 5,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.1,
          "y": -0.1,
          "z": 3,
        },
        Vector3 {
          "x": -0.1,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.9999999999999996,
        "y": 3,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3,
          "y": 5.999999999999999,
          "z": 4.789785834487839,
        },
        Vector3 {
          "x": -0.1,
          "y": 10.1,
          "z": 3,
        },
        Vector3 {
          "x": 6.1,
          "y": 10.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3,
        "y": 7,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.9999999999999996,
          "y": 3,
          "z": 4.78978583448784,
        },
      ],
      "source": Vector3 {
        "x": 3,
        "y": 5.999999999999999,
        "z": 4.789785834487839,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.2124355652982142,
      "sinks": [
        Point2 {
          "x": 6.1,
          "y": 7.1,
        },
        Point2 {
          "x": 6.1,
          "y": 2.9,
        },
      ],
      "source": Point2 {
        "x": 4,
        "y": 5,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 4,
          "y": 5,
        },
        Point2 {
          "x": 10.1,
          "y": 7.1,
        },
        Point2 {
          "x": 10.1,
          "y": 2.9,
        },
      ],
      "source": Point2 {
        "x": 8,
        "y": 5,
      },
    },
    {
      "height": 1.78978583448784,
      "sinks": [
        Point2 {
          "x": 6.1,
          "y": -0.1,
        },
        Point2 {
          "x": -0.1,
          "y": -0.1,
        },
      ],
      "source": Point2 {
        "x": 2.9999999999999996,
        "y": 3,
      },
    },
    {
      "height": 1.7897858344878395,
      "sinks": [
        Point2 {
          "x": 3,
          "y": 5.999999999999999,
        },
        Point2 {
          "x": -0.1,
          "y": 10.1,
        },
        Point2 {
          "x": 6.1,
          "y": 10.1,
        },
      ],
      "source": Point2 {
        "x": 3,
        "y": 7,
      },
    },
    {
      "height": 1.7897858344878395,
      "sinks": [
        Point2 {
          "x": 2.9999999999999996,
          "y": 3,
        },
      ],
      "source": Point2 {
        "x": 3,
        "y": 5.999999999999999,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 6.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 4,
      "y": 4.212435565298215,
      "z": 5,
    },
    {
      "x": 8,
      "y": 4.212435565298214,
      "z": 5,
    },
    {
      "x": 2.9999999999999996,
      "y": 4.78978583448784,
      "z": 3,
    },
    {
      "x": 3,
      "y": 4.789785834487839,
      "z": 7,
    },
    {
      "x": 3,
      "y": 4.789785834487839,
      "z": 5.999999999999999,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: t_shape_2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 11.1,
          "z": 3,
        },
        Vector3 {
          "x": 12.1,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 8,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9,
          "y": 8,
          "z": 4.789785834487839,
        },
        Vector3 {
          "x": 16.6,
          "y": 11.1,
          "z": 3,
        },
        Vector3 {
          "x": 16.6,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 13.500000000000002,
        "y": 8,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7.5,
        "y": 9.5,
        "z": 5.655811238272278,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": 1.9,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.999999999999999,
        "y": 7,
        "z": 5.944486372867091,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.5,
          "y": 9.5,
          "z": 5.655811238272278,
        },
        Vector3 {
          "x": 6.999999999999999,
          "y": 7,
          "z": 5.944486372867091,
        },
        Vector3 {
          "x": 1.9,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.999999999999999,
        "y": 9,
        "z": 5.944486372867091,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.7897858344878395,
      "sinks": [
        Point2 {
          "x": 12.1,
          "y": 11.1,
        },
        Point2 {
          "x": 12.1,
          "y": 4.9,
        },
      ],
      "source": Point2 {
        "x": 9,
        "y": 8,
      },
    },
    {
      "height": 1.7897858344878395,
      "sinks": [
        Point2 {
          "x": 9,
          "y": 8,
        },
        Point2 {
          "x": 16.6,
          "y": 11.1,
        },
        Point2 {
          "x": 16.6,
          "y": 4.9,
        },
      ],
      "source": Point2 {
        "x": 13.500000000000002,
        "y": 8,
      },
    },
    {
      "height": 2.6558112382722783,
      "sinks": [
        Point2 {
          "x": 12.1,
          "y": 14.1,
        },
      ],
      "source": Point2 {
        "x": 7.5,
        "y": 9.5,
      },
    },
    {
      "height": 2.944486372867091,
      "sinks": [
        Point2 {
          "x": 12.1,
          "y": 1.9,
        },
        Point2 {
          "x": 1.9,
          "y": 1.9,
        },
      ],
      "source": Point2 {
        "x": 6.999999999999999,
        "y": 7,
      },
    },
    {
      "height": 2.9444863728670914,
      "sinks": [
        Point2 {
          "x": 7.5,
          "y": 9.5,
        },
        Point2 {
          "x": 6.999999999999999,
          "y": 7,
        },
        Point2 {
          "x": 1.9,
          "y": 14.1,
        },
      ],
      "source": Point2 {
        "x": 6.999999999999999,
        "y": 9,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 12.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 16.6,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 16.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 9,
      "y": 4.789785834487839,
      "z": 8,
    },
    {
      "x": 13.500000000000002,
      "y": 4.789785834487839,
      "z": 8,
    },
    {
      "x": 7.5,
      "y": 5.655811238272278,
      "z": 9.5,
    },
    {
      "x": 6.999999999999999,
      "y": 5.944486372867091,
      "z": 7,
    },
    {
      "x": 6.999999999999999,
      "y": 5.944486372867091,
      "z": 9,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: t_shape_3 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 7.1,
          "y": 5.1,
          "z": 3,
        },
        Vector3 {
          "x": 7.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 4,
        "z": 3.6350852961085884,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 4,
          "z": 3.6350852961085884,
        },
        Vector3 {
          "x": 10.1,
          "y": 5.1,
          "z": 3,
        },
        Vector3 {
          "x": 10.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 4,
        "z": 3.635085296108588,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 7.1,
          "z": 3,
        },
        Vector3 {
          "x": 5,
          "y": 5,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 7.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.9999999999999996,
        "y": 4,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.1,
          "y": 7.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5,
        "y": 5,
        "z": 4.212435565298214,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.6350852961085883,
      "sinks": [
        Point2 {
          "x": 7.1,
          "y": 5.1,
        },
        Point2 {
          "x": 7.1,
          "y": 2.9,
        },
      ],
      "source": Point2 {
        "x": 6,
        "y": 4,
      },
    },
    {
      "height": 0.6350852961085881,
      "sinks": [
        Point2 {
          "x": 6,
          "y": 4,
        },
        Point2 {
          "x": 10.1,
          "y": 5.1,
        },
        Point2 {
          "x": 10.1,
          "y": 2.9,
        },
      ],
      "source": Point2 {
        "x": 9,
        "y": 4,
      },
    },
    {
      "height": 1.7897858344878395,
      "sinks": [
        Point2 {
          "x": 0.9,
          "y": 7.1,
        },
        Point2 {
          "x": 5,
          "y": 5,
        },
        Point2 {
          "x": 7.1,
          "y": 0.9,
        },
        Point2 {
          "x": 0.9,
          "y": 0.9,
        },
      ],
      "source": Point2 {
        "x": 3.9999999999999996,
        "y": 4,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 7.1,
          "y": 7.1,
        },
      ],
      "source": Point2 {
        "x": 5,
        "y": 5,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 7.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 6,
      "y": 3.6350852961085884,
      "z": 4,
    },
    {
      "x": 9,
      "y": 3.635085296108588,
      "z": 4,
    },
    {
      "x": 3.9999999999999996,
      "y": 4.789785834487839,
      "z": 4,
    },
    {
      "x": 5,
      "y": 4.212435565298214,
      "z": 5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: t_shape_4 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 10.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 3.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7,
        "y": 4,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 10.1,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 7,
          "y": 4,
          "z": 4.78978583448784,
        },
        Vector3 {
          "x": 3.9,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7,
        "y": 8,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 12.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.5,
        "y": 8.5,
        "z": 5.078460969082652,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.5,
          "y": 8.5,
          "z": 5.078460969082652,
        },
        Vector3 {
          "x": 15.1,
          "y": 12.1,
          "z": 3,
        },
        Vector3 {
          "x": 15.1,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 11.5,
        "y": 8.5,
        "z": 5.078460969082652,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.5,
          "y": 8.5,
          "z": 5.078460969082652,
        },
      ],
      "source": Vector3 {
        "x": 7.5,
        "y": 8.5,
        "z": 5.078460969082652,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.78978583448784,
      "sinks": [
        Point2 {
          "x": 10.1,
          "y": 0.9,
        },
        Point2 {
          "x": 3.9,
          "y": 0.9,
        },
      ],
      "source": Point2 {
        "x": 7,
        "y": 4,
      },
    },
    {
      "height": 1.78978583448784,
      "sinks": [
        Point2 {
          "x": 10.1,
          "y": 4.9,
        },
        Point2 {
          "x": 7,
          "y": 4,
        },
        Point2 {
          "x": 3.9,
          "y": 4.9,
        },
      ],
      "source": Point2 {
        "x": 7,
        "y": 8,
      },
    },
    {
      "height": 2.0784609690826525,
      "sinks": [
        Point2 {
          "x": 0.9,
          "y": 4.9,
        },
        Point2 {
          "x": 0.9,
          "y": 12.1,
        },
      ],
      "source": Point2 {
        "x": 4.5,
        "y": 8.5,
      },
    },
    {
      "height": 2.0784609690826525,
      "sinks": [
        Point2 {
          "x": 7.5,
          "y": 8.5,
        },
        Point2 {
          "x": 15.1,
          "y": 12.1,
        },
        Point2 {
          "x": 15.1,
          "y": 4.9,
        },
      ],
      "source": Point2 {
        "x": 11.5,
        "y": 8.5,
      },
    },
    {
      "height": 2.0784609690826525,
      "sinks": [
        Point2 {
          "x": 4.5,
          "y": 8.5,
        },
      ],
      "source": Point2 {
        "x": 7.5,
        "y": 8.5,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 3.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 15.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 15.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 7,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 7,
      "y": 4.78978583448784,
      "z": 8,
    },
    {
      "x": 4.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 11.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 7.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: t_shape_5_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 2.95,
          "y": 4.98,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.484999999999999,
        "y": 2.445,
        "z": 4.463582932395701,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.484999999999999,
          "y": 2.445,
          "z": 4.463582932395701,
        },
        Vector3 {
          "x": 2.95,
          "y": 6.81,
          "z": 3,
        },
        Vector3 {
          "x": 8.02,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.484999999999999,
        "y": 4.275,
        "z": 4.463582932395701,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.484999999999999,
          "y": 2.445,
          "z": 4.463582932395701,
        },
        Vector3 {
          "x": 8.02,
          "y": -0.71,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.175,
        "y": 2.135,
        "z": 4.642561515844485,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.175,
          "y": 2.135,
          "z": 4.642561515844485,
        },
        Vector3 {
          "x": 3.15,
          "y": -0.71,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.3049999999999997,
        "y": 2.135,
        "z": 4.642561515844485,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.15,
          "y": -6.2,
          "z": 3,
        },
        Vector3 {
          "x": -3.76,
          "y": -6.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.30500000000000016,
        "y": -2.745,
        "z": 4.994745180050157,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.3049999999999997,
          "y": 2.135,
          "z": 4.642561515844485,
        },
        Vector3 {
          "x": -0.30500000000000016,
          "y": -2.745,
          "z": 4.994745180050157,
        },
        Vector3 {
          "x": -3.76,
          "y": 4.98,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.30500000000000016,
        "y": 1.5250000000000004,
        "z": 4.994745180050157,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 1.4635829323957013,
      "sinks": [
        Point2 {
          "x": 2.95,
          "y": 4.98,
        },
      ],
      "source": Point2 {
        "x": 5.484999999999999,
        "y": 2.445,
      },
    },
    {
      "height": 1.4635829323957008,
      "sinks": [
        Point2 {
          "x": 5.484999999999999,
          "y": 2.445,
        },
        Point2 {
          "x": 2.95,
          "y": 6.81,
        },
        Point2 {
          "x": 8.02,
          "y": 6.81,
        },
      ],
      "source": Point2 {
        "x": 5.484999999999999,
        "y": 4.275,
      },
    },
    {
      "height": 1.642561515844485,
      "sinks": [
        Point2 {
          "x": 5.484999999999999,
          "y": 2.445,
        },
        Point2 {
          "x": 8.02,
          "y": -0.71,
        },
      ],
      "source": Point2 {
        "x": 5.175,
        "y": 2.135,
      },
    },
    {
      "height": 1.642561515844485,
      "sinks": [
        Point2 {
          "x": 5.175,
          "y": 2.135,
        },
        Point2 {
          "x": 3.15,
          "y": -0.71,
        },
      ],
      "source": Point2 {
        "x": 0.3049999999999997,
        "y": 2.135,
      },
    },
    {
      "height": 1.994745180050157,
      "sinks": [
        Point2 {
          "x": 3.15,
          "y": -6.2,
        },
        Point2 {
          "x": -3.76,
          "y": -6.2,
        },
      ],
      "source": Point2 {
        "x": -0.30500000000000016,
        "y": -2.745,
      },
    },
    {
      "height": 1.994745180050157,
      "sinks": [
        Point2 {
          "x": 0.3049999999999997,
          "y": 2.135,
        },
        Point2 {
          "x": -0.30500000000000016,
          "y": -2.745,
        },
        Point2 {
          "x": -3.76,
          "y": 4.98,
        },
      ],
      "source": Point2 {
        "x": -0.30500000000000016,
        "y": 1.5250000000000004,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 2.95,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": -6.2,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": -6.2,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 5.484999999999999,
      "y": 4.463582932395701,
      "z": 2.445,
    },
    {
      "x": 5.484999999999999,
      "y": 4.463582932395701,
      "z": 4.275,
    },
    {
      "x": 5.175,
      "y": 4.642561515844485,
      "z": 2.135,
    },
    {
      "x": 0.3049999999999997,
      "y": 4.642561515844485,
      "z": 2.135,
    },
    {
      "x": -0.30500000000000016,
      "y": 4.994745180050157,
      "z": -2.745,
    },
    {
      "x": -0.30500000000000016,
      "y": 4.994745180050157,
      "z": 1.5250000000000004,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: t_shape_6_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 9.65,
          "y": 6.68,
          "z": 3,
        },
        Vector3 {
          "x": 9.65,
          "y": 8.63,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 10.625,
        "y": 7.655,
        "z": 3.5629165124598847,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 10.625,
          "y": 7.655,
          "z": 3.5629165124598847,
        },
        Vector3 {
          "x": 11.48,
          "y": 8.63,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 12.455,
        "y": 7.655,
        "z": 3.5629165124598856,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 16.56,
          "y": 8.63,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 15.584999999999997,
        "y": 7.655,
        "z": 3.5629165124598856,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 15.584999999999997,
          "y": 7.655,
          "z": 3.5629165124598856,
        },
        Vector3 {
          "x": 17.78,
          "y": 8.63,
          "z": 3,
        },
        Vector3 {
          "x": 17.78,
          "y": 6.68,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 16.805,
        "y": 7.655,
        "z": 3.562916512459886,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 15.584999999999997,
          "y": 7.655,
          "z": 3.5629165124598856,
        },
        Vector3 {
          "x": 12.455,
          "y": 7.655,
          "z": 3.5629165124598856,
        },
      ],
      "source": Vector3 {
        "x": 14.02,
        "y": 9.219999999999999,
        "z": 4.466469683741649,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 14.02,
          "y": 9.219999999999999,
          "z": 4.466469683741649,
        },
        Vector3 {
          "x": 11.48,
          "y": 12.29,
          "z": 3,
        },
        Vector3 {
          "x": 16.56,
          "y": 12.29,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 14.02,
        "y": 9.75,
        "z": 4.466469683741649,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.5629165124598848,
      "sinks": [
        Point2 {
          "x": 9.65,
          "y": 6.68,
        },
        Point2 {
          "x": 9.65,
          "y": 8.63,
        },
      ],
      "source": Point2 {
        "x": 10.625,
        "y": 7.655,
      },
    },
    {
      "height": 0.5629165124598854,
      "sinks": [
        Point2 {
          "x": 10.625,
          "y": 7.655,
        },
        Point2 {
          "x": 11.48,
          "y": 8.63,
        },
      ],
      "source": Point2 {
        "x": 12.455,
        "y": 7.655,
      },
    },
    {
      "height": 0.5629165124598854,
      "sinks": [
        Point2 {
          "x": 16.56,
          "y": 8.63,
        },
      ],
      "source": Point2 {
        "x": 15.584999999999997,
        "y": 7.655,
      },
    },
    {
      "height": 0.5629165124598859,
      "sinks": [
        Point2 {
          "x": 15.584999999999997,
          "y": 7.655,
        },
        Point2 {
          "x": 17.78,
          "y": 8.63,
        },
        Point2 {
          "x": 17.78,
          "y": 6.68,
        },
      ],
      "source": Point2 {
        "x": 16.805,
        "y": 7.655,
      },
    },
    {
      "height": 1.4664696837416489,
      "sinks": [
        Point2 {
          "x": 15.584999999999997,
          "y": 7.655,
        },
        Point2 {
          "x": 12.455,
          "y": 7.655,
        },
      ],
      "source": Point2 {
        "x": 14.02,
        "y": 9.219999999999999,
      },
    },
    {
      "height": 1.4664696837416489,
      "sinks": [
        Point2 {
          "x": 14.02,
          "y": 9.219999999999999,
        },
        Point2 {
          "x": 11.48,
          "y": 12.29,
        },
        Point2 {
          "x": 16.56,
          "y": 12.29,
        },
      ],
      "source": Point2 {
        "x": 14.02,
        "y": 9.75,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 16.56,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 17.78,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 17.78,
      "y": 3,
      "z": 6.68,
    },
    {
      "x": 9.65,
      "y": 3,
      "z": 6.68,
    },
    {
      "x": 9.65,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 11.48,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 11.48,
      "y": 3,
      "z": 12.29,
    },
    {
      "x": 16.56,
      "y": 3,
      "z": 12.29,
    },
    {
      "x": 10.625,
      "y": 3.5629165124598847,
      "z": 7.655,
    },
    {
      "x": 12.455,
      "y": 3.5629165124598856,
      "z": 7.655,
    },
    {
      "x": 15.584999999999997,
      "y": 3.5629165124598856,
      "z": 7.655,
    },
    {
      "x": 16.805,
      "y": 3.562916512459886,
      "z": 7.655,
    },
    {
      "x": 14.02,
      "y": 4.466469683741649,
      "z": 9.219999999999999,
    },
    {
      "x": 14.02,
      "y": 4.466469683741649,
      "z": 9.75,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: t_shape_7_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": -8.22,
          "y": -3.65,
          "z": 3,
        },
        Vector3 {
          "x": -8.22,
          "y": 4.87,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.96,
        "y": 0.6100000000000008,
        "z": 5.459512146747806,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.96,
          "y": 0.6100000000000008,
          "z": 5.459512146747806,
        },
        Vector3 {
          "x": -3.95,
          "y": 4.87,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.3099999999999996,
        "y": 0.6100000000000008,
        "z": 5.459512146747805,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.17,
          "y": 4.87,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9099999999999975,
        "y": 0.610000000000003,
        "z": 5.459512146747807,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9099999999999975,
          "y": 0.610000000000003,
          "z": 5.459512146747807,
        },
        Vector3 {
          "x": 6.39,
          "y": 4.87,
          "z": 3,
        },
        Vector3 {
          "x": 6.39,
          "y": -3.65,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.129999999999999,
        "y": 0.6099999999999994,
        "z": 5.459512146747806,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9099999999999975,
          "y": 0.610000000000003,
          "z": 5.459512146747807,
        },
        Vector3 {
          "x": 0.3099999999999996,
          "y": 0.6100000000000008,
          "z": 5.459512146747805,
        },
      ],
      "source": Vector3 {
        "x": 0.6099999999999997,
        "y": 0.9100000000000008,
        "z": 5.632717227504694,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.6099999999999997,
          "y": 0.9100000000000008,
          "z": 5.632717227504694,
        },
        Vector3 {
          "x": -3.95,
          "y": 7.61,
          "z": 3,
        },
        Vector3 {
          "x": 5.17,
          "y": 7.61,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.6100000000000012,
        "y": 3.049999999999999,
        "z": 5.632717227504694,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 2.459512146747806,
      "sinks": [
        Point2 {
          "x": -8.22,
          "y": -3.65,
        },
        Point2 {
          "x": -8.22,
          "y": 4.87,
        },
      ],
      "source": Point2 {
        "x": -3.96,
        "y": 0.6100000000000008,
      },
    },
    {
      "height": 2.4595121467478056,
      "sinks": [
        Point2 {
          "x": -3.96,
          "y": 0.6100000000000008,
        },
        Point2 {
          "x": -3.95,
          "y": 4.87,
        },
      ],
      "source": Point2 {
        "x": 0.3099999999999996,
        "y": 0.6100000000000008,
      },
    },
    {
      "height": 2.4595121467478074,
      "sinks": [
        Point2 {
          "x": 5.17,
          "y": 4.87,
        },
      ],
      "source": Point2 {
        "x": 0.9099999999999975,
        "y": 0.610000000000003,
      },
    },
    {
      "height": 2.459512146747806,
      "sinks": [
        Point2 {
          "x": 0.9099999999999975,
          "y": 0.610000000000003,
        },
        Point2 {
          "x": 6.39,
          "y": 4.87,
        },
        Point2 {
          "x": 6.39,
          "y": -3.65,
        },
      ],
      "source": Point2 {
        "x": 2.129999999999999,
        "y": 0.6099999999999994,
      },
    },
    {
      "height": 2.6327172275046937,
      "sinks": [
        Point2 {
          "x": 0.9099999999999975,
          "y": 0.610000000000003,
        },
        Point2 {
          "x": 0.3099999999999996,
          "y": 0.6100000000000008,
        },
      ],
      "source": Point2 {
        "x": 0.6099999999999997,
        "y": 0.9100000000000008,
      },
    },
    {
      "height": 2.632717227504694,
      "sinks": [
        Point2 {
          "x": 0.6099999999999997,
          "y": 0.9100000000000008,
        },
        Point2 {
          "x": -3.95,
          "y": 7.61,
        },
        Point2 {
          "x": 5.17,
          "y": 7.61,
        },
      ],
      "source": Point2 {
        "x": 0.6100000000000012,
        "y": 3.049999999999999,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 5.17,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": 6.39,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": 6.39,
      "y": 3,
      "z": -3.65,
    },
    {
      "x": -8.22,
      "y": 3,
      "z": -3.65,
    },
    {
      "x": -8.22,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": -3.95,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": -3.95,
      "y": 3,
      "z": 7.61,
    },
    {
      "x": 5.17,
      "y": 3,
      "z": 7.61,
    },
    {
      "x": -3.96,
      "y": 5.459512146747806,
      "z": 0.6100000000000008,
    },
    {
      "x": 0.3099999999999996,
      "y": 5.459512146747805,
      "z": 0.6100000000000008,
    },
    {
      "x": 0.9099999999999975,
      "y": 5.459512146747807,
      "z": 0.610000000000003,
    },
    {
      "x": 2.129999999999999,
      "y": 5.459512146747806,
      "z": 0.6099999999999994,
    },
    {
      "x": 0.6099999999999997,
      "y": 5.632717227504694,
      "z": 0.9100000000000008,
    },
    {
      "x": 0.6100000000000012,
      "y": 5.632717227504694,
      "z": 3.049999999999999,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: t_shape_8_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": -0.7,
          "y": 1.3,
          "z": 3,
        },
        Vector3 {
          "x": 1.9,
          "y": 1.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.5999999999999996,
        "y": 2.220446049250313e-16,
        "z": 3.750555349946514,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.5999999999999996,
          "y": 2.220446049250313e-16,
          "z": 3.750555349946514,
        },
        Vector3 {
          "x": -0.7,
          "y": 5.5,
          "z": 3,
        },
        Vector3 {
          "x": 1.9,
          "y": 5.5,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.6000000000000001,
        "y": 4.2,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.4500000000000002,
          "y": -1.05,
          "z": 4.35677313259562,
        },
        Vector3 {
          "x": 4.6,
          "y": 1.3,
          "z": 3,
        },
        Vector3 {
          "x": 4.6,
          "y": -3.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.2499999999999996,
        "y": -1.0499999999999998,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8,
          "y": 1.3,
          "z": 3,
        },
        Vector3 {
          "x": -2.8,
          "y": -3.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.4500000000000002,
        "y": -1.05,
        "z": 4.35677313259562,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.7505553499465136,
      "sinks": [
        Point2 {
          "x": -0.7,
          "y": 1.3,
        },
        Point2 {
          "x": 1.9,
          "y": 1.3,
        },
      ],
      "source": Point2 {
        "x": 0.5999999999999996,
        "y": 2.220446049250313e-16,
      },
    },
    {
      "height": 0.7505553499465133,
      "sinks": [
        Point2 {
          "x": 0.5999999999999996,
          "y": 2.220446049250313e-16,
        },
        Point2 {
          "x": -0.7,
          "y": 5.5,
        },
        Point2 {
          "x": 1.9,
          "y": 5.5,
        },
      ],
      "source": Point2 {
        "x": 0.6000000000000001,
        "y": 4.2,
      },
    },
    {
      "height": 1.3567731325956205,
      "sinks": [
        Point2 {
          "x": -0.4500000000000002,
          "y": -1.05,
        },
        Point2 {
          "x": 4.6,
          "y": 1.3,
        },
        Point2 {
          "x": 4.6,
          "y": -3.4,
        },
      ],
      "source": Point2 {
        "x": 2.2499999999999996,
        "y": -1.0499999999999998,
      },
    },
    {
      "height": 1.3567731325956203,
      "sinks": [
        Point2 {
          "x": -2.8,
          "y": 1.3,
        },
        Point2 {
          "x": -2.8,
          "y": -3.4,
        },
      ],
      "source": Point2 {
        "x": -0.4500000000000002,
        "y": -1.05,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 1.9,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": 4.6,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": 4.6,
      "y": 3,
      "z": -3.4,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -3.4,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": -0.7,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": -0.7,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": 0.5999999999999996,
      "y": 3.750555349946514,
      "z": 2.220446049250313e-16,
    },
    {
      "x": 0.6000000000000001,
      "y": 3.7505553499465134,
      "z": 4.2,
    },
    {
      "x": 2.2499999999999996,
      "y": 4.35677313259562,
      "z": -1.0499999999999998,
    },
    {
      "x": -0.4500000000000002,
      "y": 4.35677313259562,
      "z": -1.05,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: t_shape_9_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": -2.2,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.1,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.05,
        "y": 0.7499999999999998,
        "z": 3.6639528095680696,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.05,
          "y": 0.7499999999999998,
          "z": 3.6639528095680696,
        },
        Vector3 {
          "x": -2.2,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": 0.1,
          "y": 3.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.0499999999999998,
        "y": 1.9499999999999997,
        "z": 3.6639528095680696,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.3499999999999999,
        "y": 0.4499999999999999,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8,
          "y": -2.2,
          "z": 3,
        },
        Vector3 {
          "x": -1.3499999999999999,
          "y": 0.4499999999999999,
          "z": 3.8371578903249572,
        },
      ],
      "source": Vector3 {
        "x": -0.7499999999999999,
        "y": -0.15000000000000008,
        "z": 4.183568051838733,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.7499999999999999,
          "y": -0.15000000000000008,
          "z": 4.183568051838733,
        },
        Vector3 {
          "x": 8.2,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": 8.2,
          "y": -2.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.1499999999999995,
        "y": -0.15000000000000008,
        "z": 4.183568051838733,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.6639528095680697,
      "sinks": [
        Point2 {
          "x": -2.2,
          "y": 1.9,
        },
        Point2 {
          "x": 0.1,
          "y": 1.9,
        },
      ],
      "source": Point2 {
        "x": -1.05,
        "y": 0.7499999999999998,
      },
    },
    {
      "height": 0.6639528095680698,
      "sinks": [
        Point2 {
          "x": -1.05,
          "y": 0.7499999999999998,
        },
        Point2 {
          "x": -2.2,
          "y": 3.1,
        },
        Point2 {
          "x": 0.1,
          "y": 3.1,
        },
      ],
      "source": Point2 {
        "x": -1.0499999999999998,
        "y": 1.9499999999999997,
      },
    },
    {
      "height": 0.8371578903249572,
      "sinks": [
        Point2 {
          "x": -2.8,
          "y": 1.9,
        },
      ],
      "source": Point2 {
        "x": -1.3499999999999999,
        "y": 0.4499999999999999,
      },
    },
    {
      "height": 1.1835680518387326,
      "sinks": [
        Point2 {
          "x": -2.8,
          "y": -2.2,
        },
        Point2 {
          "x": -1.3499999999999999,
          "y": 0.4499999999999999,
        },
      ],
      "source": Point2 {
        "x": -0.7499999999999999,
        "y": -0.15000000000000008,
      },
    },
    {
      "height": 1.1835680518387328,
      "sinks": [
        Point2 {
          "x": -0.7499999999999999,
          "y": -0.15000000000000008,
        },
        Point2 {
          "x": 8.2,
          "y": 1.9,
        },
        Point2 {
          "x": 8.2,
          "y": -2.2,
        },
      ],
      "source": Point2 {
        "x": 6.1499999999999995,
        "y": -0.15000000000000008,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": -2.2,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -2.2,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 8.2,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 8.2,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -1.05,
      "y": 3.6639528095680696,
      "z": 0.7499999999999998,
    },
    {
      "x": -1.0499999999999998,
      "y": 3.6639528095680696,
      "z": 1.9499999999999997,
    },
    {
      "x": -1.3499999999999999,
      "y": 3.8371578903249572,
      "z": 0.4499999999999999,
    },
    {
      "x": -0.7499999999999999,
      "y": 4.183568051838733,
      "z": -0.15000000000000008,
    },
    {
      "x": 6.1499999999999995,
      "y": 4.183568051838733,
      "z": -0.15000000000000008,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: t_shape_10_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": -4.67,
          "y": 0.81,
          "z": 3,
        },
        Vector3 {
          "x": -4.67,
          "y": 3.45,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.3499999999999996,
        "y": 2.13,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.3499999999999996,
          "y": 2.13,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": -4.37,
          "y": 3.45,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.05,
        "y": 2.13,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.42,
          "y": 3.45,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.74,
        "y": 2.13,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.74,
          "y": 2.13,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": 4.67,
          "y": 3.45,
          "z": 3,
        },
        Vector3 {
          "x": 4.67,
          "y": 0.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.3499999999999996,
        "y": 2.13,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.74,
          "y": 2.13,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": -3.05,
          "y": 2.13,
          "z": 3.762102355330306,
        },
      ],
      "source": Vector3 {
        "x": -2.895,
        "y": 2.2849999999999997,
        "z": 3.851591647054698,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.895,
          "y": 2.2849999999999997,
          "z": 3.851591647054698,
        },
        Vector3 {
          "x": -4.37,
          "y": 4.06,
          "z": 3,
        },
        Vector3 {
          "x": -1.42,
          "y": 4.06,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.895,
        "y": 2.5849999999999995,
        "z": 3.851591647054698,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.7621023553303061,
      "sinks": [
        Point2 {
          "x": -4.67,
          "y": 0.81,
        },
        Point2 {
          "x": -4.67,
          "y": 3.45,
        },
      ],
      "source": Point2 {
        "x": -3.3499999999999996,
        "y": 2.13,
      },
    },
    {
      "height": 0.7621023553303061,
      "sinks": [
        Point2 {
          "x": -3.3499999999999996,
          "y": 2.13,
        },
        Point2 {
          "x": -4.37,
          "y": 3.45,
        },
      ],
      "source": Point2 {
        "x": -3.05,
        "y": 2.13,
      },
    },
    {
      "height": 0.7621023553303059,
      "sinks": [
        Point2 {
          "x": -1.42,
          "y": 3.45,
        },
      ],
      "source": Point2 {
        "x": -2.74,
        "y": 2.13,
      },
    },
    {
      "height": 0.7621023553303061,
      "sinks": [
        Point2 {
          "x": -2.74,
          "y": 2.13,
        },
        Point2 {
          "x": 4.67,
          "y": 3.45,
        },
        Point2 {
          "x": 4.67,
          "y": 0.81,
        },
      ],
      "source": Point2 {
        "x": 3.3499999999999996,
        "y": 2.13,
      },
    },
    {
      "height": 0.8515916470546977,
      "sinks": [
        Point2 {
          "x": -2.74,
          "y": 2.13,
        },
        Point2 {
          "x": -3.05,
          "y": 2.13,
        },
      ],
      "source": Point2 {
        "x": -2.895,
        "y": 2.2849999999999997,
      },
    },
    {
      "height": 0.851591647054698,
      "sinks": [
        Point2 {
          "x": -2.895,
          "y": 2.2849999999999997,
        },
        Point2 {
          "x": -4.37,
          "y": 4.06,
        },
        Point2 {
          "x": -1.42,
          "y": 4.06,
        },
      ],
      "source": Point2 {
        "x": -2.895,
        "y": 2.5849999999999995,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": -4.37,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 4.06,
    },
    {
      "x": -1.42,
      "y": 3,
      "z": 4.06,
    },
    {
      "x": -1.42,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": -4.67,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": -4.67,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": -3.3499999999999996,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": -3.05,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": -2.74,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": 3.3499999999999996,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": -2.895,
      "y": 3.851591647054698,
      "z": 2.2849999999999997,
    },
    {
      "x": -2.895,
      "y": 3.851591647054698,
      "z": 2.5849999999999995,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: t_shape_11_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": -3.1,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": 0.1,
          "y": 3.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.5000000000000002,
        "y": 1.5000000000000002,
        "z": 3.9237604307034015,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.5000000000000002,
          "y": 1.5000000000000002,
          "z": 3.9237604307034015,
        },
        Vector3 {
          "x": -3.1,
          "y": 5.5,
          "z": 3,
        },
        Vector3 {
          "x": 0.1,
          "y": 5.5,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.5,
        "y": 3.9,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.9,
          "y": -1.3,
          "z": 3,
        },
        Vector3 {
          "x": -4.9,
          "y": 3.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.6999999999999997,
        "y": 0.8999999999999995,
        "z": 4.270170592217177,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.1000000000000005,
          "y": 0.8999999999999992,
          "z": 4.270170592217177,
        },
        Vector3 {
          "x": 1.9,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": 1.9,
          "y": -1.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.3000000000000007,
        "y": 0.9000000000000006,
        "z": 4.270170592217177,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.6999999999999997,
          "y": 0.8999999999999995,
          "z": 4.270170592217177,
        },
      ],
      "source": Vector3 {
        "x": -2.1000000000000005,
        "y": 0.8999999999999992,
        "z": 4.270170592217177,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.9237604307034013,
      "sinks": [
        Point2 {
          "x": -3.1,
          "y": 3.1,
        },
        Point2 {
          "x": 0.1,
          "y": 3.1,
        },
      ],
      "source": Point2 {
        "x": -1.5000000000000002,
        "y": 1.5000000000000002,
      },
    },
    {
      "height": 0.9237604307034012,
      "sinks": [
        Point2 {
          "x": -1.5000000000000002,
          "y": 1.5000000000000002,
        },
        Point2 {
          "x": -3.1,
          "y": 5.5,
        },
        Point2 {
          "x": 0.1,
          "y": 5.5,
        },
      ],
      "source": Point2 {
        "x": -1.5,
        "y": 3.9,
      },
    },
    {
      "height": 1.2701705922171769,
      "sinks": [
        Point2 {
          "x": -4.9,
          "y": -1.3,
        },
        Point2 {
          "x": -4.9,
          "y": 3.1,
        },
      ],
      "source": Point2 {
        "x": -2.6999999999999997,
        "y": 0.8999999999999995,
      },
    },
    {
      "height": 1.2701705922171769,
      "sinks": [
        Point2 {
          "x": -2.1000000000000005,
          "y": 0.8999999999999992,
        },
        Point2 {
          "x": 1.9,
          "y": 3.1,
        },
        Point2 {
          "x": 1.9,
          "y": -1.3,
        },
      ],
      "source": Point2 {
        "x": -0.3000000000000007,
        "y": 0.9000000000000006,
      },
    },
    {
      "height": 1.2701705922171769,
      "sinks": [
        Point2 {
          "x": -2.6999999999999997,
          "y": 0.8999999999999995,
        },
      ],
      "source": Point2 {
        "x": -2.1000000000000005,
        "y": 0.8999999999999992,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 0.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -4.9,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -4.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": -1.5000000000000002,
      "y": 3.9237604307034015,
      "z": 1.5000000000000002,
    },
    {
      "x": -1.5,
      "y": 3.923760430703401,
      "z": 3.9,
    },
    {
      "x": -2.6999999999999997,
      "y": 4.270170592217177,
      "z": 0.8999999999999995,
    },
    {
      "x": -0.3000000000000007,
      "y": 4.270170592217177,
      "z": 0.9000000000000006,
    },
    {
      "x": -2.1000000000000005,
      "y": 4.270170592217177,
      "z": 0.8999999999999992,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: the_sacred_polygon 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 10.05,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 3.9,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7.906555963042171,
        "y": 8.906555963042173,
        "z": 5.313186163785699,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 50.18,
          "y": 33.01,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 28.75766034463035,
        "y": 31.544609957958027,
        "z": 9.868518289405444,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.906555963042171,
          "y": 8.906555963042173,
          "z": 5.313186163785699,
        },
        Vector3 {
          "x": 3.9,
          "y": 52.12,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 16.539795719931092,
        "y": 37.40426657372681,
        "z": 10.297589461404094,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 19.97,
          "y": 19.77,
          "z": 3,
        },
        Vector3 {
          "x": 16.539795719931092,
          "y": 37.40426657372681,
          "z": 10.297589461404094,
        },
      ],
      "source": Vector3 {
        "x": 22.911563639901864,
        "y": 40.21539747184241,
        "z": 8.138025962093833,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 28.75766034463035,
          "y": 31.544609957958027,
          "z": 9.868518289405444,
        },
        Vector3 {
          "x": 22.911563639901864,
          "y": 40.21539747184241,
          "z": 8.138025962093833,
        },
        Vector3 {
          "x": 63.25,
          "y": 43.06,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 29.66480547919728,
        "y": 34.412232018722136,
        "z": 10.861737478690186,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 64.1,
          "y": 25.06,
          "z": 3,
        },
        Vector3 {
          "x": 64.1,
          "y": 0.89,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 49.544354708340606,
        "y": 16.610772555354032,
        "z": 11.403705727368257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 28.75766034463035,
          "y": 31.544609957958027,
          "z": 9.868518289405444,
        },
        Vector3 {
          "x": 49.544354708340606,
          "y": 16.610772555354032,
          "z": 11.403705727368257,
        },
        Vector3 {
          "x": 24.92,
          "y": 3.91,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 37.88711068102052,
        "y": 20.190243385448294,
        "z": 12.946962963348419,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 2.3131861637856987,
      "sinks": [
        Point2 {
          "x": 10.05,
          "y": 4.9,
        },
        Point2 {
          "x": 3.9,
          "y": 4.9,
        },
      ],
      "source": Point2 {
        "x": 7.906555963042171,
        "y": 8.906555963042173,
      },
    },
    {
      "height": 6.868518289405443,
      "sinks": [
        Point2 {
          "x": 50.18,
          "y": 33.01,
        },
      ],
      "source": Point2 {
        "x": 28.75766034463035,
        "y": 31.544609957958027,
      },
    },
    {
      "height": 7.297589461404095,
      "sinks": [
        Point2 {
          "x": 7.906555963042171,
          "y": 8.906555963042173,
        },
        Point2 {
          "x": 3.9,
          "y": 52.12,
        },
      ],
      "source": Point2 {
        "x": 16.539795719931092,
        "y": 37.40426657372681,
      },
    },
    {
      "height": 5.138025962093833,
      "sinks": [
        Point2 {
          "x": 19.97,
          "y": 19.77,
        },
        Point2 {
          "x": 16.539795719931092,
          "y": 37.40426657372681,
        },
      ],
      "source": Point2 {
        "x": 22.911563639901864,
        "y": 40.21539747184241,
      },
    },
    {
      "height": 7.861737478690186,
      "sinks": [
        Point2 {
          "x": 28.75766034463035,
          "y": 31.544609957958027,
        },
        Point2 {
          "x": 22.911563639901864,
          "y": 40.21539747184241,
        },
        Point2 {
          "x": 63.25,
          "y": 43.06,
        },
      ],
      "source": Point2 {
        "x": 29.66480547919728,
        "y": 34.412232018722136,
      },
    },
    {
      "height": 8.403705727368257,
      "sinks": [
        Point2 {
          "x": 64.1,
          "y": 25.06,
        },
        Point2 {
          "x": 64.1,
          "y": 0.89,
        },
      ],
      "source": Point2 {
        "x": 49.544354708340606,
        "y": 16.610772555354032,
      },
    },
    {
      "height": 9.946962963348419,
      "sinks": [
        Point2 {
          "x": 28.75766034463035,
          "y": 31.544609957958027,
        },
        Point2 {
          "x": 49.544354708340606,
          "y": 16.610772555354032,
        },
        Point2 {
          "x": 24.92,
          "y": 3.91,
        },
      ],
      "source": Point2 {
        "x": 37.88711068102052,
        "y": 20.190243385448294,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 50.18,
      "y": 3,
      "z": 33.01,
    },
    {
      "x": 64.1,
      "y": 3,
      "z": 25.06,
    },
    {
      "x": 64.1,
      "y": 3,
      "z": 0.89,
    },
    {
      "x": 24.92,
      "y": 3,
      "z": 3.91,
    },
    {
      "x": 19.97,
      "y": 3,
      "z": 19.77,
    },
    {
      "x": 10.05,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 52.12,
    },
    {
      "x": 63.25,
      "y": 3,
      "z": 43.06,
    },
    {
      "x": 7.906555963042171,
      "y": 5.313186163785699,
      "z": 8.906555963042173,
    },
    {
      "x": 28.75766034463035,
      "y": 9.868518289405444,
      "z": 31.544609957958027,
    },
    {
      "x": 16.539795719931092,
      "y": 10.297589461404094,
      "z": 37.40426657372681,
    },
    {
      "x": 22.911563639901864,
      "y": 8.138025962093833,
      "z": 40.21539747184241,
    },
    {
      "x": 29.66480547919728,
      "y": 10.861737478690186,
      "z": 34.412232018722136,
    },
    {
      "x": 49.544354708340606,
      "y": 11.403705727368257,
      "z": 16.610772555354032,
    },
    {
      "x": 37.88711068102052,
      "y": 12.946962963348419,
      "z": 20.190243385448294,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: u_shape 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 4.1,
          "y": 4.1,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.5,
        "y": 2.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.5,
          "y": 2.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 0.9,
          "y": 12.1,
          "z": 3,
        },
        Vector3 {
          "x": 4.1,
          "y": 12.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.5,
        "y": 10.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.5,
          "y": 2.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 7.9,
          "y": 4.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9.5,
        "y": 2.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 9.5,
          "y": 2.5,
          "z": 3.923760430703401,
        },
      ],
      "source": Vector3 {
        "x": 10,
        "y": 2.9999999999999996,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 10,
          "y": 2.9999999999999996,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 7.9,
          "y": 12.1,
          "z": 3,
        },
        Vector3 {
          "x": 12.1,
          "y": 12.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 10,
        "y": 10,
        "z": 4.212435565298214,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.9237604307034012,
      "sinks": [
        Point2 {
          "x": 4.1,
          "y": 4.1,
        },
        Point2 {
          "x": 0.9,
          "y": 0.9,
        },
      ],
      "source": Point2 {
        "x": 2.5,
        "y": 2.5,
      },
    },
    {
      "height": 0.923760430703401,
      "sinks": [
        Point2 {
          "x": 2.5,
          "y": 2.5,
        },
        Point2 {
          "x": 0.9,
          "y": 12.1,
        },
        Point2 {
          "x": 4.1,
          "y": 12.1,
        },
      ],
      "source": Point2 {
        "x": 2.5,
        "y": 10.5,
      },
    },
    {
      "height": 0.923760430703401,
      "sinks": [
        Point2 {
          "x": 2.5,
          "y": 2.5,
        },
        Point2 {
          "x": 7.9,
          "y": 4.1,
        },
      ],
      "source": Point2 {
        "x": 9.5,
        "y": 2.5,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 12.1,
          "y": 0.9,
        },
        Point2 {
          "x": 9.5,
          "y": 2.5,
        },
      ],
      "source": Point2 {
        "x": 10,
        "y": 2.9999999999999996,
      },
    },
    {
      "height": 1.2124355652982137,
      "sinks": [
        Point2 {
          "x": 10,
          "y": 2.9999999999999996,
        },
        Point2 {
          "x": 7.9,
          "y": 12.1,
        },
        Point2 {
          "x": 12.1,
          "y": 12.1,
        },
      ],
      "source": Point2 {
        "x": 10,
        "y": 10,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 4.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 7.9,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 7.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 4.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 2.5,
      "y": 3.923760430703401,
      "z": 2.5,
    },
    {
      "x": 2.5,
      "y": 3.923760430703401,
      "z": 10.5,
    },
    {
      "x": 9.5,
      "y": 3.923760430703401,
      "z": 2.5,
    },
    {
      "x": 10,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
    {
      "x": 10,
      "y": 4.212435565298214,
      "z": 10,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: u_shape_2_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 7.6,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 7.6,
          "y": 3.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.75,
        "y": 4.050000000000001,
        "z": 3.490747728811182,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.75,
          "y": 4.050000000000001,
          "z": 3.490747728811182,
        },
        Vector3 {
          "x": 2.5,
          "y": 3.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.6499999999999995,
        "y": 4.050000000000001,
        "z": 3.4907477288111823,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.5,
          "y": 2.5,
          "z": 3,
        },
        Vector3 {
          "x": -0.1,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.2,
        "y": 1.2,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2,
          "y": 1.2,
          "z": 3.7505553499465134,
        },
        Vector3 {
          "x": -0.1,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 1.6499999999999995,
          "y": 4.050000000000001,
          "z": 3.4907477288111823,
        },
      ],
      "source": Vector3 {
        "x": 1.1999999999999995,
        "y": 3.6000000000000005,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2,
          "y": 1.2,
          "z": 3.7505553499465134,
        },
        Vector3 {
          "x": 5.8,
          "y": 2.5,
          "z": 3,
        },
        Vector3 {
          "x": 5.8,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.5,
        "y": 1.2,
        "z": 3.7505553499465134,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.49074772881118167,
      "sinks": [
        Point2 {
          "x": 7.6,
          "y": 4.9,
        },
        Point2 {
          "x": 7.6,
          "y": 3.2,
        },
      ],
      "source": Point2 {
        "x": 6.75,
        "y": 4.050000000000001,
      },
    },
    {
      "height": 0.49074772881118217,
      "sinks": [
        Point2 {
          "x": 6.75,
          "y": 4.050000000000001,
        },
        Point2 {
          "x": 2.5,
          "y": 3.2,
        },
      ],
      "source": Point2 {
        "x": 1.6499999999999995,
        "y": 4.050000000000001,
      },
    },
    {
      "height": 0.7505553499465135,
      "sinks": [
        Point2 {
          "x": 2.5,
          "y": 2.5,
        },
        Point2 {
          "x": -0.1,
          "y": -0.1,
        },
      ],
      "source": Point2 {
        "x": 1.2,
        "y": 1.2,
      },
    },
    {
      "height": 0.7505553499465133,
      "sinks": [
        Point2 {
          "x": 1.2,
          "y": 1.2,
        },
        Point2 {
          "x": -0.1,
          "y": 4.9,
        },
        Point2 {
          "x": 1.6499999999999995,
          "y": 4.050000000000001,
        },
      ],
      "source": Point2 {
        "x": 1.1999999999999995,
        "y": 3.6000000000000005,
      },
    },
    {
      "height": 0.7505553499465133,
      "sinks": [
        Point2 {
          "x": 1.2,
          "y": 1.2,
        },
        Point2 {
          "x": 5.8,
          "y": 2.5,
        },
        Point2 {
          "x": 5.8,
          "y": -0.1,
        },
      ],
      "source": Point2 {
        "x": 4.5,
        "y": 1.2,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 2.5,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 2.5,
      "y": 3,
      "z": 2.5,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": 2.5,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 6.75,
      "y": 3.490747728811182,
      "z": 4.050000000000001,
    },
    {
      "x": 1.6499999999999995,
      "y": 3.4907477288111823,
      "z": 4.050000000000001,
    },
    {
      "x": 1.2,
      "y": 3.7505553499465134,
      "z": 1.2,
    },
    {
      "x": 1.1999999999999995,
      "y": 3.7505553499465134,
      "z": 3.6000000000000005,
    },
    {
      "x": 4.5,
      "y": 3.7505553499465134,
      "z": 1.2,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 2: Skeletonization > should generate skeleton correctly for: u_shape_3_tier2 1`] = `
{
  "adjustedSkeletonForHeight": [
    {
      "sinks": [
        Vector3 {
          "x": 7.6,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 7.6,
          "y": 3.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.75,
        "y": 4.050000000000001,
        "z": 3.490747728811182,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.75,
          "y": 4.050000000000001,
          "z": 3.490747728811182,
        },
        Vector3 {
          "x": 2.5,
          "y": 3.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.6499999999999995,
        "y": 4.050000000000001,
        "z": 3.4907477288111823,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2270980637146878,
          "y": 1.1729019362853121,
          "z": 3.734910275566321,
        },
        Vector3 {
          "x": -0.1,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 1.6499999999999995,
          "y": 4.050000000000001,
          "z": 3.4907477288111823,
        },
      ],
      "source": Vector3 {
        "x": 1.1999999999999995,
        "y": 3.6000000000000005,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2270980637146878,
          "y": 1.1729019362853121,
          "z": 3.734910275566321,
        },
        Vector3 {
          "x": 5.8,
          "y": 2.81,
          "z": 3,
        },
        Vector3 {
          "x": 5.8,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.411000280007464,
        "y": 1.2889997199925356,
        "z": 3.8019393622420052,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.5,
          "y": 2.51,
          "z": 3,
        },
        Vector3 {
          "x": -0.1,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.2270980637146878,
        "y": 1.1729019362853121,
        "z": 3.734910275566321,
      },
    },
  ],
  "skeletonCleaned": [
    {
      "height": 0.49074772881118167,
      "sinks": [
        Point2 {
          "x": 7.6,
          "y": 4.9,
        },
        Point2 {
          "x": 7.6,
          "y": 3.2,
        },
      ],
      "source": Point2 {
        "x": 6.75,
        "y": 4.050000000000001,
      },
    },
    {
      "height": 0.49074772881118217,
      "sinks": [
        Point2 {
          "x": 6.75,
          "y": 4.050000000000001,
        },
        Point2 {
          "x": 2.5,
          "y": 3.2,
        },
      ],
      "source": Point2 {
        "x": 1.6499999999999995,
        "y": 4.050000000000001,
      },
    },
    {
      "height": 0.7505553499465133,
      "sinks": [
        Point2 {
          "x": 1.2270980637146878,
          "y": 1.1729019362853121,
        },
        Point2 {
          "x": -0.1,
          "y": 4.9,
        },
        Point2 {
          "x": 1.6499999999999995,
          "y": 4.050000000000001,
        },
      ],
      "source": Point2 {
        "x": 1.1999999999999995,
        "y": 3.6000000000000005,
      },
    },
    {
      "height": 0.8019393622420053,
      "sinks": [
        Point2 {
          "x": 1.2270980637146878,
          "y": 1.1729019362853121,
        },
        Point2 {
          "x": 5.8,
          "y": 2.81,
        },
        Point2 {
          "x": 5.8,
          "y": -0.1,
        },
      ],
      "source": Point2 {
        "x": 4.411000280007464,
        "y": 1.2889997199925356,
      },
    },
    {
      "height": 0.7349102755663208,
      "sinks": [
        Point2 {
          "x": 2.5,
          "y": 2.51,
        },
        Point2 {
          "x": -0.1,
          "y": -0.1,
        },
      ],
      "source": Point2 {
        "x": 1.2270980637146878,
        "y": 1.1729019362853121,
      },
    },
  ],
  "verticesForFaces": [
    {
      "x": 2.5,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 2.5,
      "y": 3,
      "z": 2.51,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": 2.81,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 6.75,
      "y": 3.490747728811182,
      "z": 4.050000000000001,
    },
    {
      "x": 1.6499999999999995,
      "y": 3.4907477288111823,
      "z": 4.050000000000001,
    },
    {
      "x": 1.1999999999999995,
      "y": 3.7505553499465134,
      "z": 3.6000000000000005,
    },
    {
      "x": 4.411000280007464,
      "y": 3.8019393622420052,
      "z": 1.2889997199925356,
    },
    {
      "x": 1.2270980637146878,
      "y": 3.734910275566321,
      "z": 1.1729019362853121,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: bug_concave 1`] = `
[
  [
    {
      "x": 12,
      "y": 3,
      "z": 12.14,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 8.24,
    },
    {
      "x": 6.885513619983074,
      "y": 3.701184038429906,
      "z": 5.307970510045735,
    },
    {
      "x": 12.002016758688722,
      "y": 4.3757987705088235,
      "z": 8.772011782193651,
    },
  ],
  [
    {
      "x": 8.1,
      "y": 3,
      "z": 8.24,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 5,
      "y": 4.789785834487839,
      "z": 11,
    },
    {
      "x": 5.000000000000001,
      "y": 4.789785834487839,
      "z": 6.551270946882588,
    },
    {
      "x": 6.885513619983074,
      "y": 3.701184038429906,
      "z": 5.307970510045735,
    },
  ],
  [
    {
      "x": 16.18,
      "y": 3,
      "z": 7.97,
    },
    {
      "x": 12,
      "y": 3,
      "z": 12.14,
    },
    {
      "x": 12.002016758688722,
      "y": 4.3757987705088235,
      "z": 8.772011782193651,
    },
  ],
  [
    {
      "x": 1.9,
      "y": 3,
      "z": 1.85,
    },
    {
      "x": 16.18,
      "y": 3,
      "z": 7.97,
    },
    {
      "x": 12.002016758688722,
      "y": 4.3757987705088235,
      "z": 8.772011782193651,
    },
    {
      "x": 6.885513619983074,
      "y": 3.701184038429906,
      "z": 5.307970510045735,
    },
    {
      "x": 5.000000000000001,
      "y": 4.789785834487839,
      "z": 6.551270946882588,
    },
  ],
  [
    {
      "x": 1.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 1.85,
    },
    {
      "x": 5.000000000000001,
      "y": 4.789785834487839,
      "z": 6.551270946882588,
    },
    {
      "x": 5,
      "y": 4.789785834487839,
      "z": 11,
    },
  ],
  [
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 5,
      "y": 4.789785834487839,
      "z": 11,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_1 1`] = `
[
  [
    {
      "x": 18.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 16.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 14.000000000000002,
      "y": 4.212435565298215,
      "z": 3,
    },
    {
      "x": 16,
      "y": 4.212435565298215,
      "z": 3,
    },
  ],
  [
    {
      "x": 16.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 16.1,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 14.5,
      "y": 3.923760430703402,
      "z": 9.5,
    },
    {
      "x": 11,
      "y": 5.944486372867092,
      "z": 6.000000000000002,
    },
    {
      "x": 14.000000000000002,
      "y": 4.212435565298215,
      "z": 3,
    },
  ],
  [
    {
      "x": 18.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 16,
      "y": 4.212435565298215,
      "z": 3,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 16,
      "y": 4.212435565298215,
      "z": 3,
    },
    {
      "x": 14.000000000000002,
      "y": 4.212435565298215,
      "z": 3,
    },
    {
      "x": 11,
      "y": 5.944486372867092,
      "z": 6.000000000000002,
    },
    {
      "x": 9,
      "y": 5.944486372867091,
      "z": 6,
    },
    {
      "x": 6.5,
      "y": 4.501110699893027,
      "z": 3.4999999999999996,
    },
    {
      "x": 3.4999999999999996,
      "y": 4.501110699893027,
      "z": 3.4999999999999996,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 3.4999999999999996,
      "y": 4.501110699893027,
      "z": 3.4999999999999996,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 3.4999999999999996,
      "y": 4.501110699893027,
      "z": 3.4999999999999996,
    },
    {
      "x": 6.5,
      "y": 4.501110699893027,
      "z": 3.4999999999999996,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 6.5,
      "y": 4.501110699893027,
      "z": 3.4999999999999996,
    },
    {
      "x": 9,
      "y": 5.944486372867091,
      "z": 6,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 9,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 12,
    },
  ],
  [
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 12,
    },
  ],
  [
    {
      "x": 8.1,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 12,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 9,
    },
  ],
  [
    {
      "x": 12.9,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 9,
    },
    {
      "x": 9,
      "y": 5.944486372867091,
      "z": 6,
    },
    {
      "x": 11,
      "y": 5.944486372867092,
      "z": 6.000000000000002,
    },
    {
      "x": 14.5,
      "y": 3.923760430703402,
      "z": 9.5,
    },
  ],
  [
    {
      "x": 12.9,
      "y": 3,
      "z": 18.1,
    },
    {
      "x": 12.9,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 14.5,
      "y": 3.923760430703402,
      "z": 9.5,
    },
    {
      "x": 15.5,
      "y": 4.501110699893028,
      "z": 10.500000000000002,
    },
    {
      "x": 15.5,
      "y": 4.501110699893028,
      "z": 15.5,
    },
  ],
  [
    {
      "x": 18.1,
      "y": 3,
      "z": 18.1,
    },
    {
      "x": 12.9,
      "y": 3,
      "z": 18.1,
    },
    {
      "x": 15.5,
      "y": 4.501110699893028,
      "z": 15.5,
    },
  ],
  [
    {
      "x": 18.1,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 18.1,
    },
    {
      "x": 15.5,
      "y": 4.501110699893028,
      "z": 15.5,
    },
    {
      "x": 15.5,
      "y": 4.501110699893028,
      "z": 10.500000000000002,
    },
  ],
  [
    {
      "x": 16.1,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 15.5,
      "y": 4.501110699893028,
      "z": 10.500000000000002,
    },
    {
      "x": 14.5,
      "y": 3.923760430703402,
      "z": 9.5,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_2 1`] = `
[
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 3.97,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 4.720108145456102,
      "y": 4.374031202863118,
      "z": 10.279891854543898,
    },
    {
      "x": 4,
      "y": 4.789785834487839,
      "z": 11,
    },
  ],
  [
    {
      "x": 3.97,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": 12.631073565666998,
      "y": 3.8480850722819153,
      "z": 3.6310735656669983,
    },
    {
      "x": 10.35002705971438,
      "y": 3.4329970789588367,
      "z": 4.350027059714381,
    },
    {
      "x": 7.953177399963563,
      "y": 4.816818875223035,
      "z": 8.953177399963565,
    },
    {
      "x": 4.911782058693406,
      "y": 4.263368217458931,
      "z": 9.911782058693408,
    },
    {
      "x": 4.720108145456102,
      "y": 4.374031202863118,
      "z": 10.279891854543898,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 4,
      "y": 4.789785834487839,
      "z": 11,
    },
    {
      "x": 4,
      "y": 4.789785834487839,
      "z": 13.000000000000002,
    },
  ],
  [
    {
      "x": 7.1,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 4,
      "y": 4.789785834487839,
      "z": 13.000000000000002,
    },
  ],
  [
    {
      "x": 7.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 4,
      "y": 4.789785834487839,
      "z": 13.000000000000002,
    },
    {
      "x": 4,
      "y": 4.789785834487839,
      "z": 11,
    },
    {
      "x": 4.720108145456102,
      "y": 4.374031202863118,
      "z": 10.279891854543898,
    },
    {
      "x": 4.911782058693406,
      "y": 4.263368217458931,
      "z": 9.911782058693408,
    },
  ],
  [
    {
      "x": 11.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 4.911782058693406,
      "y": 4.263368217458931,
      "z": 9.911782058693408,
    },
    {
      "x": 7.953177399963563,
      "y": 4.816818875223035,
      "z": 8.953177399963565,
    },
  ],
  [
    {
      "x": 11.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 7.953177399963563,
      "y": 4.816818875223035,
      "z": 8.953177399963565,
    },
    {
      "x": 10.35002705971438,
      "y": 3.4329970789588367,
      "z": 4.350027059714381,
    },
  ],
  [
    {
      "x": 14.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 10.35002705971438,
      "y": 3.4329970789588367,
      "z": 4.350027059714381,
    },
    {
      "x": 12.631073565666998,
      "y": 3.8480850722819153,
      "z": 3.6310735656669983,
    },
  ],
  [
    {
      "x": 14.1,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 12.631073565666998,
      "y": 3.8480850722819153,
      "z": 3.6310735656669983,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_3 1`] = `
[
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 7.000000000000001,
      "y": 4.789785834487839,
      "z": 7,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 7,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 8.5,
      "y": 5.655811238272278,
      "z": 5.500000000000001,
    },
    {
      "x": 7.000000000000001,
      "y": 4.789785834487839,
      "z": 7,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 7,
    },
  ],
  [
    {
      "x": 9.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 7,
    },
    {
      "x": 7.000000000000001,
      "y": 4.789785834487839,
      "z": 7,
    },
    {
      "x": 8.5,
      "y": 5.655811238272278,
      "z": 5.500000000000001,
    },
    {
      "x": 11.500000000000002,
      "y": 5.655811238272278,
      "z": 5.500000000000001,
    },
    {
      "x": 13,
      "y": 4.789785834487841,
      "z": 6.999999999999999,
    },
  ],
  [
    {
      "x": 9.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 9.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 13,
      "y": 4.789785834487841,
      "z": 6.999999999999999,
    },
    {
      "x": 13,
      "y": 4.789785834487839,
      "z": 8,
    },
    {
      "x": 13.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 13.5,
      "y": 5.078460969082652,
      "z": 10.5,
    },
  ],
  [
    {
      "x": 17.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 9.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 13.5,
      "y": 5.078460969082652,
      "z": 10.5,
    },
  ],
  [
    {
      "x": 17.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 17.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 13.5,
      "y": 5.078460969082652,
      "z": 10.5,
    },
    {
      "x": 13.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
  ],
  [
    {
      "x": 16.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 17.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 13.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 13,
      "y": 4.789785834487839,
      "z": 8,
    },
  ],
  [
    {
      "x": 16.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 16.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 13,
      "y": 4.789785834487839,
      "z": 8,
    },
    {
      "x": 13,
      "y": 4.789785834487841,
      "z": 6.999999999999999,
    },
    {
      "x": 11.500000000000002,
      "y": 5.655811238272278,
      "z": 5.500000000000001,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 16.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 11.500000000000002,
      "y": 5.655811238272278,
      "z": 5.500000000000001,
    },
    {
      "x": 8.5,
      "y": 5.655811238272278,
      "z": 5.500000000000001,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_4_tier2 1`] = `
[
  [
    {
      "x": 1.12,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 1.12,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 4.5699999999999985,
      "y": 4.99185842870421,
      "z": 1.5299999999999994,
    },
    {
      "x": 4.5699999999999985,
      "y": 4.991858428704208,
      "z": 2.7399999999999993,
    },
    {
      "x": 4.879999999999999,
      "y": 5.170837012152992,
      "z": 3.0500000000000003,
    },
  ],
  [
    {
      "x": 1.12,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 2.220446049250313e-16,
      "y": 5.523020676358664,
      "z": 0.6100000000000008,
    },
    {
      "x": 3.6499999999999995,
      "y": 5.523020676358664,
      "z": 0.6100000000000002,
    },
    {
      "x": 4.5699999999999985,
      "y": 4.99185842870421,
      "z": 1.5299999999999994,
    },
  ],
  [
    {
      "x": 4.17,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 1.12,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 4.879999999999999,
      "y": 5.170837012152992,
      "z": 3.0500000000000003,
    },
    {
      "x": 5.480000000000001,
      "y": 5.170837012152992,
      "z": 3.049999999999999,
    },
    {
      "x": 6.705000000000003,
      "y": 4.4635829323957,
      "z": 4.275,
    },
  ],
  [
    {
      "x": 4.17,
      "y": 3,
      "z": 9.24,
    },
    {
      "x": 4.17,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 6.705000000000003,
      "y": 4.4635829323957,
      "z": 4.275,
    },
    {
      "x": 6.705,
      "y": 4.463582932395701,
      "z": 6.689955621690224,
    },
  ],
  [
    {
      "x": 9.24,
      "y": 3,
      "z": 9.21,
    },
    {
      "x": 4.17,
      "y": 3,
      "z": 9.24,
    },
    {
      "x": 6.705,
      "y": 4.463582932395701,
      "z": 6.689955621690224,
    },
  ],
  [
    {
      "x": 9.24,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 9.24,
      "y": 3,
      "z": 9.21,
    },
    {
      "x": 6.705,
      "y": 4.463582932395701,
      "z": 6.689955621690224,
    },
    {
      "x": 6.705000000000003,
      "y": 4.4635829323957,
      "z": 4.275,
    },
    {
      "x": 5.480000000000001,
      "y": 5.170837012152992,
      "z": 3.049999999999999,
    },
  ],
  [
    {
      "x": 8.02,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 9.24,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 5.480000000000001,
      "y": 5.170837012152992,
      "z": 3.049999999999999,
    },
    {
      "x": 4.879999999999999,
      "y": 5.170837012152992,
      "z": 3.0500000000000003,
    },
    {
      "x": 4.5699999999999985,
      "y": 4.991858428704208,
      "z": 2.7399999999999993,
    },
  ],
  [
    {
      "x": 8.02,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 4.5699999999999985,
      "y": 4.991858428704208,
      "z": 2.7399999999999993,
    },
    {
      "x": 4.5699999999999985,
      "y": 4.99185842870421,
      "z": 1.5299999999999994,
    },
    {
      "x": 3.6499999999999995,
      "y": 5.523020676358664,
      "z": 0.6100000000000002,
    },
    {
      "x": 4.265,
      "y": 5.167950260807045,
      "z": -0.0050000000000001155,
    },
    {
      "x": 4.265,
      "y": 5.167950260807045,
      "z": -1.8350000000000004,
    },
  ],
  [
    {
      "x": 0.51,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 4.265,
      "y": 5.167950260807045,
      "z": -1.8350000000000004,
    },
  ],
  [
    {
      "x": 0.51,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": 0.51,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 4.265,
      "y": 5.167950260807045,
      "z": -1.8350000000000004,
    },
    {
      "x": 4.265,
      "y": 5.167950260807045,
      "z": -0.0050000000000001155,
    },
  ],
  [
    {
      "x": -6.81,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": 0.51,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": 4.265,
      "y": 5.167950260807045,
      "z": -0.0050000000000001155,
    },
    {
      "x": 3.6499999999999995,
      "y": 5.523020676358664,
      "z": 0.6100000000000002,
    },
    {
      "x": 2.220446049250313e-16,
      "y": 5.523020676358664,
      "z": 0.6100000000000008,
    },
    {
      "x": -1.5250000000000004,
      "y": 4.642561515844485,
      "z": -0.9149999999999998,
    },
    {
      "x": -3.965,
      "y": 4.642561515844485,
      "z": -0.9149999999999998,
    },
  ],
  [
    {
      "x": -6.81,
      "y": 3,
      "z": 1.93,
    },
    {
      "x": -6.81,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -3.965,
      "y": 4.642561515844485,
      "z": -0.9149999999999998,
    },
  ],
  [
    {
      "x": -4.37,
      "y": 3,
      "z": 1.93,
    },
    {
      "x": -6.81,
      "y": 3,
      "z": 1.93,
    },
    {
      "x": -3.965,
      "y": 4.642561515844485,
      "z": -0.9149999999999998,
    },
    {
      "x": -1.5250000000000004,
      "y": 4.642561515844485,
      "z": -0.9149999999999998,
    },
  ],
  [
    {
      "x": -4.37,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 1.93,
    },
    {
      "x": -1.5250000000000004,
      "y": 4.642561515844485,
      "z": -0.9149999999999998,
    },
    {
      "x": 2.220446049250313e-16,
      "y": 5.523020676358664,
      "z": 0.6100000000000008,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_5_tier2 1`] = `
[
  [
    {
      "x": 4.37,
      "y": 3,
      "z": 1.32,
    },
    {
      "x": 4.37,
      "y": 3,
      "z": 2.34,
    },
    {
      "x": 3.3550000000000004,
      "y": 3.58601052322747,
      "z": 3.355,
    },
    {
      "x": 2.7450000000000006,
      "y": 3.938194187433142,
      "z": 2.745,
    },
    {
      "x": 3.66,
      "y": 3.409918691124634,
      "z": 1.8300000000000003,
    },
    {
      "x": 3.66,
      "y": 3.409918691124634,
      "z": 0.6100000000000001,
    },
  ],
  [
    {
      "x": 4.37,
      "y": 3,
      "z": 2.34,
    },
    {
      "x": 10.46,
      "y": 3,
      "z": 2.34,
    },
    {
      "x": 9.445,
      "y": 3.5860105232274706,
      "z": 3.355,
    },
    {
      "x": 3.3550000000000004,
      "y": 3.58601052322747,
      "z": 3.355,
    },
  ],
  [
    {
      "x": 7.42,
      "y": 3,
      "z": 1.32,
    },
    {
      "x": 4.37,
      "y": 3,
      "z": 1.32,
    },
    {
      "x": 3.66,
      "y": 3.409918691124634,
      "z": 0.6100000000000001,
    },
    {
      "x": 5.1850000000000005,
      "y": 4.290377851638814,
      "z": -0.9149999999999999,
    },
  ],
  [
    {
      "x": 7.42,
      "y": 3,
      "z": -3.15,
    },
    {
      "x": 7.42,
      "y": 3,
      "z": 1.32,
    },
    {
      "x": 5.1850000000000005,
      "y": 4.290377851638814,
      "z": -0.9149999999999999,
    },
  ],
  [
    {
      "x": 2.95,
      "y": 3,
      "z": -3.15,
    },
    {
      "x": 7.42,
      "y": 3,
      "z": -3.15,
    },
    {
      "x": 5.1850000000000005,
      "y": 4.290377851638814,
      "z": -0.9149999999999999,
    },
  ],
  [
    {
      "x": 2.95,
      "y": 3,
      "z": 1.12,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": -3.15,
    },
    {
      "x": 5.1850000000000005,
      "y": 4.290377851638814,
      "z": -0.9149999999999999,
    },
    {
      "x": 3.66,
      "y": 3.409918691124634,
      "z": 0.6100000000000001,
    },
    {
      "x": 3.66,
      "y": 3.409918691124634,
      "z": 1.8300000000000003,
    },
  ],
  [
    {
      "x": -1.93,
      "y": 3,
      "z": 1.12,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": 1.12,
    },
    {
      "x": 3.66,
      "y": 3.409918691124634,
      "z": 1.8300000000000003,
    },
    {
      "x": 2.7450000000000006,
      "y": 3.938194187433142,
      "z": 2.745,
    },
    {
      "x": 2.135,
      "y": 3.938194187433142,
      "z": 2.745,
    },
    {
      "x": 0.9149999999999999,
      "y": 4.642561515844485,
      "z": 3.965,
    },
  ],
  [
    {
      "x": -1.93,
      "y": 3,
      "z": 4.17,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 1.12,
    },
    {
      "x": 0.9149999999999999,
      "y": 4.642561515844485,
      "z": 3.965,
    },
    {
      "x": -0.6100000000000005,
      "y": 3.7621023553303057,
      "z": 5.49,
    },
  ],
  [
    {
      "x": -3.76,
      "y": 3,
      "z": 4.17,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 4.17,
    },
    {
      "x": -0.6100000000000005,
      "y": 3.7621023553303057,
      "z": 5.49,
    },
    {
      "x": -1.2200000000000002,
      "y": 3.762102355330306,
      "z": 5.49,
    },
    {
      "x": -1.8299999999999998,
      "y": 4.114286019535977,
      "z": 6.1,
    },
  ],
  [
    {
      "x": -3.76,
      "y": 3,
      "z": 6,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 4.17,
    },
    {
      "x": -1.8299999999999998,
      "y": 4.114286019535977,
      "z": 6.1,
    },
    {
      "x": -1.8325,
      "y": 4.1128426438630035,
      "z": 7.9225,
    },
  ],
  [
    {
      "x": -6.2,
      "y": 3,
      "z": 6,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 6,
    },
    {
      "x": -1.8325,
      "y": 4.1128426438630035,
      "z": 7.9225,
    },
    {
      "x": -4.275,
      "y": 4.111399268190029,
      "z": 7.925,
    },
  ],
  [
    {
      "x": -6.2,
      "y": 3,
      "z": 9.85,
    },
    {
      "x": -6.2,
      "y": 3,
      "z": 6,
    },
    {
      "x": -4.275,
      "y": 4.111399268190029,
      "z": 7.925,
    },
  ],
  [
    {
      "x": 0.1,
      "y": 3,
      "z": 9.85,
    },
    {
      "x": -6.2,
      "y": 3,
      "z": 9.85,
    },
    {
      "x": -4.275,
      "y": 4.111399268190029,
      "z": 7.925,
    },
    {
      "x": -1.8325,
      "y": 4.1128426438630035,
      "z": 7.9225,
    },
  ],
  [
    {
      "x": 0.1,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 9.85,
    },
    {
      "x": -1.8325,
      "y": 4.1128426438630035,
      "z": 7.9225,
    },
    {
      "x": -1.8299999999999998,
      "y": 4.114286019535977,
      "z": 6.1,
    },
    {
      "x": -1.2200000000000002,
      "y": 3.762102355330306,
      "z": 5.49,
    },
  ],
  [
    {
      "x": 3.76,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": -1.2200000000000002,
      "y": 3.762102355330306,
      "z": 5.49,
    },
    {
      "x": -0.6100000000000005,
      "y": 3.7621023553303057,
      "z": 5.49,
    },
    {
      "x": 0.9149999999999999,
      "y": 4.642561515844485,
      "z": 3.965,
    },
  ],
  [
    {
      "x": 3.76,
      "y": 3,
      "z": 4.37,
    },
    {
      "x": 3.76,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 0.9149999999999999,
      "y": 4.642561515844485,
      "z": 3.965,
    },
    {
      "x": 2.135,
      "y": 3.938194187433142,
      "z": 2.745,
    },
  ],
  [
    {
      "x": 10.46,
      "y": 3,
      "z": 4.37,
    },
    {
      "x": 3.76,
      "y": 3,
      "z": 4.37,
    },
    {
      "x": 2.135,
      "y": 3.938194187433142,
      "z": 2.745,
    },
    {
      "x": 2.7450000000000006,
      "y": 3.938194187433142,
      "z": 2.745,
    },
    {
      "x": 3.3550000000000004,
      "y": 3.58601052322747,
      "z": 3.355,
    },
    {
      "x": 9.445,
      "y": 3.5860105232274706,
      "z": 3.355,
    },
  ],
  [
    {
      "x": 10.46,
      "y": 3,
      "z": 2.34,
    },
    {
      "x": 10.46,
      "y": 3,
      "z": 4.37,
    },
    {
      "x": 9.445,
      "y": 3.5860105232274706,
      "z": 3.355,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_6_tier2 1`] = `
[
  [
    {
      "x": -0.31,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -0.31,
      "y": 3,
      "z": -0.51,
    },
    {
      "x": -4.274999999999999,
      "y": 5.289193817336866,
      "z": 3.454999999999999,
    },
    {
      "x": -4.679999999999999,
      "y": 5.523020676358664,
      "z": 3.0499999999999985,
    },
    {
      "x": -1.78,
      "y": 3.84870489570875,
      "z": 0.1499999999999999,
    },
    {
      "x": -1.78,
      "y": 3.8487048957087495,
      "z": -2.29,
    },
  ],
  [
    {
      "x": -0.31,
      "y": 3,
      "z": -0.51,
    },
    {
      "x": 1.93,
      "y": 3,
      "z": -0.51,
    },
    {
      "x": -2.0349999999999993,
      "y": 5.289193817336866,
      "z": 3.454999999999999,
    },
    {
      "x": -4.274999999999999,
      "y": 5.289193817336866,
      "z": 3.454999999999999,
    },
  ],
  [
    {
      "x": -3.25,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -0.31,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -1.78,
      "y": 3.8487048957087495,
      "z": -2.29,
    },
  ],
  [
    {
      "x": -3.25,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -3.25,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -1.78,
      "y": 3.8487048957087495,
      "z": -2.29,
    },
    {
      "x": -1.78,
      "y": 3.84870489570875,
      "z": 0.1499999999999999,
    },
  ],
  [
    {
      "x": -9.55,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -3.25,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -1.78,
      "y": 3.84870489570875,
      "z": 0.1499999999999999,
    },
    {
      "x": -4.679999999999999,
      "y": 5.523020676358664,
      "z": 3.0499999999999985,
    },
    {
      "x": -5.234161287323641,
      "y": 5.523020676358664,
      "z": 3.0499999999999994,
    },
  ],
  [
    {
      "x": -9.66,
      "y": 3,
      "z": 7.5,
    },
    {
      "x": -9.55,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -5.234161287323641,
      "y": 5.523020676358664,
      "z": 3.0499999999999994,
    },
    {
      "x": -7.048900608425285,
      "y": 4.488266015168154,
      "z": 4.842247646550684,
    },
  ],
  [
    {
      "x": -7.01,
      "y": 3,
      "z": 7.42,
    },
    {
      "x": -9.66,
      "y": 3,
      "z": 7.5,
    },
    {
      "x": -7.048900608425285,
      "y": 4.488266015168154,
      "z": 4.842247646550684,
    },
  ],
  [
    {
      "x": 1.93,
      "y": 3,
      "z": 7.42,
    },
    {
      "x": -7.01,
      "y": 3,
      "z": 7.42,
    },
    {
      "x": -7.048900608425285,
      "y": 4.488266015168154,
      "z": 4.842247646550684,
    },
    {
      "x": -5.234161287323641,
      "y": 5.523020676358664,
      "z": 3.0499999999999994,
    },
    {
      "x": -4.679999999999999,
      "y": 5.523020676358664,
      "z": 3.0499999999999985,
    },
    {
      "x": -4.274999999999999,
      "y": 5.289193817336866,
      "z": 3.454999999999999,
    },
    {
      "x": -2.0349999999999993,
      "y": 5.289193817336866,
      "z": 3.454999999999999,
    },
  ],
  [
    {
      "x": 1.93,
      "y": 3,
      "z": -0.51,
    },
    {
      "x": 1.93,
      "y": 3,
      "z": 7.42,
    },
    {
      "x": -2.0349999999999993,
      "y": 5.289193817336866,
      "z": 3.454999999999999,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_7_tier2 1`] = `
[
  [
    {
      "x": -2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": 1,
    },
    {
      "x": -1.35,
      "y": 3.8371578903249572,
      "z": -0.44999999999999973,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -1.9,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -1.1999999999999997,
      "y": 3.923760430703401,
      "z": -0.6000000000000001,
    },
    {
      "x": -0.7499999999999998,
      "y": 4.183568051838733,
      "z": -0.15000000000000013,
    },
  ],
  [
    {
      "x": -2.8,
      "y": 3,
      "z": 1,
    },
    {
      "x": -6.1,
      "y": 3,
      "z": 1,
    },
    {
      "x": -4.6499999999999995,
      "y": 3.8371578903249572,
      "z": -0.44999999999999973,
    },
    {
      "x": -1.35,
      "y": 3.8371578903249572,
      "z": -0.44999999999999973,
    },
  ],
  [
    {
      "x": 2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -0.7499999999999998,
      "y": 4.183568051838733,
      "z": -0.15000000000000013,
    },
    {
      "x": 0.15000000000000036,
      "y": 4.183568051838733,
      "z": -0.1499999999999999,
    },
    {
      "x": 0.4500000000000001,
      "y": 4.35677313259562,
      "z": -0.4499999999999997,
    },
  ],
  [
    {
      "x": 2.8,
      "y": 3,
      "z": 0.7,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 0.4500000000000001,
      "y": 4.35677313259562,
      "z": -0.4499999999999997,
    },
    {
      "x": 0.44999999999999984,
      "y": 4.35677313259562,
      "z": -1.65,
    },
  ],
  [
    {
      "x": 4.3,
      "y": 3,
      "z": 0.7,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 0.7,
    },
    {
      "x": 0.44999999999999984,
      "y": 4.35677313259562,
      "z": -1.65,
    },
    {
      "x": 1.6500000000000004,
      "y": 4.35677313259562,
      "z": -1.65,
    },
    {
      "x": 2.55,
      "y": 3.8371578903249572,
      "z": -0.7500000000000001,
    },
    {
      "x": 2.8499999999999996,
      "y": 3.8371578903249572,
      "z": -0.7500000000000001,
    },
    {
      "x": 3.3,
      "y": 3.5773502691896257,
      "z": -0.30000000000000004,
    },
  ],
  [
    {
      "x": 4.3,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": 0.7,
    },
    {
      "x": 3.3,
      "y": 3.5773502691896257,
      "z": -0.30000000000000004,
    },
    {
      "x": 2.8499999999999996,
      "y": 3.8371578903249572,
      "z": -0.7500000000000001,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": 3.4499999999999997,
      "y": 3.490747728811182,
      "z": -0.44999999999999996,
    },
  ],
  [
    {
      "x": 7.3,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 3.4499999999999997,
      "y": 3.490747728811182,
      "z": -0.44999999999999996,
    },
    {
      "x": 6.449999999999999,
      "y": 3.4907477288111823,
      "z": -0.45000000000000007,
    },
  ],
  [
    {
      "x": 7.3,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": 7.3,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 6.449999999999999,
      "y": 3.4907477288111823,
      "z": -0.45000000000000007,
    },
  ],
  [
    {
      "x": 4.3,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": 7.3,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": 6.449999999999999,
      "y": 3.4907477288111823,
      "z": -0.45000000000000007,
    },
    {
      "x": 3.4499999999999997,
      "y": 3.490747728811182,
      "z": -0.44999999999999996,
    },
  ],
  [
    {
      "x": 4,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 2.8499999999999996,
      "y": 3.8371578903249572,
      "z": -0.7500000000000001,
    },
    {
      "x": 2.55,
      "y": 3.8371578903249572,
      "z": -0.7500000000000001,
    },
  ],
  [
    {
      "x": 4,
      "y": 3,
      "z": -4.6,
    },
    {
      "x": 4,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 2.55,
      "y": 3.8371578903249572,
      "z": -0.7500000000000001,
    },
    {
      "x": 1.6500000000000004,
      "y": 4.35677313259562,
      "z": -1.65,
    },
    {
      "x": 2.7,
      "y": 3.750555349946514,
      "z": -2.6999999999999997,
    },
    {
      "x": 2.7,
      "y": 3.7505553499465134,
      "z": -3.3,
    },
  ],
  [
    {
      "x": 1.4,
      "y": 3,
      "z": -4.6,
    },
    {
      "x": 4,
      "y": 3,
      "z": -4.6,
    },
    {
      "x": 2.7,
      "y": 3.7505553499465134,
      "z": -3.3,
    },
  ],
  [
    {
      "x": 1.4,
      "y": 3,
      "z": -4,
    },
    {
      "x": 1.4,
      "y": 3,
      "z": -4.6,
    },
    {
      "x": 2.7,
      "y": 3.7505553499465134,
      "z": -3.3,
    },
    {
      "x": 2.7,
      "y": 3.750555349946514,
      "z": -2.6999999999999997,
    },
  ],
  [
    {
      "x": -1.9,
      "y": 3,
      "z": -4,
    },
    {
      "x": 1.4,
      "y": 3,
      "z": -4,
    },
    {
      "x": 2.7,
      "y": 3.750555349946514,
      "z": -2.6999999999999997,
    },
    {
      "x": 1.6500000000000004,
      "y": 4.35677313259562,
      "z": -1.65,
    },
    {
      "x": 0.44999999999999984,
      "y": 4.35677313259562,
      "z": -1.65,
    },
  ],
  [
    {
      "x": -1.9,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -1.9,
      "y": 3,
      "z": -4,
    },
    {
      "x": 0.44999999999999984,
      "y": 4.35677313259562,
      "z": -1.65,
    },
    {
      "x": 0.4500000000000001,
      "y": 4.35677313259562,
      "z": -0.4499999999999997,
    },
    {
      "x": 0.15000000000000036,
      "y": 4.183568051838733,
      "z": -0.1499999999999999,
    },
  ],
  [
    {
      "x": -2.8,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -1.9,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 0.15000000000000036,
      "y": 4.183568051838733,
      "z": -0.1499999999999999,
    },
    {
      "x": -0.7499999999999998,
      "y": 4.183568051838733,
      "z": -0.15000000000000013,
    },
    {
      "x": -1.1999999999999997,
      "y": 3.923760430703401,
      "z": -0.6000000000000001,
    },
  ],
  [
    {
      "x": -6.1,
      "y": 3,
      "z": -1.9,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -1.9,
    },
    {
      "x": -1.35,
      "y": 3.8371578903249572,
      "z": -0.44999999999999973,
    },
    {
      "x": -4.6499999999999995,
      "y": 3.8371578903249572,
      "z": -0.44999999999999973,
    },
  ],
  [
    {
      "x": -6.1,
      "y": 3,
      "z": 1,
    },
    {
      "x": -6.1,
      "y": 3,
      "z": -1.9,
    },
    {
      "x": -4.6499999999999995,
      "y": 3.8371578903249572,
      "z": -0.44999999999999973,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_8_tier2 1`] = `
[
  [
    {
      "x": 1.3,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -2.8500000000000005,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -1.0500000000000005,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
  ],
  [
    {
      "x": -0.5,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": -1.3500000000000005,
      "y": 3.490747728811182,
      "z": 2.25,
    },
    {
      "x": -3,
      "y": 4.4433756729740645,
      "z": 0.6000000000000003,
    },
    {
      "x": -3,
      "y": 4.443375672974064,
      "z": -2.700000000000001,
    },
    {
      "x": -2.8500000000000005,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
  ],
  [
    {
      "x": 1.3,
      "y": 3,
      "z": -1.7,
    },
    {
      "x": 1.3,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -1.0500000000000005,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -0.9000000000000004,
      "y": 4.270170592217177,
      "z": -3,
    },
    {
      "x": -0.4500000000000002,
      "y": 4.010362971081845,
      "z": -3.45,
    },
  ],
  [
    {
      "x": 5.2,
      "y": 3,
      "z": -1.7,
    },
    {
      "x": 1.3,
      "y": 3,
      "z": -1.7,
    },
    {
      "x": -0.4500000000000002,
      "y": 4.010362971081845,
      "z": -3.45,
    },
    {
      "x": 3.45,
      "y": 4.010362971081845,
      "z": -3.45,
    },
  ],
  [
    {
      "x": 5.2,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": 5.2,
      "y": 3,
      "z": -1.7,
    },
    {
      "x": 3.45,
      "y": 4.010362971081845,
      "z": -3.45,
    },
  ],
  [
    {
      "x": -0.5,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": 5.2,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": 3.45,
      "y": 4.010362971081845,
      "z": -3.45,
    },
    {
      "x": -0.4500000000000002,
      "y": 4.010362971081845,
      "z": -3.45,
    },
    {
      "x": -0.9000000000000004,
      "y": 4.270170592217177,
      "z": -3,
    },
    {
      "x": -1.0500000000000005,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -2.8500000000000005,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -3,
      "y": 4.443375672974064,
      "z": -2.700000000000001,
    },
    {
      "x": -3.1499999999999995,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -5.55,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -6.6,
      "y": 3.750555349946514,
      "z": -3.9000000000000004,
    },
    {
      "x": -8.7,
      "y": 3.750555349946514,
      "z": -3.9000000000000004,
    },
    {
      "x": -10,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -1.8000000000000007,
      "y": 3.750555349946513,
      "z": -3.9000000000000004,
    },
  ],
  [
    {
      "x": -0.5,
      "y": 3,
      "z": -7,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -1.8000000000000007,
      "y": 3.750555349946513,
      "z": -3.9000000000000004,
    },
    {
      "x": -1.8,
      "y": 3.7505553499465134,
      "z": -5.7,
    },
  ],
  [
    {
      "x": -3.1,
      "y": 3,
      "z": -7,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": -7,
    },
    {
      "x": -1.8,
      "y": 3.7505553499465134,
      "z": -5.7,
    },
  ],
  [
    {
      "x": -3.1,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": -7,
    },
    {
      "x": -1.8,
      "y": 3.7505553499465134,
      "z": -5.7,
    },
    {
      "x": -1.8000000000000007,
      "y": 3.750555349946513,
      "z": -3.9000000000000004,
    },
  ],
  [
    {
      "x": -10,
      "y": 3,
      "z": -2.6,
    },
    {
      "x": -10,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -8.7,
      "y": 3.750555349946514,
      "z": -3.9000000000000004,
    },
  ],
  [
    {
      "x": -7.9,
      "y": 3,
      "z": -2.6,
    },
    {
      "x": -10,
      "y": 3,
      "z": -2.6,
    },
    {
      "x": -8.7,
      "y": 3.750555349946514,
      "z": -3.9000000000000004,
    },
    {
      "x": -6.6,
      "y": 3.750555349946514,
      "z": -3.9000000000000004,
    },
  ],
  [
    {
      "x": -7.9,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -7.9,
      "y": 3,
      "z": -2.6,
    },
    {
      "x": -6.6,
      "y": 3.750555349946514,
      "z": -3.9000000000000004,
    },
    {
      "x": -5.55,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
  ],
  [
    {
      "x": -5.5,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -7.9,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -5.55,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -3.1499999999999995,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
  ],
  [
    {
      "x": -5.5,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -5.5,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -3.1499999999999995,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -3,
      "y": 4.443375672974064,
      "z": -2.700000000000001,
    },
    {
      "x": -3,
      "y": 4.4433756729740645,
      "z": 0.6000000000000003,
    },
  ],
  [
    {
      "x": 2.8,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -5.5,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -3,
      "y": 4.4433756729740645,
      "z": 0.6000000000000003,
    },
    {
      "x": -1.3500000000000005,
      "y": 3.490747728811182,
      "z": 2.25,
    },
    {
      "x": 1.9499999999999997,
      "y": 3.490747728811182,
      "z": 2.25,
    },
  ],
  [
    {
      "x": 2.8,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 1.9499999999999997,
      "y": 3.490747728811182,
      "z": 2.25,
    },
  ],
  [
    {
      "x": -0.5,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 1.9499999999999997,
      "y": 3.490747728811182,
      "z": 2.25,
    },
    {
      "x": -1.3500000000000005,
      "y": 3.490747728811182,
      "z": 2.25,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_9_tier2 1`] = `
[
  [
    {
      "x": -1.7,
      "y": 3,
      "z": -4.9,
    },
    {
      "x": -1.7,
      "y": 3,
      "z": -4.3,
    },
    {
      "x": -3.45,
      "y": 4.010362971081845,
      "z": -2.5500000000000003,
    },
    {
      "x": -1.7,
      "y": 3,
      "z": -0.8,
    },
    {
      "x": -1.7,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -2.6999999999999997,
      "y": 3.5773502691896257,
      "z": 0.8999999999999999,
    },
    {
      "x": -4.199999999999999,
      "y": 4.4433756729740645,
      "z": -0.6000000000000002,
    },
    {
      "x": -4.2,
      "y": 4.4433756729740645,
      "z": -1.7999999999999998,
    },
    {
      "x": -4.2,
      "y": 4.4433756729740645,
      "z": -2.4000000000000004,
    },
  ],
  [
    {
      "x": -1.7,
      "y": 3,
      "z": -4.3,
    },
    {
      "x": 3.1,
      "y": 3,
      "z": -4.3,
    },
    {
      "x": 1.3500000000000003,
      "y": 4.010362971081845,
      "z": -2.55,
    },
    {
      "x": -3.45,
      "y": 4.010362971081845,
      "z": -2.5500000000000003,
    },
  ],
  [
    {
      "x": -6.7,
      "y": 3,
      "z": -4.9,
    },
    {
      "x": -1.7,
      "y": 3,
      "z": -4.9,
    },
    {
      "x": -4.2,
      "y": 4.4433756729740645,
      "z": -2.4000000000000004,
    },
  ],
  [
    {
      "x": -6.7,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -6.7,
      "y": 3,
      "z": -4.9,
    },
    {
      "x": -4.2,
      "y": 4.4433756729740645,
      "z": -2.4000000000000004,
    },
    {
      "x": -4.2,
      "y": 4.4433756729740645,
      "z": -1.7999999999999998,
    },
    {
      "x": -4.199999999999999,
      "y": 4.4433756729740645,
      "z": -0.6000000000000002,
    },
    {
      "x": -4.8,
      "y": 4.096965511460288,
      "z": 0,
    },
    {
      "x": -4.8,
      "y": 4.096965511460289,
      "z": 1.2,
    },
  ],
  [
    {
      "x": -2.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -6.7,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -4.8,
      "y": 4.096965511460289,
      "z": 1.2,
    },
  ],
  [
    {
      "x": -2.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -2.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -4.8,
      "y": 4.096965511460289,
      "z": 1.2,
    },
    {
      "x": -4.8,
      "y": 4.096965511460288,
      "z": 0,
    },
  ],
  [
    {
      "x": -0.5,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -2.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -4.8,
      "y": 4.096965511460288,
      "z": 0,
    },
    {
      "x": -4.199999999999999,
      "y": 4.4433756729740645,
      "z": -0.6000000000000002,
    },
    {
      "x": -2.6999999999999997,
      "y": 3.5773502691896257,
      "z": 0.8999999999999999,
    },
    {
      "x": -1.5,
      "y": 3.5773502691896257,
      "z": 0.8999999999999999,
    },
  ],
  [
    {
      "x": -0.5,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -1.5,
      "y": 3.5773502691896257,
      "z": 0.8999999999999999,
    },
  ],
  [
    {
      "x": -1.7,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -1.5,
      "y": 3.5773502691896257,
      "z": 0.8999999999999999,
    },
    {
      "x": -2.6999999999999997,
      "y": 3.5773502691896257,
      "z": 0.8999999999999999,
    },
  ],
  [
    {
      "x": 3.1,
      "y": 3,
      "z": -0.8,
    },
    {
      "x": -1.7,
      "y": 3,
      "z": -0.8,
    },
    {
      "x": -3.45,
      "y": 4.010362971081845,
      "z": -2.5500000000000003,
    },
    {
      "x": 1.3500000000000003,
      "y": 4.010362971081845,
      "z": -2.55,
    },
  ],
  [
    {
      "x": 3.1,
      "y": 3,
      "z": -4.3,
    },
    {
      "x": 3.1,
      "y": 3,
      "z": -0.8,
    },
    {
      "x": 1.3500000000000003,
      "y": 4.010362971081845,
      "z": -2.55,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_10_tier2 1`] = `
[
  [
    {
      "x": -5.6,
      "y": 3,
      "z": -3.09,
    },
    {
      "x": -5.6,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -6.6,
      "y": 3.5773502691896257,
      "z": -0.3000000000000004,
    },
    {
      "x": -6.6,
      "y": 3.5773502691896257,
      "z": -0.5999999999999996,
    },
    {
      "x": -7.392287283381367,
      "y": 4.034777545525375,
      "z": -1.3922872833813669,
    },
  ],
  [
    {
      "x": -5.6,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -3.5,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -5.55,
      "y": 4.183568051838733,
      "z": 0.7499999999999997,
    },
    {
      "x": -6.6,
      "y": 3.5773502691896257,
      "z": -0.3000000000000004,
    },
  ],
  [
    {
      "x": -11.5,
      "y": 3,
      "z": -3.41,
    },
    {
      "x": -5.6,
      "y": 3,
      "z": -3.09,
    },
    {
      "x": -7.392287283381367,
      "y": 4.034777545525375,
      "z": -1.3922872833813669,
    },
    {
      "x": -9.646623080138399,
      "y": 4.070047663591935,
      "z": -1.4533769198616027,
    },
  ],
  [
    {
      "x": -11.5,
      "y": 3,
      "z": -1,
    },
    {
      "x": -11.5,
      "y": 3,
      "z": -3.41,
    },
    {
      "x": -9.646623080138399,
      "y": 4.070047663591935,
      "z": -1.4533769198616027,
    },
    {
      "x": -10.8,
      "y": 3.404145188432738,
      "z": -0.30000000000000027,
    },
  ],
  [
    {
      "x": -15.7,
      "y": 3,
      "z": -1,
    },
    {
      "x": -11.5,
      "y": 3,
      "z": -1,
    },
    {
      "x": -10.8,
      "y": 3.404145188432738,
      "z": -0.30000000000000027,
    },
    {
      "x": -11.55,
      "y": 3.8371578903249572,
      "z": 0.4500000000000002,
    },
    {
      "x": -14.25,
      "y": 3.837157890324957,
      "z": 0.4500000000000002,
    },
  ],
  [
    {
      "x": -15.7,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -15.7,
      "y": 3,
      "z": -1,
    },
    {
      "x": -14.25,
      "y": 3.837157890324957,
      "z": 0.4500000000000002,
    },
  ],
  [
    {
      "x": -10.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -15.7,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -14.25,
      "y": 3.837157890324957,
      "z": 0.4500000000000002,
    },
    {
      "x": -11.55,
      "y": 3.8371578903249572,
      "z": 0.4500000000000002,
    },
  ],
  [
    {
      "x": -10.1,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": -10.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -11.55,
      "y": 3.8371578903249572,
      "z": 0.4500000000000002,
    },
    {
      "x": -10.8,
      "y": 3.404145188432738,
      "z": -0.30000000000000027,
    },
  ],
  [
    {
      "x": -7.6,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": -10.1,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": -10.8,
      "y": 3.404145188432738,
      "z": -0.30000000000000027,
    },
    {
      "x": -9.646623080138399,
      "y": 4.070047663591935,
      "z": -1.4533769198616027,
    },
    {
      "x": -7.392287283381367,
      "y": 4.034777545525375,
      "z": -1.3922872833813669,
    },
    {
      "x": -6.6,
      "y": 3.5773502691896257,
      "z": -0.5999999999999996,
    },
  ],
  [
    {
      "x": -7.6,
      "y": 3,
      "z": 3.67,
    },
    {
      "x": -7.6,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": -6.6,
      "y": 3.5773502691896257,
      "z": -0.5999999999999996,
    },
    {
      "x": -6.6,
      "y": 3.5773502691896257,
      "z": -0.3000000000000004,
    },
    {
      "x": -5.55,
      "y": 4.183568051838733,
      "z": 0.7499999999999997,
    },
    {
      "x": -5.550000000000001,
      "y": 4.183568051838733,
      "z": 2.15890470854624,
    },
  ],
  [
    {
      "x": -3.5,
      "y": 3,
      "z": 4.94,
    },
    {
      "x": -7.6,
      "y": 3,
      "z": 3.67,
    },
    {
      "x": -5.550000000000001,
      "y": 4.183568051838733,
      "z": 2.15890470854624,
    },
  ],
  [
    {
      "x": -3.5,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -3.5,
      "y": 3,
      "z": 4.94,
    },
    {
      "x": -5.550000000000001,
      "y": 4.183568051838733,
      "z": 2.15890470854624,
    },
    {
      "x": -5.55,
      "y": 4.183568051838733,
      "z": 0.7499999999999997,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_11_tier2 1`] = `
[
  [
    {
      "x": -1.01,
      "y": 3,
      "z": 6.5,
    },
    {
      "x": -1.01,
      "y": 3,
      "z": 4.67,
    },
    {
      "x": 0.45999999999999996,
      "y": 3.8487048957087495,
      "z": 3.2,
    },
    {
      "x": -1.01,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -1.01,
      "y": 3,
      "z": 0.2,
    },
    {
      "x": 0.915,
      "y": 4.11139926819003,
      "z": 2.125,
    },
    {
      "x": 0.915,
      "y": 4.111399268190029,
      "z": 2.745,
    },
    {
      "x": 0.9150000000000005,
      "y": 4.111399268190029,
      "z": 4.575,
    },
  ],
  [
    {
      "x": -1.01,
      "y": 3,
      "z": 4.67,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 4.67,
    },
    {
      "x": -2.29,
      "y": 3.8487048957087495,
      "z": 3.2,
    },
    {
      "x": 0.45999999999999996,
      "y": 3.8487048957087495,
      "z": 3.2,
    },
  ],
  [
    {
      "x": 5.28,
      "y": 3,
      "z": 6.5,
    },
    {
      "x": -1.01,
      "y": 3,
      "z": 6.5,
    },
    {
      "x": 0.9150000000000005,
      "y": 4.111399268190029,
      "z": 4.575,
    },
    {
      "x": 1.0650000000000004,
      "y": 4.0247967278115855,
      "z": 4.725,
    },
    {
      "x": 3.5050000000000003,
      "y": 4.0247967278115855,
      "z": 4.725,
    },
  ],
  [
    {
      "x": 5.28,
      "y": 3,
      "z": 3.15,
    },
    {
      "x": 5.28,
      "y": 3,
      "z": 6.5,
    },
    {
      "x": 3.5050000000000003,
      "y": 4.0247967278115855,
      "z": 4.725,
    },
    {
      "x": 5.180000000000001,
      "y": 3.0577350269189623,
      "z": 3.05,
    },
  ],
  [
    {
      "x": 8.94,
      "y": 3,
      "z": 3.15,
    },
    {
      "x": 5.28,
      "y": 3,
      "z": 3.15,
    },
    {
      "x": 5.180000000000001,
      "y": 3.0577350269189623,
      "z": 3.05,
    },
    {
      "x": 6.1,
      "y": 3.0577350269189627,
      "z": 3.05,
    },
    {
      "x": 7.47,
      "y": 3.84870489570875,
      "z": 1.68,
    },
  ],
  [
    {
      "x": 8.94,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": 8.94,
      "y": 3,
      "z": 3.15,
    },
    {
      "x": 7.47,
      "y": 3.84870489570875,
      "z": 1.68,
    },
    {
      "x": 7.47,
      "y": 3.84870489570875,
      "z": -1.07,
    },
  ],
  [
    {
      "x": 6,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": 8.94,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": 7.47,
      "y": 3.84870489570875,
      "z": -1.07,
    },
  ],
  [
    {
      "x": 6,
      "y": 3,
      "z": 2.95,
    },
    {
      "x": 6,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": 7.47,
      "y": 3.84870489570875,
      "z": -1.07,
    },
    {
      "x": 7.47,
      "y": 3.84870489570875,
      "z": 1.68,
    },
    {
      "x": 6.1,
      "y": 3.0577350269189627,
      "z": 3.05,
    },
  ],
  [
    {
      "x": 2.84,
      "y": 3,
      "z": 2.95,
    },
    {
      "x": 6,
      "y": 3,
      "z": 2.95,
    },
    {
      "x": 6.1,
      "y": 3.0577350269189627,
      "z": 3.05,
    },
    {
      "x": 5.180000000000001,
      "y": 3.0577350269189623,
      "z": 3.05,
    },
    {
      "x": 3.5050000000000003,
      "y": 4.0247967278115855,
      "z": 4.725,
    },
    {
      "x": 1.0650000000000004,
      "y": 4.0247967278115855,
      "z": 4.725,
    },
  ],
  [
    {
      "x": 2.84,
      "y": 3,
      "z": 0.2,
    },
    {
      "x": 2.84,
      "y": 3,
      "z": 2.95,
    },
    {
      "x": 1.0650000000000004,
      "y": 4.0247967278115855,
      "z": 4.725,
    },
    {
      "x": 0.9150000000000005,
      "y": 4.111399268190029,
      "z": 4.575,
    },
    {
      "x": 0.915,
      "y": 4.111399268190029,
      "z": 2.745,
    },
    {
      "x": 0.915,
      "y": 4.11139926819003,
      "z": 2.125,
    },
  ],
  [
    {
      "x": -1.01,
      "y": 3,
      "z": 0.2,
    },
    {
      "x": 2.84,
      "y": 3,
      "z": 0.2,
    },
    {
      "x": 0.915,
      "y": 4.11139926819003,
      "z": 2.125,
    },
  ],
  [
    {
      "x": -3.76,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -1.01,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": 0.45999999999999996,
      "y": 3.8487048957087495,
      "z": 3.2,
    },
    {
      "x": -2.29,
      "y": 3.8487048957087495,
      "z": 3.2,
    },
  ],
  [
    {
      "x": -3.76,
      "y": 3,
      "z": 4.67,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -2.29,
      "y": 3.8487048957087495,
      "z": 3.2,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_12_tier2 1`] = `
[
  [
    {
      "x": -4.37,
      "y": 3,
      "z": 2.84,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -3.0500000000000003,
      "y": 3.762102355330306,
      "z": 0.30000000000000027,
    },
    {
      "x": -3.0500000000000003,
      "y": 3.762102355330306,
      "z": 0.6100000000000001,
    },
    {
      "x": -2.745,
      "y": 3.938194187433142,
      "z": 0.7116666666666669,
    },
    {
      "x": -2.745,
      "y": 3.938194187433142,
      "z": 1.2149999999999999,
    },
  ],
  [
    {
      "x": -4.37,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -8.02,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -5.9399999999999995,
      "y": 4.2008885599144214,
      "z": -0.45999999999999996,
    },
    {
      "x": -3.8100000000000005,
      "y": 4.2008885599144214,
      "z": -0.45999999999999996,
    },
    {
      "x": -3.0500000000000003,
      "y": 3.762102355330306,
      "z": 0.30000000000000027,
    },
  ],
  [
    {
      "x": -1.12,
      "y": 3,
      "z": 2.84,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 2.84,
    },
    {
      "x": -2.745,
      "y": 3.938194187433142,
      "z": 1.2149999999999999,
    },
  ],
  [
    {
      "x": -1.12,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -1.12,
      "y": 3,
      "z": 2.84,
    },
    {
      "x": -2.745,
      "y": 3.938194187433142,
      "z": 1.2149999999999999,
    },
    {
      "x": -2.745,
      "y": 3.938194187433142,
      "z": 0.7116666666666669,
    },
    {
      "x": -2.5658333333333334,
      "y": 3.834752264203334,
      "z": 0.1741666666666667,
    },
  ],
  [
    {
      "x": 1.62,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -1.12,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -2.5658333333333334,
      "y": 3.834752264203334,
      "z": 0.1741666666666667,
    },
    {
      "x": -0.7391666666666667,
      "y": 4.362065510063192,
      "z": -0.7391666666666665,
    },
  ],
  [
    {
      "x": 1.62,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 1.62,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -0.7391666666666667,
      "y": 4.362065510063192,
      "z": -0.7391666666666665,
    },
    {
      "x": -0.43416666666666676,
      "y": 4.185973677960356,
      "z": -1.6541666666666663,
    },
  ],
  [
    {
      "x": 4.67,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 1.62,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": -0.43416666666666676,
      "y": 4.185973677960356,
      "z": -1.6541666666666663,
    },
    {
      "x": 0.1791666666666668,
      "y": 4.363027760511842,
      "z": -1.9608333333333334,
    },
    {
      "x": 0.9200000000000004,
      "y": 3.935307436087194,
      "z": -1.22,
    },
    {
      "x": 3.05,
      "y": 3.935307436087194,
      "z": -1.22,
    },
  ],
  [
    {
      "x": 4.67,
      "y": 3,
      "z": -2.84,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 3.05,
      "y": 3.935307436087194,
      "z": -1.22,
    },
  ],
  [
    {
      "x": 2.54,
      "y": 3,
      "z": -2.84,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": -2.84,
    },
    {
      "x": 3.05,
      "y": 3.935307436087194,
      "z": -1.22,
    },
    {
      "x": 0.9200000000000004,
      "y": 3.935307436087194,
      "z": -1.22,
    },
  ],
  [
    {
      "x": 2.54,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 2.54,
      "y": 3,
      "z": -2.84,
    },
    {
      "x": 0.9200000000000004,
      "y": 3.935307436087194,
      "z": -1.22,
    },
    {
      "x": 0.1791666666666668,
      "y": 4.363027760511842,
      "z": -1.9608333333333334,
    },
    {
      "x": 0.8133333333333335,
      "y": 3.9968914648007536,
      "z": -3.8633333333333333,
    },
  ],
  [
    {
      "x": -0.05,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 2.54,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 0.8133333333333335,
      "y": 3.9968914648007536,
      "z": -3.8633333333333333,
    },
  ],
  [
    {
      "x": -1.73,
      "y": 3,
      "z": -3.35,
    },
    {
      "x": -0.05,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 0.8133333333333335,
      "y": 3.9968914648007536,
      "z": -3.8633333333333333,
    },
    {
      "x": 0.1791666666666668,
      "y": 4.363027760511842,
      "z": -1.9608333333333334,
    },
    {
      "x": -0.43416666666666676,
      "y": 4.185973677960356,
      "z": -1.6541666666666663,
    },
    {
      "x": -0.7391666666666667,
      "y": 4.362065510063192,
      "z": -0.7391666666666665,
    },
    {
      "x": -2.5658333333333334,
      "y": 3.834752264203334,
      "z": 0.1741666666666667,
    },
    {
      "x": -2.745,
      "y": 3.938194187433142,
      "z": 0.7116666666666669,
    },
    {
      "x": -3.0500000000000003,
      "y": 3.762102355330306,
      "z": 0.6100000000000001,
    },
  ],
  [
    {
      "x": -1.73,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -1.73,
      "y": 3,
      "z": -3.35,
    },
    {
      "x": -3.0500000000000003,
      "y": 3.762102355330306,
      "z": 0.6100000000000001,
    },
    {
      "x": -3.0500000000000003,
      "y": 3.762102355330306,
      "z": 0.30000000000000027,
    },
    {
      "x": -3.8100000000000005,
      "y": 4.2008885599144214,
      "z": -0.45999999999999996,
    },
    {
      "x": -3.66,
      "y": 4.114286019535977,
      "z": -0.6100000000000003,
    },
    {
      "x": -3.66,
      "y": 4.114286019535977,
      "z": -3.66,
    },
  ],
  [
    {
      "x": -5.59,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -1.73,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -3.66,
      "y": 4.114286019535977,
      "z": -3.66,
    },
  ],
  [
    {
      "x": -5.59,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": -5.59,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -3.66,
      "y": 4.114286019535977,
      "z": -3.66,
    },
    {
      "x": -3.66,
      "y": 4.114286019535977,
      "z": -0.6100000000000003,
    },
  ],
  [
    {
      "x": -8.02,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": -5.59,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": -3.66,
      "y": 4.114286019535977,
      "z": -0.6100000000000003,
    },
    {
      "x": -3.8100000000000005,
      "y": 4.2008885599144214,
      "z": -0.45999999999999996,
    },
    {
      "x": -5.9399999999999995,
      "y": 4.2008885599144214,
      "z": -0.45999999999999996,
    },
  ],
  [
    {
      "x": -8.02,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -8.02,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": -5.9399999999999995,
      "y": 4.2008885599144214,
      "z": -0.45999999999999996,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: complex_13_tier3 1`] = `
[
  [
    {
      "x": 17.47,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 16.56,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 12.649999999999997,
      "y": 5.257439552531437,
      "z": -0.4599999999999991,
    },
    {
      "x": 13.559999999999999,
      "y": 5.257439552531437,
      "z": -0.4599999999999995,
    },
  ],
  [
    {
      "x": 16.56,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 16.56,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 11.884999999999998,
      "y": 5.699112508461501,
      "z": 0.3049999999999997,
    },
    {
      "x": 12.649999999999997,
      "y": 5.257439552531437,
      "z": -0.4599999999999991,
    },
  ],
  [
    {
      "x": 17.47,
      "y": 3,
      "z": -4.37,
    },
    {
      "x": 17.47,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 13.559999999999999,
      "y": 5.257439552531437,
      "z": -0.4599999999999995,
    },
  ],
  [
    {
      "x": 14.12,
      "y": 3,
      "z": -4.37,
    },
    {
      "x": 17.47,
      "y": 3,
      "z": -4.37,
    },
    {
      "x": 13.559999999999999,
      "y": 5.257439552531437,
      "z": -0.4599999999999995,
    },
    {
      "x": 12.649999999999997,
      "y": 5.257439552531437,
      "z": -0.4599999999999991,
    },
    {
      "x": 11.884999999999998,
      "y": 5.699112508461501,
      "z": 0.3049999999999997,
    },
    {
      "x": 9.444999999999999,
      "y": 5.6991125084615,
      "z": 0.3049999999999997,
    },
  ],
  [
    {
      "x": 14.12,
      "y": 3,
      "z": -5.89,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": -4.37,
    },
    {
      "x": 9.444999999999999,
      "y": 5.6991125084615,
      "z": 0.3049999999999997,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": 5.59,
    },
    {
      "x": 9.14,
      "y": 5.875204340564336,
      "z": 0.6099999999999994,
    },
    {
      "x": 8.379999999999999,
      "y": 6.313990545148452,
      "z": -0.14999999999999858,
    },
  ],
  [
    {
      "x": -1.32,
      "y": 3,
      "z": -5.89,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": -5.89,
    },
    {
      "x": 8.379999999999999,
      "y": 6.313990545148452,
      "z": -0.14999999999999858,
    },
    {
      "x": 4.420000000000001,
      "y": 6.313990545148452,
      "z": -0.14999999999999858,
    },
  ],
  [
    {
      "x": -1.32,
      "y": 3,
      "z": 5.59,
    },
    {
      "x": -1.32,
      "y": 3,
      "z": -5.89,
    },
    {
      "x": 4.420000000000001,
      "y": 6.313990545148452,
      "z": -0.14999999999999858,
    },
  ],
  [
    {
      "x": 14.12,
      "y": 3,
      "z": 5.59,
    },
    {
      "x": -1.32,
      "y": 3,
      "z": 5.59,
    },
    {
      "x": 4.420000000000001,
      "y": 6.313990545148452,
      "z": -0.14999999999999858,
    },
    {
      "x": 8.379999999999999,
      "y": 6.313990545148452,
      "z": -0.14999999999999858,
    },
    {
      "x": 9.14,
      "y": 5.875204340564336,
      "z": 0.6099999999999994,
    },
  ],
  [
    {
      "x": 16.56,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 9.444999999999999,
      "y": 5.6991125084615,
      "z": 0.3049999999999997,
    },
    {
      "x": 11.884999999999998,
      "y": 5.699112508461501,
      "z": 0.3049999999999997,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: d_square_1 1`] = `
[
  [
    {
      "x": 1.9,
      "y": 3,
      "z": 5.9,
    },
    {
      "x": 5.9,
      "y": 3,
      "z": 5.9,
    },
    {
      "x": 7.75,
      "y": 4.068097998000807,
      "z": 7.75,
    },
    {
      "x": 4.25,
      "y": 4.068097998000807,
      "z": 7.75,
    },
    {
      "x": 4,
      "y": 4.212435565298214,
      "z": 8,
    },
  ],
  [
    {
      "x": 5.9,
      "y": 3,
      "z": 5.9,
    },
    {
      "x": 5.9,
      "y": 3,
      "z": 3.4,
    },
    {
      "x": 9,
      "y": 4.78978583448784,
      "z": 6.5,
    },
    {
      "x": 7.75,
      "y": 4.068097998000807,
      "z": 7.75,
    },
  ],
  [
    {
      "x": 1.9,
      "y": 3,
      "z": 11.6,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 5.9,
    },
    {
      "x": 4,
      "y": 4.212435565298214,
      "z": 8,
    },
    {
      "x": 4,
      "y": 4.212435565298214,
      "z": 9.5,
    },
  ],
  [
    {
      "x": 6.1,
      "y": 3,
      "z": 11.6,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 11.6,
    },
    {
      "x": 4,
      "y": 4.212435565298214,
      "z": 9.5,
    },
  ],
  [
    {
      "x": 6.1,
      "y": 3,
      "z": 9.6,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 11.6,
    },
    {
      "x": 4,
      "y": 4.212435565298214,
      "z": 9.5,
    },
    {
      "x": 4,
      "y": 4.212435565298214,
      "z": 8,
    },
    {
      "x": 4.25,
      "y": 4.068097998000807,
      "z": 7.75,
    },
  ],
  [
    {
      "x": 12.1,
      "y": 3,
      "z": 9.6,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 9.6,
    },
    {
      "x": 4.25,
      "y": 4.068097998000807,
      "z": 7.75,
    },
    {
      "x": 7.75,
      "y": 4.068097998000807,
      "z": 7.75,
    },
    {
      "x": 9,
      "y": 4.78978583448784,
      "z": 6.5,
    },
  ],
  [
    {
      "x": 12.1,
      "y": 3,
      "z": 3.4,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 9.6,
    },
    {
      "x": 9,
      "y": 4.78978583448784,
      "z": 6.5,
    },
  ],
  [
    {
      "x": 5.9,
      "y": 3,
      "z": 3.4,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 3.4,
    },
    {
      "x": 9,
      "y": 4.78978583448784,
      "z": 6.5,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: d_square_2 1`] = `
[
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 5.5,
      "y": 3.923760430703401,
      "z": 4.5,
    },
    {
      "x": 5.499999999999999,
      "y": 3.9237604307034015,
      "z": 6.5,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 3,
      "y": 4.212435565298215,
      "z": 3.999999999999999,
    },
    {
      "x": 3.4999999999999996,
      "y": 3.923760430703401,
      "z": 4.5,
    },
    {
      "x": 5.5,
      "y": 3.923760430703401,
      "z": 4.5,
    },
  ],
  [
    {
      "x": 7.1,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 5.499999999999999,
      "y": 3.9237604307034015,
      "z": 6.5,
    },
  ],
  [
    {
      "x": 7.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 5.499999999999999,
      "y": 3.9237604307034015,
      "z": 6.5,
    },
    {
      "x": 5.5,
      "y": 3.923760430703401,
      "z": 4.5,
    },
  ],
  [
    {
      "x": 5.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 5.5,
      "y": 3.923760430703401,
      "z": 4.5,
    },
    {
      "x": 3.4999999999999996,
      "y": 3.923760430703401,
      "z": 4.5,
    },
  ],
  [
    {
      "x": 5.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 5.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 3.4999999999999996,
      "y": 3.923760430703401,
      "z": 4.5,
    },
    {
      "x": 3,
      "y": 4.212435565298215,
      "z": 3.999999999999999,
    },
    {
      "x": 3,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 5.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 3,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 3,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
    {
      "x": 3,
      "y": 4.212435565298215,
      "z": 3.999999999999999,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: d_square_3 1`] = `
[
  [
    {
      "x": 6.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 6.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 8.5,
      "y": 3.923760430703401,
      "z": 5.5,
    },
    {
      "x": 9,
      "y": 4.212435565298214,
      "z": 6,
    },
    {
      "x": 9,
      "y": 4.212435565298214,
      "z": 8,
    },
  ],
  [
    {
      "x": 6.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 5,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 6.5,
      "y": 3.923760430703401,
      "z": 5.5,
    },
    {
      "x": 8.5,
      "y": 3.923760430703401,
      "z": 5.5,
    },
  ],
  [
    {
      "x": 11.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 6.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 9,
      "y": 4.212435565298214,
      "z": 8,
    },
  ],
  [
    {
      "x": 11.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 9,
      "y": 4.212435565298214,
      "z": 8,
    },
    {
      "x": 9,
      "y": 4.212435565298214,
      "z": 6,
    },
  ],
  [
    {
      "x": 8.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 9,
      "y": 4.212435565298214,
      "z": 6,
    },
    {
      "x": 8.5,
      "y": 3.923760430703401,
      "z": 5.5,
    },
    {
      "x": 6.5,
      "y": 3.923760430703401,
      "z": 5.5,
    },
  ],
  [
    {
      "x": 8.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 6.5,
      "y": 3.923760430703401,
      "z": 5.5,
    },
    {
      "x": 5,
      "y": 4.78978583448784,
      "z": 4,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 5,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 4,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 4,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: d_square_4_tier2 1`] = `
[
  [
    {
      "x": -1.93,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -1.32,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": 0.9150000000000003,
      "y": 4.290377851638814,
      "z": 3.965,
    },
    {
      "x": 0.6100000000000003,
      "y": 4.466469683741649,
      "z": 4.27,
    },
  ],
  [
    {
      "x": -1.32,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -1.32,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": 0.9150000000000003,
      "y": 4.290377851638814,
      "z": 0.9150000000000003,
    },
    {
      "x": 0.9150000000000003,
      "y": 4.290377851638814,
      "z": 3.965,
    },
  ],
  [
    {
      "x": -1.93,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": 0.6100000000000003,
      "y": 4.466469683741649,
      "z": 4.27,
    },
  ],
  [
    {
      "x": 3.15,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 0.6100000000000003,
      "y": 4.466469683741649,
      "z": 4.27,
    },
  ],
  [
    {
      "x": 3.15,
      "y": 3,
      "z": 2.54,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 0.6100000000000003,
      "y": 4.466469683741649,
      "z": 4.27,
    },
    {
      "x": 0.9150000000000003,
      "y": 4.290377851638814,
      "z": 3.965,
    },
    {
      "x": 0.9150000000000003,
      "y": 4.290377851638814,
      "z": 0.9150000000000003,
    },
    {
      "x": 1.2200000000000002,
      "y": 4.114286019535978,
      "z": 0.6100000000000003,
    },
  ],
  [
    {
      "x": 6.81,
      "y": 3,
      "z": 2.54,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": 2.54,
    },
    {
      "x": 1.2200000000000002,
      "y": 4.114286019535978,
      "z": 0.6100000000000003,
    },
    {
      "x": 4.88,
      "y": 4.114286019535977,
      "z": 0.6100000000000001,
    },
  ],
  [
    {
      "x": 6.81,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": 6.81,
      "y": 3,
      "z": 2.54,
    },
    {
      "x": 4.88,
      "y": 4.114286019535977,
      "z": 0.6100000000000001,
    },
  ],
  [
    {
      "x": -1.32,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": 6.81,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": 4.88,
      "y": 4.114286019535977,
      "z": 0.6100000000000001,
    },
    {
      "x": 1.2200000000000002,
      "y": 4.114286019535978,
      "z": 0.6100000000000003,
    },
    {
      "x": 0.9150000000000003,
      "y": 4.290377851638814,
      "z": 0.9150000000000003,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: half_iron_cross 1`] = `
[
  [
    {
      "x": 4.9,
      "y": 3,
      "z": 9.84,
    },
    {
      "x": 14.78,
      "y": 3,
      "z": 14.78,
    },
    {
      "x": 20.000000000000004,
      "y": 4.347798204480182,
      "z": 20,
    },
    {
      "x": 20,
      "y": 7.827530304829147,
      "z": 26.73847223695745,
    },
    {
      "x": 14.54846144417766,
      "y": 8.570541812061697,
      "z": 25.451538555822346,
    },
  ],
  [
    {
      "x": 14.78,
      "y": 3,
      "z": 14.78,
    },
    {
      "x": 9.84,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 20.000000000000007,
      "y": 6.6253124320945895,
      "z": 11.179225325698926,
    },
    {
      "x": 20.000000000000004,
      "y": 4.347798204480182,
      "z": 20,
    },
  ],
  [
    {
      "x": 4.9,
      "y": 3,
      "z": 35.1,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 9.84,
    },
    {
      "x": 14.54846144417766,
      "y": 8.570541812061697,
      "z": 25.451538555822346,
    },
  ],
  [
    {
      "x": 35.1,
      "y": 3,
      "z": 35.1,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 35.1,
    },
    {
      "x": 14.54846144417766,
      "y": 8.570541812061697,
      "z": 25.451538555822346,
    },
    {
      "x": 20,
      "y": 7.827530304829147,
      "z": 26.73847223695745,
    },
    {
      "x": 25.451538555822346,
      "y": 8.570541812061697,
      "z": 25.451538555822346,
    },
  ],
  [
    {
      "x": 35.1,
      "y": 3,
      "z": 9.84,
    },
    {
      "x": 35.1,
      "y": 3,
      "z": 35.1,
    },
    {
      "x": 25.451538555822346,
      "y": 8.570541812061697,
      "z": 25.451538555822346,
    },
  ],
  [
    {
      "x": 25.22,
      "y": 3,
      "z": 14.78,
    },
    {
      "x": 35.1,
      "y": 3,
      "z": 9.84,
    },
    {
      "x": 25.451538555822346,
      "y": 8.570541812061697,
      "z": 25.451538555822346,
    },
    {
      "x": 20,
      "y": 7.827530304829147,
      "z": 26.73847223695745,
    },
    {
      "x": 20.000000000000004,
      "y": 4.347798204480182,
      "z": 20,
    },
  ],
  [
    {
      "x": 30.16,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 25.22,
      "y": 3,
      "z": 14.78,
    },
    {
      "x": 20.000000000000004,
      "y": 4.347798204480182,
      "z": 20,
    },
    {
      "x": 20.000000000000007,
      "y": 6.6253124320945895,
      "z": 11.179225325698926,
    },
  ],
  [
    {
      "x": 9.84,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 30.16,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 20.000000000000007,
      "y": 6.6253124320945895,
      "z": 11.179225325698926,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: l_shape_1 1`] = `
[
  [
    {
      "x": 12.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 12,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 10,
    },
  ],
  [
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 14.000000000000002,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 12,
    },
  ],
  [
    {
      "x": 12.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 10,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 8,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 8,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 8,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 10,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 12,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 14.000000000000002,
    },
  ],
  [
    {
      "x": 8.1,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 14.000000000000002,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: l_shape_2 1`] = `
[
  [
    {
      "x": 10.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 6,
      "y": 3.6350852961085884,
      "z": 3,
    },
    {
      "x": 9,
      "y": 3.635085296108588,
      "z": 3,
    },
  ],
  [
    {
      "x": 7.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 4.5,
      "y": 4.501110699893027,
      "z": 4.5,
    },
    {
      "x": 6,
      "y": 3.6350852961085884,
      "z": 3,
    },
  ],
  [
    {
      "x": 10.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 9,
      "y": 3.635085296108588,
      "z": 3,
    },
  ],
  [
    {
      "x": 1.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 9,
      "y": 3.635085296108588,
      "z": 3,
    },
    {
      "x": 6,
      "y": 3.6350852961085884,
      "z": 3,
    },
    {
      "x": 4.5,
      "y": 4.501110699893027,
      "z": 4.5,
    },
  ],
  [
    {
      "x": 1.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 4.5,
      "y": 4.501110699893027,
      "z": 4.5,
    },
  ],
  [
    {
      "x": 7.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 4.5,
      "y": 4.501110699893027,
      "z": 4.5,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: l_shape_3 1`] = `
[
  [
    {
      "x": 13.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 5,
      "y": 4.212435565298215,
      "z": 3,
    },
    {
      "x": 11,
      "y": 4.212435565298214,
      "z": 3,
    },
  ],
  [
    {
      "x": 7.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 3.9999999999999996,
      "y": 4.789785834487839,
      "z": 5,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 5,
      "y": 4.212435565298215,
      "z": 3,
    },
  ],
  [
    {
      "x": 13.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 13.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 11,
      "y": 4.212435565298214,
      "z": 3,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 13.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 11,
      "y": 4.212435565298214,
      "z": 3,
    },
    {
      "x": 5,
      "y": 4.212435565298215,
      "z": 3,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 4,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 3.9999999999999996,
      "y": 4.789785834487839,
      "z": 5,
    },
  ],
  [
    {
      "x": 7.1,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 3.9999999999999996,
      "y": 4.789785834487839,
      "z": 5,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: rectangle 1`] = `
[
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 8,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 24.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 20,
      "y": 5.367136103677465,
      "z": 8,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 8,
    },
  ],
  [
    {
      "x": 24.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 8,
    },
    {
      "x": 20,
      "y": 5.367136103677465,
      "z": 8,
    },
  ],
  [
    {
      "x": 24.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 24.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 20,
      "y": 5.367136103677465,
      "z": 8,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: simple_1 1`] = `
[
  [
    {
      "x": 16.04,
      "y": 3,
      "z": 14.18,
    },
    {
      "x": 8.99,
      "y": 3,
      "z": 7.14,
    },
    {
      "x": 9.126297778439174,
      "y": 4.286209718291461,
      "z": 4.127780581269664,
    },
    {
      "x": 13.144744034822164,
      "y": 5.246241908834426,
      "z": 5.790605112191723,
    },
    {
      "x": 14.944368566642424,
      "y": 4.731654207208618,
      "z": 8.847260643697126,
    },
  ],
  [
    {
      "x": 8.99,
      "y": 3,
      "z": 7.14,
    },
    {
      "x": 2.9,
      "y": 3,
      "z": 12.21,
    },
    {
      "x": 6.190045624922629,
      "y": 4.89950872719523,
      "z": 5.190045624922629,
    },
    {
      "x": 9.126297778439174,
      "y": 4.286209718291461,
      "z": 4.127780581269664,
    },
  ],
  [
    {
      "x": 18.11,
      "y": 3,
      "z": 9.01,
    },
    {
      "x": 16.04,
      "y": 3,
      "z": 14.18,
    },
    {
      "x": 14.944368566642424,
      "y": 4.731654207208618,
      "z": 8.847260643697126,
    },
  ],
  [
    {
      "x": 16.08,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 18.11,
      "y": 3,
      "z": 9.01,
    },
    {
      "x": 14.944368566642424,
      "y": 4.731654207208618,
      "z": 8.847260643697126,
    },
    {
      "x": 13.144744034822164,
      "y": 5.246241908834426,
      "z": 5.790605112191723,
    },
  ],
  [
    {
      "x": 2.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 16.08,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 13.144744034822164,
      "y": 5.246241908834426,
      "z": 5.790605112191723,
    },
    {
      "x": 9.126297778439174,
      "y": 4.286209718291461,
      "z": 4.127780581269664,
    },
    {
      "x": 6.190045624922629,
      "y": 4.89950872719523,
      "z": 5.190045624922629,
    },
  ],
  [
    {
      "x": 2.9,
      "y": 3,
      "z": 12.21,
    },
    {
      "x": 2.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 6.190045624922629,
      "y": 4.89950872719523,
      "z": 5.190045624922629,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: simple_2 1`] = `
[
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 5.56,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 3.474404413487008,
      "y": 4.486333081129684,
      "z": 3.974404413487008,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 5.7265316068790195,
      "y": 4.3703226156814665,
      "z": 3.773468393120981,
    },
    {
      "x": 4.462436578847668,
      "y": 4.621923642854037,
      "z": 4.209254155420391,
    },
    {
      "x": 3.474404413487008,
      "y": 4.486333081129684,
      "z": 3.974404413487008,
    },
  ],
  [
    {
      "x": 4.79,
      "y": 3,
      "z": 7.52,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 5.56,
    },
    {
      "x": 3.474404413487008,
      "y": 4.486333081129684,
      "z": 3.974404413487008,
    },
    {
      "x": 4.462436578847668,
      "y": 4.621923642854037,
      "z": 4.209254155420391,
    },
  ],
  [
    {
      "x": 8.1,
      "y": 3,
      "z": 4.93,
    },
    {
      "x": 4.79,
      "y": 3,
      "z": 7.52,
    },
    {
      "x": 4.462436578847668,
      "y": 4.621923642854037,
      "z": 4.209254155420391,
    },
    {
      "x": 5.7265316068790195,
      "y": 4.3703226156814665,
      "z": 3.773468393120981,
    },
  ],
  [
    {
      "x": 8.1,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 4.93,
    },
    {
      "x": 5.7265316068790195,
      "y": 4.3703226156814665,
      "z": 3.773468393120981,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: straight_cross 1`] = `
[
  [
    {
      "x": 9.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 9.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 7,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
  ],
  [
    {
      "x": 9.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 12,
      "y": 4.212435565298214,
      "z": 7,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 7,
    },
  ],
  [
    {
      "x": 4.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 9.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
  ],
  [
    {
      "x": 4.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 7,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 7,
    },
    {
      "x": 2.9999999999999996,
      "y": 4.212435565298214,
      "z": 7,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 2.9999999999999996,
      "y": 4.212435565298214,
      "z": 7,
    },
  ],
  [
    {
      "x": 4.9,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 2.9999999999999996,
      "y": 4.212435565298214,
      "z": 7,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 7,
    },
  ],
  [
    {
      "x": 4.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 7,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 12,
    },
  ],
  [
    {
      "x": 9.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 12,
    },
  ],
  [
    {
      "x": 9.1,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 9.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 12,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 7,
    },
  ],
  [
    {
      "x": 14.1,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 9.1,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 7,
    },
    {
      "x": 12,
      "y": 4.212435565298214,
      "z": 7,
    },
  ],
  [
    {
      "x": 14.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 12,
      "y": 4.212435565298214,
      "z": 7,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: t_shape_1 1`] = `
[
  [
    {
      "x": 6.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 4,
      "y": 4.212435565298215,
      "z": 5,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 3,
      "y": 4.789785834487839,
      "z": 7,
    },
    {
      "x": 3,
      "y": 4.789785834487839,
      "z": 5.999999999999999,
    },
    {
      "x": 2.9999999999999996,
      "y": 4.78978583448784,
      "z": 3,
    },
  ],
  [
    {
      "x": 6.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 8,
      "y": 4.212435565298214,
      "z": 5,
    },
    {
      "x": 4,
      "y": 4.212435565298215,
      "z": 5,
    },
  ],
  [
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 2.9999999999999996,
      "y": 4.78978583448784,
      "z": 3,
    },
  ],
  [
    {
      "x": -0.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 2.9999999999999996,
      "y": 4.78978583448784,
      "z": 3,
    },
    {
      "x": 3,
      "y": 4.789785834487839,
      "z": 5.999999999999999,
    },
    {
      "x": 3,
      "y": 4.789785834487839,
      "z": 7,
    },
  ],
  [
    {
      "x": 6.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 3,
      "y": 4.789785834487839,
      "z": 7,
    },
  ],
  [
    {
      "x": 10.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 4,
      "y": 4.212435565298215,
      "z": 5,
    },
    {
      "x": 8,
      "y": 4.212435565298214,
      "z": 5,
    },
  ],
  [
    {
      "x": 10.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 8,
      "y": 4.212435565298214,
      "z": 5,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: t_shape_2 1`] = `
[
  [
    {
      "x": 12.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 9,
      "y": 4.789785834487839,
      "z": 8,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 7.5,
      "y": 5.655811238272278,
      "z": 9.5,
    },
    {
      "x": 6.999999999999999,
      "y": 5.944486372867091,
      "z": 9,
    },
    {
      "x": 6.999999999999999,
      "y": 5.944486372867091,
      "z": 7,
    },
  ],
  [
    {
      "x": 12.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 16.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 13.500000000000002,
      "y": 4.789785834487839,
      "z": 8,
    },
    {
      "x": 9,
      "y": 4.789785834487839,
      "z": 8,
    },
  ],
  [
    {
      "x": 1.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 6.999999999999999,
      "y": 5.944486372867091,
      "z": 7,
    },
  ],
  [
    {
      "x": 1.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 6.999999999999999,
      "y": 5.944486372867091,
      "z": 7,
    },
    {
      "x": 6.999999999999999,
      "y": 5.944486372867091,
      "z": 9,
    },
  ],
  [
    {
      "x": 12.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 6.999999999999999,
      "y": 5.944486372867091,
      "z": 9,
    },
    {
      "x": 7.5,
      "y": 5.655811238272278,
      "z": 9.5,
    },
  ],
  [
    {
      "x": 16.6,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 9,
      "y": 4.789785834487839,
      "z": 8,
    },
    {
      "x": 13.500000000000002,
      "y": 4.789785834487839,
      "z": 8,
    },
  ],
  [
    {
      "x": 16.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 16.6,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 13.500000000000002,
      "y": 4.789785834487839,
      "z": 8,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: t_shape_3 1`] = `
[
  [
    {
      "x": 7.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 6,
      "y": 3.6350852961085884,
      "z": 4,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 5,
      "y": 4.212435565298214,
      "z": 5,
    },
    {
      "x": 3.9999999999999996,
      "y": 4.789785834487839,
      "z": 4,
    },
  ],
  [
    {
      "x": 7.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 9,
      "y": 3.635085296108588,
      "z": 4,
    },
    {
      "x": 6,
      "y": 3.6350852961085884,
      "z": 4,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 3.9999999999999996,
      "y": 4.789785834487839,
      "z": 4,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 3.9999999999999996,
      "y": 4.789785834487839,
      "z": 4,
    },
  ],
  [
    {
      "x": 7.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 3.9999999999999996,
      "y": 4.789785834487839,
      "z": 4,
    },
    {
      "x": 5,
      "y": 4.212435565298214,
      "z": 5,
    },
  ],
  [
    {
      "x": 10.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 6,
      "y": 3.6350852961085884,
      "z": 4,
    },
    {
      "x": 9,
      "y": 3.635085296108588,
      "z": 4,
    },
  ],
  [
    {
      "x": 10.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 9,
      "y": 3.635085296108588,
      "z": 4,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: t_shape_4 1`] = `
[
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7,
      "y": 4.78978583448784,
      "z": 8,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 15.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 11.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 7.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 4.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 7,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 7,
      "y": 4.78978583448784,
      "z": 8,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 4.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
  ],
  [
    {
      "x": 15.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 4.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 7.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 11.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
  ],
  [
    {
      "x": 15.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 15.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 11.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
  ],
  [
    {
      "x": 10.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7,
      "y": 4.78978583448784,
      "z": 8,
    },
    {
      "x": 7,
      "y": 4.78978583448784,
      "z": 4,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 7,
      "y": 4.78978583448784,
      "z": 4,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: t_shape_5_tier2 1`] = `
[
  [
    {
      "x": 2.95,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 5.484999999999999,
      "y": 4.463582932395701,
      "z": 2.445,
    },
    {
      "x": 5.484999999999999,
      "y": 4.463582932395701,
      "z": 4.275,
    },
  ],
  [
    {
      "x": 2.95,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": -0.30500000000000016,
      "y": 4.994745180050157,
      "z": 1.5250000000000004,
    },
    {
      "x": 0.3049999999999997,
      "y": 4.642561515844485,
      "z": 2.135,
    },
    {
      "x": 5.175,
      "y": 4.642561515844485,
      "z": 2.135,
    },
    {
      "x": 5.484999999999999,
      "y": 4.463582932395701,
      "z": 2.445,
    },
  ],
  [
    {
      "x": 8.02,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 5.484999999999999,
      "y": 4.463582932395701,
      "z": 4.275,
    },
  ],
  [
    {
      "x": 8.02,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 5.484999999999999,
      "y": 4.463582932395701,
      "z": 4.275,
    },
    {
      "x": 5.484999999999999,
      "y": 4.463582932395701,
      "z": 2.445,
    },
    {
      "x": 5.175,
      "y": 4.642561515844485,
      "z": 2.135,
    },
  ],
  [
    {
      "x": 3.15,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 5.175,
      "y": 4.642561515844485,
      "z": 2.135,
    },
    {
      "x": 0.3049999999999997,
      "y": 4.642561515844485,
      "z": 2.135,
    },
  ],
  [
    {
      "x": 3.15,
      "y": 3,
      "z": -6.2,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 0.3049999999999997,
      "y": 4.642561515844485,
      "z": 2.135,
    },
    {
      "x": -0.30500000000000016,
      "y": 4.994745180050157,
      "z": 1.5250000000000004,
    },
    {
      "x": -0.30500000000000016,
      "y": 4.994745180050157,
      "z": -2.745,
    },
  ],
  [
    {
      "x": -3.76,
      "y": 3,
      "z": -6.2,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": -6.2,
    },
    {
      "x": -0.30500000000000016,
      "y": 4.994745180050157,
      "z": -2.745,
    },
  ],
  [
    {
      "x": -3.76,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": -6.2,
    },
    {
      "x": -0.30500000000000016,
      "y": 4.994745180050157,
      "z": -2.745,
    },
    {
      "x": -0.30500000000000016,
      "y": 4.994745180050157,
      "z": 1.5250000000000004,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: t_shape_6_tier2 1`] = `
[
  [
    {
      "x": 17.78,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 16.56,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 15.584999999999997,
      "y": 3.5629165124598856,
      "z": 7.655,
    },
    {
      "x": 16.805,
      "y": 3.562916512459886,
      "z": 7.655,
    },
  ],
  [
    {
      "x": 16.56,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 16.56,
      "y": 3,
      "z": 12.29,
    },
    {
      "x": 14.02,
      "y": 4.466469683741649,
      "z": 9.75,
    },
    {
      "x": 14.02,
      "y": 4.466469683741649,
      "z": 9.219999999999999,
    },
    {
      "x": 15.584999999999997,
      "y": 3.5629165124598856,
      "z": 7.655,
    },
  ],
  [
    {
      "x": 17.78,
      "y": 3,
      "z": 6.68,
    },
    {
      "x": 17.78,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 16.805,
      "y": 3.562916512459886,
      "z": 7.655,
    },
  ],
  [
    {
      "x": 9.65,
      "y": 3,
      "z": 6.68,
    },
    {
      "x": 17.78,
      "y": 3,
      "z": 6.68,
    },
    {
      "x": 16.805,
      "y": 3.562916512459886,
      "z": 7.655,
    },
    {
      "x": 15.584999999999997,
      "y": 3.5629165124598856,
      "z": 7.655,
    },
    {
      "x": 14.02,
      "y": 4.466469683741649,
      "z": 9.219999999999999,
    },
    {
      "x": 12.455,
      "y": 3.5629165124598856,
      "z": 7.655,
    },
    {
      "x": 10.625,
      "y": 3.5629165124598847,
      "z": 7.655,
    },
  ],
  [
    {
      "x": 9.65,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 9.65,
      "y": 3,
      "z": 6.68,
    },
    {
      "x": 10.625,
      "y": 3.5629165124598847,
      "z": 7.655,
    },
  ],
  [
    {
      "x": 11.48,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 9.65,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 10.625,
      "y": 3.5629165124598847,
      "z": 7.655,
    },
    {
      "x": 12.455,
      "y": 3.5629165124598856,
      "z": 7.655,
    },
  ],
  [
    {
      "x": 11.48,
      "y": 3,
      "z": 12.29,
    },
    {
      "x": 11.48,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 12.455,
      "y": 3.5629165124598856,
      "z": 7.655,
    },
    {
      "x": 14.02,
      "y": 4.466469683741649,
      "z": 9.219999999999999,
    },
    {
      "x": 14.02,
      "y": 4.466469683741649,
      "z": 9.75,
    },
  ],
  [
    {
      "x": 16.56,
      "y": 3,
      "z": 12.29,
    },
    {
      "x": 11.48,
      "y": 3,
      "z": 12.29,
    },
    {
      "x": 14.02,
      "y": 4.466469683741649,
      "z": 9.75,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: t_shape_7_tier2 1`] = `
[
  [
    {
      "x": 6.39,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": 5.17,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": 0.9099999999999975,
      "y": 5.459512146747807,
      "z": 0.610000000000003,
    },
    {
      "x": 2.129999999999999,
      "y": 5.459512146747806,
      "z": 0.6099999999999994,
    },
  ],
  [
    {
      "x": 5.17,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": 5.17,
      "y": 3,
      "z": 7.61,
    },
    {
      "x": 0.6100000000000012,
      "y": 5.632717227504694,
      "z": 3.049999999999999,
    },
    {
      "x": 0.6099999999999997,
      "y": 5.632717227504694,
      "z": 0.9100000000000008,
    },
    {
      "x": 0.9099999999999975,
      "y": 5.459512146747807,
      "z": 0.610000000000003,
    },
  ],
  [
    {
      "x": 6.39,
      "y": 3,
      "z": -3.65,
    },
    {
      "x": 6.39,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": 2.129999999999999,
      "y": 5.459512146747806,
      "z": 0.6099999999999994,
    },
  ],
  [
    {
      "x": -8.22,
      "y": 3,
      "z": -3.65,
    },
    {
      "x": 6.39,
      "y": 3,
      "z": -3.65,
    },
    {
      "x": 2.129999999999999,
      "y": 5.459512146747806,
      "z": 0.6099999999999994,
    },
    {
      "x": 0.9099999999999975,
      "y": 5.459512146747807,
      "z": 0.610000000000003,
    },
    {
      "x": 0.6099999999999997,
      "y": 5.632717227504694,
      "z": 0.9100000000000008,
    },
    {
      "x": 0.3099999999999996,
      "y": 5.459512146747805,
      "z": 0.6100000000000008,
    },
    {
      "x": -3.96,
      "y": 5.459512146747806,
      "z": 0.6100000000000008,
    },
  ],
  [
    {
      "x": -8.22,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": -8.22,
      "y": 3,
      "z": -3.65,
    },
    {
      "x": -3.96,
      "y": 5.459512146747806,
      "z": 0.6100000000000008,
    },
  ],
  [
    {
      "x": -3.95,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": -8.22,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": -3.96,
      "y": 5.459512146747806,
      "z": 0.6100000000000008,
    },
    {
      "x": 0.3099999999999996,
      "y": 5.459512146747805,
      "z": 0.6100000000000008,
    },
  ],
  [
    {
      "x": -3.95,
      "y": 3,
      "z": 7.61,
    },
    {
      "x": -3.95,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": 0.3099999999999996,
      "y": 5.459512146747805,
      "z": 0.6100000000000008,
    },
    {
      "x": 0.6099999999999997,
      "y": 5.632717227504694,
      "z": 0.9100000000000008,
    },
    {
      "x": 0.6100000000000012,
      "y": 5.632717227504694,
      "z": 3.049999999999999,
    },
  ],
  [
    {
      "x": 5.17,
      "y": 3,
      "z": 7.61,
    },
    {
      "x": -3.95,
      "y": 3,
      "z": 7.61,
    },
    {
      "x": 0.6100000000000012,
      "y": 5.632717227504694,
      "z": 3.049999999999999,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: t_shape_8_tier2 1`] = `
[
  [
    {
      "x": 4.6,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": 0.5999999999999996,
      "y": 3.750555349946514,
      "z": 2.220446049250313e-16,
    },
    {
      "x": -0.7,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": -0.4500000000000002,
      "y": 4.35677313259562,
      "z": -1.05,
    },
    {
      "x": 2.2499999999999996,
      "y": 4.35677313259562,
      "z": -1.0499999999999998,
    },
  ],
  [
    {
      "x": 1.9,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": 0.6000000000000001,
      "y": 3.7505553499465134,
      "z": 4.2,
    },
    {
      "x": 0.5999999999999996,
      "y": 3.750555349946514,
      "z": 2.220446049250313e-16,
    },
  ],
  [
    {
      "x": 4.6,
      "y": 3,
      "z": -3.4,
    },
    {
      "x": 4.6,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": 2.2499999999999996,
      "y": 4.35677313259562,
      "z": -1.0499999999999998,
    },
  ],
  [
    {
      "x": -2.8,
      "y": 3,
      "z": -3.4,
    },
    {
      "x": 4.6,
      "y": 3,
      "z": -3.4,
    },
    {
      "x": 2.2499999999999996,
      "y": 4.35677313259562,
      "z": -1.0499999999999998,
    },
    {
      "x": -0.4500000000000002,
      "y": 4.35677313259562,
      "z": -1.05,
    },
  ],
  [
    {
      "x": -2.8,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -3.4,
    },
    {
      "x": -0.4500000000000002,
      "y": 4.35677313259562,
      "z": -1.05,
    },
  ],
  [
    {
      "x": -0.7,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": -0.7,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": 0.5999999999999996,
      "y": 3.750555349946514,
      "z": 2.220446049250313e-16,
    },
    {
      "x": 0.6000000000000001,
      "y": 3.7505553499465134,
      "z": 4.2,
    },
  ],
  [
    {
      "x": 1.9,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": -0.7,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": 0.6000000000000001,
      "y": 3.7505553499465134,
      "z": 4.2,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: t_shape_9_tier2 1`] = `
[
  [
    {
      "x": -2.2,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -2.2,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -1.05,
      "y": 3.6639528095680696,
      "z": 0.7499999999999998,
    },
    {
      "x": -1.0499999999999998,
      "y": 3.6639528095680696,
      "z": 1.9499999999999997,
    },
  ],
  [
    {
      "x": -2.2,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -1.3499999999999999,
      "y": 3.8371578903249572,
      "z": 0.4499999999999999,
    },
    {
      "x": -0.7499999999999999,
      "y": 4.183568051838733,
      "z": -0.15000000000000008,
    },
    {
      "x": 6.1499999999999995,
      "y": 4.183568051838733,
      "z": -0.15000000000000008,
    },
    {
      "x": 8.2,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -1.05,
      "y": 3.6639528095680696,
      "z": 0.7499999999999998,
    },
  ],
  [
    {
      "x": 0.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -2.2,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -1.0499999999999998,
      "y": 3.6639528095680696,
      "z": 1.9499999999999997,
    },
  ],
  [
    {
      "x": 0.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -1.0499999999999998,
      "y": 3.6639528095680696,
      "z": 1.9499999999999997,
    },
    {
      "x": -1.05,
      "y": 3.6639528095680696,
      "z": 0.7499999999999998,
    },
  ],
  [
    {
      "x": 8.2,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 8.2,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 6.1499999999999995,
      "y": 4.183568051838733,
      "z": -0.15000000000000008,
    },
  ],
  [
    {
      "x": -2.8,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 8.2,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 6.1499999999999995,
      "y": 4.183568051838733,
      "z": -0.15000000000000008,
    },
    {
      "x": -0.7499999999999999,
      "y": 4.183568051838733,
      "z": -0.15000000000000008,
    },
  ],
  [
    {
      "x": -2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -0.7499999999999999,
      "y": 4.183568051838733,
      "z": -0.15000000000000008,
    },
    {
      "x": -1.3499999999999999,
      "y": 3.8371578903249572,
      "z": 0.4499999999999999,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: t_shape_10_tier2 1`] = `
[
  [
    {
      "x": -4.37,
      "y": 3,
      "z": 4.06,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": -3.05,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": -2.895,
      "y": 3.851591647054698,
      "z": 2.2849999999999997,
    },
    {
      "x": -2.895,
      "y": 3.851591647054698,
      "z": 2.5849999999999995,
    },
  ],
  [
    {
      "x": -4.37,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": -4.67,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": -3.3499999999999996,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": -3.05,
      "y": 3.762102355330306,
      "z": 2.13,
    },
  ],
  [
    {
      "x": -1.42,
      "y": 3,
      "z": 4.06,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 4.06,
    },
    {
      "x": -2.895,
      "y": 3.851591647054698,
      "z": 2.5849999999999995,
    },
  ],
  [
    {
      "x": -1.42,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": -1.42,
      "y": 3,
      "z": 4.06,
    },
    {
      "x": -2.895,
      "y": 3.851591647054698,
      "z": 2.5849999999999995,
    },
    {
      "x": -2.895,
      "y": 3.851591647054698,
      "z": 2.2849999999999997,
    },
    {
      "x": -2.74,
      "y": 3.762102355330306,
      "z": 2.13,
    },
  ],
  [
    {
      "x": 4.67,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": -1.42,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": -2.74,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": 3.3499999999999996,
      "y": 3.762102355330306,
      "z": 2.13,
    },
  ],
  [
    {
      "x": 4.67,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 3.3499999999999996,
      "y": 3.762102355330306,
      "z": 2.13,
    },
  ],
  [
    {
      "x": -4.67,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": 3.3499999999999996,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": -2.74,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": -2.895,
      "y": 3.851591647054698,
      "z": 2.2849999999999997,
    },
    {
      "x": -3.05,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": -3.3499999999999996,
      "y": 3.762102355330306,
      "z": 2.13,
    },
  ],
  [
    {
      "x": -4.67,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": -4.67,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": -3.3499999999999996,
      "y": 3.762102355330306,
      "z": 2.13,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: t_shape_11_tier2 1`] = `
[
  [
    {
      "x": 1.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -1.5000000000000002,
      "y": 3.9237604307034015,
      "z": 1.5000000000000002,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -4.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -2.6999999999999997,
      "y": 4.270170592217177,
      "z": 0.8999999999999995,
    },
    {
      "x": -2.1000000000000005,
      "y": 4.270170592217177,
      "z": 0.8999999999999992,
    },
    {
      "x": -0.3000000000000007,
      "y": 4.270170592217177,
      "z": 0.9000000000000006,
    },
  ],
  [
    {
      "x": 0.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": -1.5,
      "y": 3.923760430703401,
      "z": 3.9,
    },
    {
      "x": -1.5000000000000002,
      "y": 3.9237604307034015,
      "z": 1.5000000000000002,
    },
  ],
  [
    {
      "x": 1.9,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -0.3000000000000007,
      "y": 4.270170592217177,
      "z": 0.9000000000000006,
    },
  ],
  [
    {
      "x": -4.9,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -0.3000000000000007,
      "y": 4.270170592217177,
      "z": 0.9000000000000006,
    },
    {
      "x": -2.1000000000000005,
      "y": 4.270170592217177,
      "z": 0.8999999999999992,
    },
    {
      "x": -2.6999999999999997,
      "y": 4.270170592217177,
      "z": 0.8999999999999995,
    },
  ],
  [
    {
      "x": -4.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -4.9,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -2.6999999999999997,
      "y": 4.270170592217177,
      "z": 0.8999999999999995,
    },
  ],
  [
    {
      "x": -3.1,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -1.5000000000000002,
      "y": 3.9237604307034015,
      "z": 1.5000000000000002,
    },
    {
      "x": -1.5,
      "y": 3.923760430703401,
      "z": 3.9,
    },
  ],
  [
    {
      "x": 0.1,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": -1.5,
      "y": 3.923760430703401,
      "z": 3.9,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: the_sacred_polygon 1`] = `
[
  [
    {
      "x": 64.1,
      "y": 3,
      "z": 25.06,
    },
    {
      "x": 50.18,
      "y": 3,
      "z": 33.01,
    },
    {
      "x": 28.75766034463035,
      "y": 9.868518289405444,
      "z": 31.544609957958027,
    },
    {
      "x": 37.88711068102052,
      "y": 12.946962963348419,
      "z": 20.190243385448294,
    },
    {
      "x": 49.544354708340606,
      "y": 11.403705727368257,
      "z": 16.610772555354032,
    },
  ],
  [
    {
      "x": 50.18,
      "y": 3,
      "z": 33.01,
    },
    {
      "x": 63.25,
      "y": 3,
      "z": 43.06,
    },
    {
      "x": 29.66480547919728,
      "y": 10.861737478690186,
      "z": 34.412232018722136,
    },
    {
      "x": 28.75766034463035,
      "y": 9.868518289405444,
      "z": 31.544609957958027,
    },
  ],
  [
    {
      "x": 64.1,
      "y": 3,
      "z": 0.89,
    },
    {
      "x": 64.1,
      "y": 3,
      "z": 25.06,
    },
    {
      "x": 49.544354708340606,
      "y": 11.403705727368257,
      "z": 16.610772555354032,
    },
  ],
  [
    {
      "x": 24.92,
      "y": 3,
      "z": 3.91,
    },
    {
      "x": 64.1,
      "y": 3,
      "z": 0.89,
    },
    {
      "x": 49.544354708340606,
      "y": 11.403705727368257,
      "z": 16.610772555354032,
    },
    {
      "x": 37.88711068102052,
      "y": 12.946962963348419,
      "z": 20.190243385448294,
    },
  ],
  [
    {
      "x": 19.97,
      "y": 3,
      "z": 19.77,
    },
    {
      "x": 24.92,
      "y": 3,
      "z": 3.91,
    },
    {
      "x": 37.88711068102052,
      "y": 12.946962963348419,
      "z": 20.190243385448294,
    },
    {
      "x": 28.75766034463035,
      "y": 9.868518289405444,
      "z": 31.544609957958027,
    },
    {
      "x": 29.66480547919728,
      "y": 10.861737478690186,
      "z": 34.412232018722136,
    },
    {
      "x": 22.911563639901864,
      "y": 8.138025962093833,
      "z": 40.21539747184241,
    },
  ],
  [
    {
      "x": 10.05,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 19.97,
      "y": 3,
      "z": 19.77,
    },
    {
      "x": 22.911563639901864,
      "y": 8.138025962093833,
      "z": 40.21539747184241,
    },
    {
      "x": 16.539795719931092,
      "y": 10.297589461404094,
      "z": 37.40426657372681,
    },
    {
      "x": 7.906555963042171,
      "y": 5.313186163785699,
      "z": 8.906555963042173,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 10.05,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7.906555963042171,
      "y": 5.313186163785699,
      "z": 8.906555963042173,
    },
  ],
  [
    {
      "x": 3.9,
      "y": 3,
      "z": 52.12,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7.906555963042171,
      "y": 5.313186163785699,
      "z": 8.906555963042173,
    },
    {
      "x": 16.539795719931092,
      "y": 10.297589461404094,
      "z": 37.40426657372681,
    },
  ],
  [
    {
      "x": 63.25,
      "y": 3,
      "z": 43.06,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 52.12,
    },
    {
      "x": 16.539795719931092,
      "y": 10.297589461404094,
      "z": 37.40426657372681,
    },
    {
      "x": 22.911563639901864,
      "y": 8.138025962093833,
      "z": 40.21539747184241,
    },
    {
      "x": 29.66480547919728,
      "y": 10.861737478690186,
      "z": 34.412232018722136,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: u_shape 1`] = `
[
  [
    {
      "x": 7.9,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 4.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 2.5,
      "y": 3.923760430703401,
      "z": 2.5,
    },
    {
      "x": 9.5,
      "y": 3.923760430703401,
      "z": 2.5,
    },
  ],
  [
    {
      "x": 4.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 4.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 2.5,
      "y": 3.923760430703401,
      "z": 10.5,
    },
    {
      "x": 2.5,
      "y": 3.923760430703401,
      "z": 2.5,
    },
  ],
  [
    {
      "x": 7.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 7.9,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 9.5,
      "y": 3.923760430703401,
      "z": 2.5,
    },
    {
      "x": 10,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
    {
      "x": 10,
      "y": 4.212435565298214,
      "z": 10,
    },
  ],
  [
    {
      "x": 12.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 7.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 10,
      "y": 4.212435565298214,
      "z": 10,
    },
  ],
  [
    {
      "x": 12.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 10,
      "y": 4.212435565298214,
      "z": 10,
    },
    {
      "x": 10,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 10,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
    {
      "x": 9.5,
      "y": 3.923760430703401,
      "z": 2.5,
    },
    {
      "x": 2.5,
      "y": 3.923760430703401,
      "z": 2.5,
    },
  ],
  [
    {
      "x": 0.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 2.5,
      "y": 3.923760430703401,
      "z": 2.5,
    },
    {
      "x": 2.5,
      "y": 3.923760430703401,
      "z": 10.5,
    },
  ],
  [
    {
      "x": 4.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 2.5,
      "y": 3.923760430703401,
      "z": 10.5,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: u_shape_2_tier2 1`] = `
[
  [
    {
      "x": 2.5,
      "y": 3,
      "z": 2.5,
    },
    {
      "x": 2.5,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 1.6499999999999995,
      "y": 3.4907477288111823,
      "z": 4.050000000000001,
    },
    {
      "x": 1.1999999999999995,
      "y": 3.7505553499465134,
      "z": 3.6000000000000005,
    },
    {
      "x": 1.2,
      "y": 3.7505553499465134,
      "z": 1.2,
    },
  ],
  [
    {
      "x": 2.5,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 6.75,
      "y": 3.490747728811182,
      "z": 4.050000000000001,
    },
    {
      "x": 1.6499999999999995,
      "y": 3.4907477288111823,
      "z": 4.050000000000001,
    },
  ],
  [
    {
      "x": 5.8,
      "y": 3,
      "z": 2.5,
    },
    {
      "x": 2.5,
      "y": 3,
      "z": 2.5,
    },
    {
      "x": 1.2,
      "y": 3.7505553499465134,
      "z": 1.2,
    },
    {
      "x": 4.5,
      "y": 3.7505553499465134,
      "z": 1.2,
    },
  ],
  [
    {
      "x": 5.8,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": 2.5,
    },
    {
      "x": 4.5,
      "y": 3.7505553499465134,
      "z": 1.2,
    },
  ],
  [
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 4.5,
      "y": 3.7505553499465134,
      "z": 1.2,
    },
    {
      "x": 1.2,
      "y": 3.7505553499465134,
      "z": 1.2,
    },
  ],
  [
    {
      "x": -0.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 1.2,
      "y": 3.7505553499465134,
      "z": 1.2,
    },
    {
      "x": 1.1999999999999995,
      "y": 3.7505553499465134,
      "z": 3.6000000000000005,
    },
  ],
  [
    {
      "x": 7.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 1.1999999999999995,
      "y": 3.7505553499465134,
      "z": 3.6000000000000005,
    },
    {
      "x": 1.6499999999999995,
      "y": 3.4907477288111823,
      "z": 4.050000000000001,
    },
    {
      "x": 6.75,
      "y": 3.490747728811182,
      "z": 4.050000000000001,
    },
  ],
  [
    {
      "x": 7.6,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 6.75,
      "y": 3.490747728811182,
      "z": 4.050000000000001,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 3: Polygonization > should generate roof faces correctly for: u_shape_3_tier2 1`] = `
[
  [
    {
      "x": 2.5,
      "y": 3,
      "z": 2.51,
    },
    {
      "x": 2.5,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 1.6499999999999995,
      "y": 3.4907477288111823,
      "z": 4.050000000000001,
    },
    {
      "x": 1.1999999999999995,
      "y": 3.7505553499465134,
      "z": 3.6000000000000005,
    },
    {
      "x": 1.2270980637146878,
      "y": 3.734910275566321,
      "z": 1.1729019362853121,
    },
  ],
  [
    {
      "x": 2.5,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 6.75,
      "y": 3.490747728811182,
      "z": 4.050000000000001,
    },
    {
      "x": 1.6499999999999995,
      "y": 3.4907477288111823,
      "z": 4.050000000000001,
    },
  ],
  [
    {
      "x": 5.8,
      "y": 3,
      "z": 2.81,
    },
    {
      "x": 2.5,
      "y": 3,
      "z": 2.51,
    },
    {
      "x": 1.2270980637146878,
      "y": 3.734910275566321,
      "z": 1.1729019362853121,
    },
    {
      "x": 4.411000280007464,
      "y": 3.8019393622420052,
      "z": 1.2889997199925356,
    },
  ],
  [
    {
      "x": 5.8,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": 2.81,
    },
    {
      "x": 4.411000280007464,
      "y": 3.8019393622420052,
      "z": 1.2889997199925356,
    },
  ],
  [
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 4.411000280007464,
      "y": 3.8019393622420052,
      "z": 1.2889997199925356,
    },
    {
      "x": 1.2270980637146878,
      "y": 3.734910275566321,
      "z": 1.1729019362853121,
    },
  ],
  [
    {
      "x": -0.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": 1.2270980637146878,
      "y": 3.734910275566321,
      "z": 1.1729019362853121,
    },
    {
      "x": 1.1999999999999995,
      "y": 3.7505553499465134,
      "z": 3.6000000000000005,
    },
  ],
  [
    {
      "x": 7.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 1.1999999999999995,
      "y": 3.7505553499465134,
      "z": 3.6000000000000005,
    },
    {
      "x": 1.6499999999999995,
      "y": 3.4907477288111823,
      "z": 4.050000000000001,
    },
    {
      "x": 6.75,
      "y": 3.490747728811182,
      "z": 4.050000000000001,
    },
  ],
  [
    {
      "x": 7.6,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 6.75,
      "y": 3.490747728811182,
      "z": 4.050000000000001,
    },
  ],
]
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: bug_concave 1`] = `
{
  "faceCount": 6,
  "faces": [
    [
      {
        "x": 12,
        "y": 3,
        "z": 12.14,
      },
      {
        "x": 8.1,
        "y": 3,
        "z": 8.24,
      },
      {
        "x": 6.885513619983074,
        "y": 3.701184038429906,
        "z": 5.307970510045735,
      },
      {
        "x": 12.002016758688722,
        "y": 4.3757987705088235,
        "z": 8.772011782193651,
      },
    ],
    [
      {
        "x": 8.1,
        "y": 3,
        "z": 8.24,
      },
      {
        "x": 8.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 5,
        "y": 4.789785834487839,
        "z": 11,
      },
      {
        "x": 5.000000000000001,
        "y": 4.789785834487839,
        "z": 6.551270946882588,
      },
      {
        "x": 6.885513619983074,
        "y": 3.701184038429906,
        "z": 5.307970510045735,
      },
    ],
    [
      {
        "x": 16.18,
        "y": 3,
        "z": 7.97,
      },
      {
        "x": 12,
        "y": 3,
        "z": 12.14,
      },
      {
        "x": 12.002016758688722,
        "y": 4.3757987705088235,
        "z": 8.772011782193651,
      },
    ],
    [
      {
        "x": 1.9,
        "y": 3,
        "z": 1.85,
      },
      {
        "x": 16.18,
        "y": 3,
        "z": 7.97,
      },
      {
        "x": 12.002016758688722,
        "y": 4.3757987705088235,
        "z": 8.772011782193651,
      },
      {
        "x": 6.885513619983074,
        "y": 3.701184038429906,
        "z": 5.307970510045735,
      },
      {
        "x": 5.000000000000001,
        "y": 4.789785834487839,
        "z": 6.551270946882588,
      },
    ],
    [
      {
        "x": 1.9,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": 1.85,
      },
      {
        "x": 5.000000000000001,
        "y": 4.789785834487839,
        "z": 6.551270946882588,
      },
      {
        "x": 5,
        "y": 4.789785834487839,
        "z": 11,
      },
    ],
    [
      {
        "x": 8.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 5,
        "y": 4.789785834487839,
        "z": 11,
      },
    ],
  ],
  "inputPolygonVertexCount": 6,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 8.1,
        "y": 8.24,
      },
      "original": {
        "x": 8,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 12,
        "y": 12.14,
      },
      "original": {
        "x": 12,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 16.18,
        "y": 7.97,
      },
      "original": {
        "x": 16,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 1.85,
      },
      "original": {
        "x": 2,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 14.1,
      },
      "original": {
        "x": 2,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 14.1,
      },
      "original": {
        "x": 8,
        "y": 14,
      },
    },
  ],
  "preparedPolygonVertexCount": 6,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 12,
          "y": 12.14,
          "z": 3,
        },
        Vector3 {
          "x": 16.18,
          "y": 7.97,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 12.002016758688722,
        "y": 8.772011782193651,
        "z": 4.3757987705088235,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.1,
          "y": 8.24,
          "z": 3,
        },
        Vector3 {
          "x": 12.002016758688722,
          "y": 8.772011782193651,
          "z": 4.3757987705088235,
        },
      ],
      "source": Vector3 {
        "x": 6.885513619983074,
        "y": 5.307970510045735,
        "z": 3.701184038429906,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.885513619983074,
          "y": 5.307970510045735,
          "z": 3.701184038429906,
        },
        Vector3 {
          "x": 1.9,
          "y": 1.85,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.000000000000001,
        "y": 6.551270946882588,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.000000000000001,
          "y": 6.551270946882588,
          "z": 4.789785834487839,
        },
        Vector3 {
          "x": 1.9,
          "y": 14.1,
          "z": 3,
        },
        Vector3 {
          "x": 8.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5,
        "y": 11,
        "z": 4.789785834487839,
      },
    },
  ],
  "skeletonNodeCount": 4,
  "vertexCount": 10,
  "vertices": [
    {
      "x": 8.1,
      "y": 3,
      "z": 8.24,
    },
    {
      "x": 12,
      "y": 3,
      "z": 12.14,
    },
    {
      "x": 16.18,
      "y": 3,
      "z": 7.97,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 1.85,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 12.002016758688722,
      "y": 4.3757987705088235,
      "z": 8.772011782193651,
    },
    {
      "x": 6.885513619983074,
      "y": 3.701184038429906,
      "z": 5.307970510045735,
    },
    {
      "x": 5.000000000000001,
      "y": 4.789785834487839,
      "z": 6.551270946882588,
    },
    {
      "x": 5,
      "y": 4.789785834487839,
      "z": 11,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_1 1`] = `
{
  "faceCount": 14,
  "faces": [
    [
      {
        "x": 18.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 16.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 14.000000000000002,
        "y": 4.212435565298215,
        "z": 3,
      },
      {
        "x": 16,
        "y": 4.212435565298215,
        "z": 3,
      },
    ],
    [
      {
        "x": 16.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 16.1,
        "y": 3,
        "z": 7.9,
      },
      {
        "x": 14.5,
        "y": 3.923760430703402,
        "z": 9.5,
      },
      {
        "x": 11,
        "y": 5.944486372867092,
        "z": 6.000000000000002,
      },
      {
        "x": 14.000000000000002,
        "y": 4.212435565298215,
        "z": 3,
      },
    ],
    [
      {
        "x": 18.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 18.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 16,
        "y": 4.212435565298215,
        "z": 3,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 18.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 16,
        "y": 4.212435565298215,
        "z": 3,
      },
      {
        "x": 14.000000000000002,
        "y": 4.212435565298215,
        "z": 3,
      },
      {
        "x": 11,
        "y": 5.944486372867092,
        "z": 6.000000000000002,
      },
      {
        "x": 9,
        "y": 5.944486372867091,
        "z": 6,
      },
      {
        "x": 6.5,
        "y": 4.501110699893027,
        "z": 3.4999999999999996,
      },
      {
        "x": 3.4999999999999996,
        "y": 4.501110699893027,
        "z": 3.4999999999999996,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 6.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 3.4999999999999996,
        "y": 4.501110699893027,
        "z": 3.4999999999999996,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 6.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 6.1,
      },
      {
        "x": 3.4999999999999996,
        "y": 4.501110699893027,
        "z": 3.4999999999999996,
      },
      {
        "x": 6.5,
        "y": 4.501110699893027,
        "z": 3.4999999999999996,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 6.1,
      },
      {
        "x": 6.5,
        "y": 4.501110699893027,
        "z": 3.4999999999999996,
      },
      {
        "x": 9,
        "y": 5.944486372867091,
        "z": 6,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 9,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 12,
      },
    ],
    [
      {
        "x": 8.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 12,
      },
    ],
    [
      {
        "x": 8.1,
        "y": 3,
        "z": 11.1,
      },
      {
        "x": 8.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 12,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 9,
      },
    ],
    [
      {
        "x": 12.9,
        "y": 3,
        "z": 11.1,
      },
      {
        "x": 8.1,
        "y": 3,
        "z": 11.1,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 9,
      },
      {
        "x": 9,
        "y": 5.944486372867091,
        "z": 6,
      },
      {
        "x": 11,
        "y": 5.944486372867092,
        "z": 6.000000000000002,
      },
      {
        "x": 14.5,
        "y": 3.923760430703402,
        "z": 9.5,
      },
    ],
    [
      {
        "x": 12.9,
        "y": 3,
        "z": 18.1,
      },
      {
        "x": 12.9,
        "y": 3,
        "z": 11.1,
      },
      {
        "x": 14.5,
        "y": 3.923760430703402,
        "z": 9.5,
      },
      {
        "x": 15.5,
        "y": 4.501110699893028,
        "z": 10.500000000000002,
      },
      {
        "x": 15.5,
        "y": 4.501110699893028,
        "z": 15.5,
      },
    ],
    [
      {
        "x": 18.1,
        "y": 3,
        "z": 18.1,
      },
      {
        "x": 12.9,
        "y": 3,
        "z": 18.1,
      },
      {
        "x": 15.5,
        "y": 4.501110699893028,
        "z": 15.5,
      },
    ],
    [
      {
        "x": 18.1,
        "y": 3,
        "z": 7.9,
      },
      {
        "x": 18.1,
        "y": 3,
        "z": 18.1,
      },
      {
        "x": 15.5,
        "y": 4.501110699893028,
        "z": 15.5,
      },
      {
        "x": 15.5,
        "y": 4.501110699893028,
        "z": 10.500000000000002,
      },
    ],
    [
      {
        "x": 16.1,
        "y": 3,
        "z": 7.9,
      },
      {
        "x": 18.1,
        "y": 3,
        "z": 7.9,
      },
      {
        "x": 15.5,
        "y": 4.501110699893028,
        "z": 10.500000000000002,
      },
      {
        "x": 14.5,
        "y": 3.923760430703402,
        "z": 9.5,
      },
    ],
  ],
  "inputPolygonVertexCount": 14,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 16.1,
        "y": 5.1,
      },
      "original": {
        "x": 16,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 18.1,
        "y": 5.1,
      },
      "original": {
        "x": 18,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 18.1,
        "y": 0.9,
      },
      "original": {
        "x": 18,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 6.1,
      },
      "original": {
        "x": 1,
        "y": 6,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 6.1,
      },
      "original": {
        "x": 4,
        "y": 6,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 14.1,
      },
      "original": {
        "x": 4,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 14.1,
      },
      "original": {
        "x": 8,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 11.1,
      },
      "original": {
        "x": 8,
        "y": 11,
      },
    },
    {
      "offset": {
        "x": 12.9,
        "y": 11.1,
      },
      "original": {
        "x": 13,
        "y": 11,
      },
    },
    {
      "offset": {
        "x": 12.9,
        "y": 18.1,
      },
      "original": {
        "x": 13,
        "y": 18,
      },
    },
    {
      "offset": {
        "x": 18.1,
        "y": 18.1,
      },
      "original": {
        "x": 18,
        "y": 18,
      },
    },
    {
      "offset": {
        "x": 18.1,
        "y": 7.9,
      },
      "original": {
        "x": 18,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 16.1,
        "y": 7.9,
      },
      "original": {
        "x": 16,
        "y": 8,
      },
    },
  ],
  "preparedPolygonVertexCount": 14,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 14.1,
          "z": 3,
        },
        Vector3 {
          "x": 8.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 12,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 12,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 8.1,
          "y": 11.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 9,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 16.1,
          "y": 5.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 14.000000000000002,
        "y": 3,
        "z": 4.212435565298215,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 14.000000000000002,
          "y": 3,
          "z": 4.212435565298215,
        },
        Vector3 {
          "x": 18.1,
          "y": 5.1,
          "z": 3,
        },
        Vector3 {
          "x": 18.1,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 16,
        "y": 3,
        "z": 4.212435565298215,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 6.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.4999999999999996,
        "y": 3.4999999999999996,
        "z": 4.501110699893027,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.4999999999999996,
          "y": 3.4999999999999996,
          "z": 4.501110699893027,
        },
        Vector3 {
          "x": 3.9,
          "y": 6.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.5,
        "y": 3.4999999999999996,
        "z": 4.501110699893027,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 18.1,
          "y": 7.9,
          "z": 3,
        },
        Vector3 {
          "x": 14.5,
          "y": 9.5,
          "z": 3.923760430703402,
        },
      ],
      "source": Vector3 {
        "x": 15.5,
        "y": 10.500000000000002,
        "z": 4.501110699893028,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 15.5,
          "y": 10.500000000000002,
          "z": 4.501110699893028,
        },
        Vector3 {
          "x": 12.9,
          "y": 18.1,
          "z": 3,
        },
        Vector3 {
          "x": 18.1,
          "y": 18.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 15.5,
        "y": 15.5,
        "z": 4.501110699893028,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.5,
          "y": 3.4999999999999996,
          "z": 4.501110699893027,
        },
        Vector3 {
          "x": 6,
          "y": 9,
          "z": 4.212435565298214,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 6,
        "z": 5.944486372867091,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 14.000000000000002,
          "y": 3,
          "z": 4.212435565298215,
        },
        Vector3 {
          "x": 9,
          "y": 6,
          "z": 5.944486372867091,
        },
        Vector3 {
          "x": 14.5,
          "y": 9.5,
          "z": 3.923760430703402,
        },
      ],
      "source": Vector3 {
        "x": 11,
        "y": 6.000000000000002,
        "z": 5.944486372867092,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.9,
          "y": 11.1,
          "z": 3,
        },
        Vector3 {
          "x": 16.1,
          "y": 7.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 14.5,
        "y": 9.5,
        "z": 3.923760430703402,
      },
    },
  ],
  "skeletonNodeCount": 11,
  "vertexCount": 25,
  "vertices": [
    {
      "x": 16.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 12.9,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 12.9,
      "y": 3,
      "z": 18.1,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 18.1,
    },
    {
      "x": 18.1,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 16.1,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 12,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 9,
    },
    {
      "x": 14.000000000000002,
      "y": 4.212435565298215,
      "z": 3,
    },
    {
      "x": 16,
      "y": 4.212435565298215,
      "z": 3,
    },
    {
      "x": 3.4999999999999996,
      "y": 4.501110699893027,
      "z": 3.4999999999999996,
    },
    {
      "x": 6.5,
      "y": 4.501110699893027,
      "z": 3.4999999999999996,
    },
    {
      "x": 15.5,
      "y": 4.501110699893028,
      "z": 10.500000000000002,
    },
    {
      "x": 15.5,
      "y": 4.501110699893028,
      "z": 15.5,
    },
    {
      "x": 9,
      "y": 5.944486372867091,
      "z": 6,
    },
    {
      "x": 11,
      "y": 5.944486372867092,
      "z": 6.000000000000002,
    },
    {
      "x": 14.5,
      "y": 3.923760430703402,
      "z": 9.5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_2 1`] = `
{
  "faceCount": 9,
  "faces": [
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 7.9,
      },
      {
        "x": 3.97,
        "y": 3,
        "z": 7.9,
      },
      {
        "x": 4.720108145456102,
        "y": 4.374031202863118,
        "z": 10.279891854543898,
      },
      {
        "x": 4,
        "y": 4.789785834487839,
        "z": 11,
      },
    ],
    [
      {
        "x": 3.97,
        "y": 3,
        "z": 7.9,
      },
      {
        "x": 14.1,
        "y": 3,
        "z": 0.81,
      },
      {
        "x": 12.631073565666998,
        "y": 3.8480850722819153,
        "z": 3.6310735656669983,
      },
      {
        "x": 10.35002705971438,
        "y": 3.4329970789588367,
        "z": 4.350027059714381,
      },
      {
        "x": 7.953177399963563,
        "y": 4.816818875223035,
        "z": 8.953177399963565,
      },
      {
        "x": 4.911782058693406,
        "y": 4.263368217458931,
        "z": 9.911782058693408,
      },
      {
        "x": 4.720108145456102,
        "y": 4.374031202863118,
        "z": 10.279891854543898,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 16.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 7.9,
      },
      {
        "x": 4,
        "y": 4.789785834487839,
        "z": 11,
      },
      {
        "x": 4,
        "y": 4.789785834487839,
        "z": 13.000000000000002,
      },
    ],
    [
      {
        "x": 7.1,
        "y": 3,
        "z": 16.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 16.1,
      },
      {
        "x": 4,
        "y": 4.789785834487839,
        "z": 13.000000000000002,
      },
    ],
    [
      {
        "x": 7.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 16.1,
      },
      {
        "x": 4,
        "y": 4.789785834487839,
        "z": 13.000000000000002,
      },
      {
        "x": 4,
        "y": 4.789785834487839,
        "z": 11,
      },
      {
        "x": 4.720108145456102,
        "y": 4.374031202863118,
        "z": 10.279891854543898,
      },
      {
        "x": 4.911782058693406,
        "y": 4.263368217458931,
        "z": 9.911782058693408,
      },
    ],
    [
      {
        "x": 11.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 4.911782058693406,
        "y": 4.263368217458931,
        "z": 9.911782058693408,
      },
      {
        "x": 7.953177399963563,
        "y": 4.816818875223035,
        "z": 8.953177399963565,
      },
    ],
    [
      {
        "x": 11.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 11.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 7.953177399963563,
        "y": 4.816818875223035,
        "z": 8.953177399963565,
      },
      {
        "x": 10.35002705971438,
        "y": 3.4329970789588367,
        "z": 4.350027059714381,
      },
    ],
    [
      {
        "x": 14.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 11.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 10.35002705971438,
        "y": 3.4329970789588367,
        "z": 4.350027059714381,
      },
      {
        "x": 12.631073565666998,
        "y": 3.8480850722819153,
        "z": 3.6310735656669983,
      },
    ],
    [
      {
        "x": 14.1,
        "y": 3,
        "z": 0.81,
      },
      {
        "x": 14.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 12.631073565666998,
        "y": 3.8480850722819153,
        "z": 3.6310735656669983,
      },
    ],
  ],
  "inputPolygonVertexCount": 11,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 3.97,
        "y": 7.9,
      },
      "original": {
        "x": 4,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 7.9,
      },
      "original": {
        "x": 1,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 16.1,
      },
      "original": {
        "x": 1,
        "y": 16,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 16.1,
      },
      "original": {
        "x": 7,
        "y": 16,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 12.1,
      },
      "original": {
        "x": 7,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 11.1,
        "y": 12.1,
      },
      "original": {
        "x": 11,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 11.1,
        "y": 5.1,
      },
      "original": {
        "x": 11,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 14.1,
        "y": 5.1,
      },
      "original": {
        "x": 14,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 14.1,
        "y": 0.81,
      },
      "original": {
        "x": 14,
        "y": 1,
      },
    },
  ],
  "preparedPolygonVertexCount": 9,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 11.1,
          "y": 5.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 10.35002705971438,
        "y": 4.350027059714381,
        "z": 3.4329970789588367,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 10.35002705971438,
          "y": 4.350027059714381,
          "z": 3.4329970789588367,
        },
        Vector3 {
          "x": 14.1,
          "y": 5.1,
          "z": 3,
        },
        Vector3 {
          "x": 14.1,
          "y": 0.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 12.631073565666998,
        "y": 3.6310735656669983,
        "z": 3.8480850722819153,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.1,
          "y": 12.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.911782058693406,
        "y": 9.911782058693408,
        "z": 4.263368217458931,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.911782058693406,
          "y": 9.911782058693408,
          "z": 4.263368217458931,
        },
        Vector3 {
          "x": 3.97,
          "y": 7.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.720108145456102,
        "y": 10.279891854543898,
        "z": 4.374031202863118,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.720108145456102,
          "y": 10.279891854543898,
          "z": 4.374031202863118,
        },
        Vector3 {
          "x": 0.9,
          "y": 7.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 11,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4,
          "y": 11,
          "z": 4.789785834487839,
        },
        Vector3 {
          "x": 0.9,
          "y": 16.1,
          "z": 3,
        },
        Vector3 {
          "x": 7.1,
          "y": 16.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 13.000000000000002,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.911782058693406,
          "y": 9.911782058693408,
          "z": 4.263368217458931,
        },
        Vector3 {
          "x": 11.1,
          "y": 12.1,
          "z": 3,
        },
        Vector3 {
          "x": 10.35002705971438,
          "y": 4.350027059714381,
          "z": 3.4329970789588367,
        },
      ],
      "source": Vector3 {
        "x": 7.953177399963563,
        "y": 8.953177399963565,
        "z": 4.816818875223035,
      },
    },
  ],
  "skeletonNodeCount": 7,
  "vertexCount": 16,
  "vertices": [
    {
      "x": 3.97,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 7.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": 10.35002705971438,
      "y": 3.4329970789588367,
      "z": 4.350027059714381,
    },
    {
      "x": 12.631073565666998,
      "y": 3.8480850722819153,
      "z": 3.6310735656669983,
    },
    {
      "x": 4.911782058693406,
      "y": 4.263368217458931,
      "z": 9.911782058693408,
    },
    {
      "x": 4.720108145456102,
      "y": 4.374031202863118,
      "z": 10.279891854543898,
    },
    {
      "x": 4,
      "y": 4.789785834487839,
      "z": 11,
    },
    {
      "x": 4,
      "y": 4.789785834487839,
      "z": 13.000000000000002,
    },
    {
      "x": 7.953177399963563,
      "y": 4.816818875223035,
      "z": 8.953177399963565,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_3 1`] = `
{
  "faceCount": 10,
  "faces": [
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 7.000000000000001,
        "y": 4.789785834487839,
        "z": 7,
      },
      {
        "x": 4,
        "y": 4.78978583448784,
        "z": 7,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 8.5,
        "y": 5.655811238272278,
        "z": 5.500000000000001,
      },
      {
        "x": 7.000000000000001,
        "y": 4.789785834487839,
        "z": 7,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 4,
        "y": 4.78978583448784,
        "z": 7,
      },
    ],
    [
      {
        "x": 9.9,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": 4,
        "y": 4.78978583448784,
        "z": 7,
      },
      {
        "x": 7.000000000000001,
        "y": 4.789785834487839,
        "z": 7,
      },
      {
        "x": 8.5,
        "y": 5.655811238272278,
        "z": 5.500000000000001,
      },
      {
        "x": 11.500000000000002,
        "y": 5.655811238272278,
        "z": 5.500000000000001,
      },
      {
        "x": 13,
        "y": 4.789785834487841,
        "z": 6.999999999999999,
      },
    ],
    [
      {
        "x": 9.9,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 9.9,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": 13,
        "y": 4.789785834487841,
        "z": 6.999999999999999,
      },
      {
        "x": 13,
        "y": 4.789785834487839,
        "z": 8,
      },
      {
        "x": 13.5,
        "y": 5.078460969082652,
        "z": 8.5,
      },
      {
        "x": 13.5,
        "y": 5.078460969082652,
        "z": 10.5,
      },
    ],
    [
      {
        "x": 17.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 9.9,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 13.5,
        "y": 5.078460969082652,
        "z": 10.5,
      },
    ],
    [
      {
        "x": 17.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 17.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 13.5,
        "y": 5.078460969082652,
        "z": 10.5,
      },
      {
        "x": 13.5,
        "y": 5.078460969082652,
        "z": 8.5,
      },
    ],
    [
      {
        "x": 16.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 17.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 13.5,
        "y": 5.078460969082652,
        "z": 8.5,
      },
      {
        "x": 13,
        "y": 4.789785834487839,
        "z": 8,
      },
    ],
    [
      {
        "x": 16.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 16.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 13,
        "y": 4.789785834487839,
        "z": 8,
      },
      {
        "x": 13,
        "y": 4.789785834487841,
        "z": 6.999999999999999,
      },
      {
        "x": 11.500000000000002,
        "y": 5.655811238272278,
        "z": 5.500000000000001,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 16.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 11.500000000000002,
        "y": 5.655811238272278,
        "z": 5.500000000000001,
      },
      {
        "x": 8.5,
        "y": 5.655811238272278,
        "z": 5.500000000000001,
      },
    ],
  ],
  "inputPolygonVertexCount": 10,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 3.9,
        "y": 3.9,
      },
      "original": {
        "x": 4,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 3.9,
      },
      "original": {
        "x": 1,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 10.1,
      },
      "original": {
        "x": 1,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 9.9,
        "y": 10.1,
      },
      "original": {
        "x": 10,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 9.9,
        "y": 14.1,
      },
      "original": {
        "x": 10,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 17.1,
        "y": 14.1,
      },
      "original": {
        "x": 17,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 17.1,
        "y": 4.9,
      },
      "original": {
        "x": 17,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 16.1,
        "y": 4.9,
      },
      "original": {
        "x": 16,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 16.1,
        "y": 0.9,
      },
      "original": {
        "x": 16,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 0.9,
      },
      "original": {
        "x": 4,
        "y": 1,
      },
    },
  ],
  "preparedPolygonVertexCount": 10,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 3.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 10.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 7,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 3.9,
          "z": 3,
        },
        Vector3 {
          "x": 4,
          "y": 7,
          "z": 4.78978583448784,
        },
      ],
      "source": Vector3 {
        "x": 7.000000000000001,
        "y": 7,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.9,
          "y": 10.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 13,
        "y": 6.999999999999999,
        "z": 4.789785834487841,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 16.1,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 13,
          "y": 6.999999999999999,
          "z": 4.789785834487841,
        },
      ],
      "source": Vector3 {
        "x": 13,
        "y": 8,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 17.1,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 13,
          "y": 8,
          "z": 4.789785834487839,
        },
      ],
      "source": Vector3 {
        "x": 13.5,
        "y": 8.5,
        "z": 5.078460969082652,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 13.5,
          "y": 8.5,
          "z": 5.078460969082652,
        },
        Vector3 {
          "x": 9.9,
          "y": 14.1,
          "z": 3,
        },
        Vector3 {
          "x": 17.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 13.5,
        "y": 10.5,
        "z": 5.078460969082652,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 7.000000000000001,
          "y": 7,
          "z": 4.789785834487839,
        },
      ],
      "source": Vector3 {
        "x": 8.5,
        "y": 5.500000000000001,
        "z": 5.655811238272278,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 13,
          "y": 6.999999999999999,
          "z": 4.789785834487841,
        },
        Vector3 {
          "x": 16.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 8.5,
          "y": 5.500000000000001,
          "z": 5.655811238272278,
        },
      ],
      "source": Vector3 {
        "x": 11.500000000000002,
        "y": 5.500000000000001,
        "z": 5.655811238272278,
      },
    },
  ],
  "skeletonNodeCount": 8,
  "vertexCount": 18,
  "vertices": [
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 9.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 9.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 17.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 17.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 16.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 16.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 7,
    },
    {
      "x": 7.000000000000001,
      "y": 4.789785834487839,
      "z": 7,
    },
    {
      "x": 13,
      "y": 4.789785834487841,
      "z": 6.999999999999999,
    },
    {
      "x": 13,
      "y": 4.789785834487839,
      "z": 8,
    },
    {
      "x": 13.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 13.5,
      "y": 5.078460969082652,
      "z": 10.5,
    },
    {
      "x": 8.5,
      "y": 5.655811238272278,
      "z": 5.500000000000001,
    },
    {
      "x": 11.500000000000002,
      "y": 5.655811238272278,
      "z": 5.500000000000001,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_4_tier2 1`] = `
{
  "faceCount": 14,
  "faces": [
    [
      {
        "x": 1.12,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 1.12,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": 4.5699999999999985,
        "y": 4.99185842870421,
        "z": 1.5299999999999994,
      },
      {
        "x": 4.5699999999999985,
        "y": 4.991858428704208,
        "z": 2.7399999999999993,
      },
      {
        "x": 4.879999999999999,
        "y": 5.170837012152992,
        "z": 3.0500000000000003,
      },
    ],
    [
      {
        "x": 1.12,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": -4.37,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": 2.220446049250313e-16,
        "y": 5.523020676358664,
        "z": 0.6100000000000008,
      },
      {
        "x": 3.6499999999999995,
        "y": 5.523020676358664,
        "z": 0.6100000000000002,
      },
      {
        "x": 4.5699999999999985,
        "y": 4.99185842870421,
        "z": 1.5299999999999994,
      },
    ],
    [
      {
        "x": 4.17,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 1.12,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 4.879999999999999,
        "y": 5.170837012152992,
        "z": 3.0500000000000003,
      },
      {
        "x": 5.480000000000001,
        "y": 5.170837012152992,
        "z": 3.049999999999999,
      },
      {
        "x": 6.705000000000003,
        "y": 4.4635829323957,
        "z": 4.275,
      },
    ],
    [
      {
        "x": 4.17,
        "y": 3,
        "z": 9.24,
      },
      {
        "x": 4.17,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 6.705000000000003,
        "y": 4.4635829323957,
        "z": 4.275,
      },
      {
        "x": 6.705,
        "y": 4.463582932395701,
        "z": 6.689955621690224,
      },
    ],
    [
      {
        "x": 9.24,
        "y": 3,
        "z": 9.21,
      },
      {
        "x": 4.17,
        "y": 3,
        "z": 9.24,
      },
      {
        "x": 6.705,
        "y": 4.463582932395701,
        "z": 6.689955621690224,
      },
    ],
    [
      {
        "x": 9.24,
        "y": 3,
        "z": -0.71,
      },
      {
        "x": 9.24,
        "y": 3,
        "z": 9.21,
      },
      {
        "x": 6.705,
        "y": 4.463582932395701,
        "z": 6.689955621690224,
      },
      {
        "x": 6.705000000000003,
        "y": 4.4635829323957,
        "z": 4.275,
      },
      {
        "x": 5.480000000000001,
        "y": 5.170837012152992,
        "z": 3.049999999999999,
      },
    ],
    [
      {
        "x": 8.02,
        "y": 3,
        "z": -0.71,
      },
      {
        "x": 9.24,
        "y": 3,
        "z": -0.71,
      },
      {
        "x": 5.480000000000001,
        "y": 5.170837012152992,
        "z": 3.049999999999999,
      },
      {
        "x": 4.879999999999999,
        "y": 5.170837012152992,
        "z": 3.0500000000000003,
      },
      {
        "x": 4.5699999999999985,
        "y": 4.991858428704208,
        "z": 2.7399999999999993,
      },
    ],
    [
      {
        "x": 8.02,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": 8.02,
        "y": 3,
        "z": -0.71,
      },
      {
        "x": 4.5699999999999985,
        "y": 4.991858428704208,
        "z": 2.7399999999999993,
      },
      {
        "x": 4.5699999999999985,
        "y": 4.99185842870421,
        "z": 1.5299999999999994,
      },
      {
        "x": 3.6499999999999995,
        "y": 5.523020676358664,
        "z": 0.6100000000000002,
      },
      {
        "x": 4.265,
        "y": 5.167950260807045,
        "z": -0.0050000000000001155,
      },
      {
        "x": 4.265,
        "y": 5.167950260807045,
        "z": -1.8350000000000004,
      },
    ],
    [
      {
        "x": 0.51,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": 8.02,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": 4.265,
        "y": 5.167950260807045,
        "z": -1.8350000000000004,
      },
    ],
    [
      {
        "x": 0.51,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": 0.51,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": 4.265,
        "y": 5.167950260807045,
        "z": -1.8350000000000004,
      },
      {
        "x": 4.265,
        "y": 5.167950260807045,
        "z": -0.0050000000000001155,
      },
    ],
    [
      {
        "x": -6.81,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": 0.51,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": 4.265,
        "y": 5.167950260807045,
        "z": -0.0050000000000001155,
      },
      {
        "x": 3.6499999999999995,
        "y": 5.523020676358664,
        "z": 0.6100000000000002,
      },
      {
        "x": 2.220446049250313e-16,
        "y": 5.523020676358664,
        "z": 0.6100000000000008,
      },
      {
        "x": -1.5250000000000004,
        "y": 4.642561515844485,
        "z": -0.9149999999999998,
      },
      {
        "x": -3.965,
        "y": 4.642561515844485,
        "z": -0.9149999999999998,
      },
    ],
    [
      {
        "x": -6.81,
        "y": 3,
        "z": 1.93,
      },
      {
        "x": -6.81,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": -3.965,
        "y": 4.642561515844485,
        "z": -0.9149999999999998,
      },
    ],
    [
      {
        "x": -4.37,
        "y": 3,
        "z": 1.93,
      },
      {
        "x": -6.81,
        "y": 3,
        "z": 1.93,
      },
      {
        "x": -3.965,
        "y": 4.642561515844485,
        "z": -0.9149999999999998,
      },
      {
        "x": -1.5250000000000004,
        "y": 4.642561515844485,
        "z": -0.9149999999999998,
      },
    ],
    [
      {
        "x": -4.37,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": -4.37,
        "y": 3,
        "z": 1.93,
      },
      {
        "x": -1.5250000000000004,
        "y": 4.642561515844485,
        "z": -0.9149999999999998,
      },
      {
        "x": 2.220446049250313e-16,
        "y": 5.523020676358664,
        "z": 0.6100000000000008,
      },
    ],
  ],
  "inputPolygonVertexCount": 16,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 1.12,
        "y": 4.98,
      },
      "original": {
        "x": 1.22,
        "y": 4.88,
      },
    },
    {
      "offset": {
        "x": 1.12,
        "y": 6.81,
      },
      "original": {
        "x": 1.22,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 4.17,
        "y": 6.81,
      },
      "original": {
        "x": 4.27,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 4.17,
        "y": 9.24,
      },
      "original": {
        "x": 4.27,
        "y": 9.14,
      },
    },
    {
      "offset": {
        "x": 9.24,
        "y": 9.21,
      },
      "original": {
        "x": 9.14,
        "y": 9.11,
      },
    },
    {
      "offset": {
        "x": 9.24,
        "y": -0.71,
      },
      "original": {
        "x": 9.14,
        "y": -0.61,
      },
    },
    {
      "offset": {
        "x": 8.02,
        "y": -0.71,
      },
      "original": {
        "x": 7.92,
        "y": -0.61,
      },
    },
    {
      "offset": {
        "x": 8.02,
        "y": -5.59,
      },
      "original": {
        "x": 7.92,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": 0.51,
        "y": -5.59,
      },
      "original": {
        "x": 0.61,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": 0.51,
        "y": -3.76,
      },
      "original": {
        "x": 0.61,
        "y": -3.66,
      },
    },
    {
      "offset": {
        "x": -6.81,
        "y": -3.76,
      },
      "original": {
        "x": -6.71,
        "y": -3.66,
      },
    },
    {
      "offset": {
        "x": -6.81,
        "y": 1.93,
      },
      "original": {
        "x": -6.71,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -4.37,
        "y": 1.93,
      },
      "original": {
        "x": -4.27,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -4.37,
        "y": 4.98,
      },
      "original": {
        "x": -4.27,
        "y": 4.88,
      },
    },
  ],
  "preparedPolygonVertexCount": 14,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 4.17,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.705000000000003,
        "y": 4.275,
        "z": 4.4635829323957,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.705000000000003,
          "y": 4.275,
          "z": 4.4635829323957,
        },
        Vector3 {
          "x": 4.17,
          "y": 9.24,
          "z": 3,
        },
        Vector3 {
          "x": 9.24,
          "y": 9.21,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.705,
        "y": 6.689955621690224,
        "z": 4.463582932395701,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.81,
          "y": -3.76,
          "z": 3,
        },
        Vector3 {
          "x": -6.81,
          "y": 1.93,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.965,
        "y": -0.9149999999999998,
        "z": 4.642561515844485,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.965,
          "y": -0.9149999999999998,
          "z": 4.642561515844485,
        },
        Vector3 {
          "x": -4.37,
          "y": 1.93,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.5250000000000004,
        "y": -0.9149999999999998,
        "z": 4.642561515844485,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.12,
          "y": 4.98,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.5699999999999985,
        "y": 1.5299999999999994,
        "z": 4.99185842870421,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.02,
          "y": -0.71,
          "z": 3,
        },
        Vector3 {
          "x": 4.5699999999999985,
          "y": 1.5299999999999994,
          "z": 4.99185842870421,
        },
      ],
      "source": Vector3 {
        "x": 4.5699999999999985,
        "y": 2.7399999999999993,
        "z": 4.991858428704208,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.02,
          "y": -5.59,
          "z": 3,
        },
        Vector3 {
          "x": 0.51,
          "y": -5.59,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.265,
        "y": -1.8350000000000004,
        "z": 5.167950260807045,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.265,
          "y": -1.8350000000000004,
          "z": 5.167950260807045,
        },
        Vector3 {
          "x": 0.51,
          "y": -3.76,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.265,
        "y": -0.0050000000000001155,
        "z": 5.167950260807045,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.5699999999999985,
          "y": 2.7399999999999993,
          "z": 4.991858428704208,
        },
        Vector3 {
          "x": 1.12,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.879999999999999,
        "y": 3.0500000000000003,
        "z": 5.170837012152992,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.879999999999999,
          "y": 3.0500000000000003,
          "z": 5.170837012152992,
        },
        Vector3 {
          "x": 6.705000000000003,
          "y": 4.275,
          "z": 4.4635829323957,
        },
        Vector3 {
          "x": 9.24,
          "y": -0.71,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.480000000000001,
        "y": 3.049999999999999,
        "z": 5.170837012152992,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.5250000000000004,
          "y": -0.9149999999999998,
          "z": 4.642561515844485,
        },
        Vector3 {
          "x": -4.37,
          "y": 4.98,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.220446049250313e-16,
        "y": 0.6100000000000008,
        "z": 5.523020676358664,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.5699999999999985,
          "y": 1.5299999999999994,
          "z": 4.99185842870421,
        },
        Vector3 {
          "x": 4.265,
          "y": -0.0050000000000001155,
          "z": 5.167950260807045,
        },
        Vector3 {
          "x": 2.220446049250313e-16,
          "y": 0.6100000000000008,
          "z": 5.523020676358664,
        },
      ],
      "source": Vector3 {
        "x": 3.6499999999999995,
        "y": 0.6100000000000002,
        "z": 5.523020676358664,
      },
    },
  ],
  "skeletonNodeCount": 12,
  "vertexCount": 26,
  "vertices": [
    {
      "x": 1.12,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 1.12,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 4.17,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 4.17,
      "y": 3,
      "z": 9.24,
    },
    {
      "x": 9.24,
      "y": 3,
      "z": 9.21,
    },
    {
      "x": 9.24,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 0.51,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": 0.51,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -6.81,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -6.81,
      "y": 3,
      "z": 1.93,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 1.93,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 6.705000000000003,
      "y": 4.4635829323957,
      "z": 4.275,
    },
    {
      "x": 6.705,
      "y": 4.463582932395701,
      "z": 6.689955621690224,
    },
    {
      "x": -3.965,
      "y": 4.642561515844485,
      "z": -0.9149999999999998,
    },
    {
      "x": -1.5250000000000004,
      "y": 4.642561515844485,
      "z": -0.9149999999999998,
    },
    {
      "x": 4.5699999999999985,
      "y": 4.99185842870421,
      "z": 1.5299999999999994,
    },
    {
      "x": 4.5699999999999985,
      "y": 4.991858428704208,
      "z": 2.7399999999999993,
    },
    {
      "x": 4.265,
      "y": 5.167950260807045,
      "z": -1.8350000000000004,
    },
    {
      "x": 4.265,
      "y": 5.167950260807045,
      "z": -0.0050000000000001155,
    },
    {
      "x": 4.879999999999999,
      "y": 5.170837012152992,
      "z": 3.0500000000000003,
    },
    {
      "x": 5.480000000000001,
      "y": 5.170837012152992,
      "z": 3.049999999999999,
    },
    {
      "x": 2.220446049250313e-16,
      "y": 5.523020676358664,
      "z": 0.6100000000000008,
    },
    {
      "x": 3.6499999999999995,
      "y": 5.523020676358664,
      "z": 0.6100000000000002,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_5_tier2 1`] = `
{
  "faceCount": 18,
  "faces": [
    [
      {
        "x": 4.37,
        "y": 3,
        "z": 1.32,
      },
      {
        "x": 4.37,
        "y": 3,
        "z": 2.34,
      },
      {
        "x": 3.3550000000000004,
        "y": 3.58601052322747,
        "z": 3.355,
      },
      {
        "x": 2.7450000000000006,
        "y": 3.938194187433142,
        "z": 2.745,
      },
      {
        "x": 3.66,
        "y": 3.409918691124634,
        "z": 1.8300000000000003,
      },
      {
        "x": 3.66,
        "y": 3.409918691124634,
        "z": 0.6100000000000001,
      },
    ],
    [
      {
        "x": 4.37,
        "y": 3,
        "z": 2.34,
      },
      {
        "x": 10.46,
        "y": 3,
        "z": 2.34,
      },
      {
        "x": 9.445,
        "y": 3.5860105232274706,
        "z": 3.355,
      },
      {
        "x": 3.3550000000000004,
        "y": 3.58601052322747,
        "z": 3.355,
      },
    ],
    [
      {
        "x": 7.42,
        "y": 3,
        "z": 1.32,
      },
      {
        "x": 4.37,
        "y": 3,
        "z": 1.32,
      },
      {
        "x": 3.66,
        "y": 3.409918691124634,
        "z": 0.6100000000000001,
      },
      {
        "x": 5.1850000000000005,
        "y": 4.290377851638814,
        "z": -0.9149999999999999,
      },
    ],
    [
      {
        "x": 7.42,
        "y": 3,
        "z": -3.15,
      },
      {
        "x": 7.42,
        "y": 3,
        "z": 1.32,
      },
      {
        "x": 5.1850000000000005,
        "y": 4.290377851638814,
        "z": -0.9149999999999999,
      },
    ],
    [
      {
        "x": 2.95,
        "y": 3,
        "z": -3.15,
      },
      {
        "x": 7.42,
        "y": 3,
        "z": -3.15,
      },
      {
        "x": 5.1850000000000005,
        "y": 4.290377851638814,
        "z": -0.9149999999999999,
      },
    ],
    [
      {
        "x": 2.95,
        "y": 3,
        "z": 1.12,
      },
      {
        "x": 2.95,
        "y": 3,
        "z": -3.15,
      },
      {
        "x": 5.1850000000000005,
        "y": 4.290377851638814,
        "z": -0.9149999999999999,
      },
      {
        "x": 3.66,
        "y": 3.409918691124634,
        "z": 0.6100000000000001,
      },
      {
        "x": 3.66,
        "y": 3.409918691124634,
        "z": 1.8300000000000003,
      },
    ],
    [
      {
        "x": -1.93,
        "y": 3,
        "z": 1.12,
      },
      {
        "x": 2.95,
        "y": 3,
        "z": 1.12,
      },
      {
        "x": 3.66,
        "y": 3.409918691124634,
        "z": 1.8300000000000003,
      },
      {
        "x": 2.7450000000000006,
        "y": 3.938194187433142,
        "z": 2.745,
      },
      {
        "x": 2.135,
        "y": 3.938194187433142,
        "z": 2.745,
      },
      {
        "x": 0.9149999999999999,
        "y": 4.642561515844485,
        "z": 3.965,
      },
    ],
    [
      {
        "x": -1.93,
        "y": 3,
        "z": 4.17,
      },
      {
        "x": -1.93,
        "y": 3,
        "z": 1.12,
      },
      {
        "x": 0.9149999999999999,
        "y": 4.642561515844485,
        "z": 3.965,
      },
      {
        "x": -0.6100000000000005,
        "y": 3.7621023553303057,
        "z": 5.49,
      },
    ],
    [
      {
        "x": -3.76,
        "y": 3,
        "z": 4.17,
      },
      {
        "x": -1.93,
        "y": 3,
        "z": 4.17,
      },
      {
        "x": -0.6100000000000005,
        "y": 3.7621023553303057,
        "z": 5.49,
      },
      {
        "x": -1.2200000000000002,
        "y": 3.762102355330306,
        "z": 5.49,
      },
      {
        "x": -1.8299999999999998,
        "y": 4.114286019535977,
        "z": 6.1,
      },
    ],
    [
      {
        "x": -3.76,
        "y": 3,
        "z": 6,
      },
      {
        "x": -3.76,
        "y": 3,
        "z": 4.17,
      },
      {
        "x": -1.8299999999999998,
        "y": 4.114286019535977,
        "z": 6.1,
      },
      {
        "x": -1.8325,
        "y": 4.1128426438630035,
        "z": 7.9225,
      },
    ],
    [
      {
        "x": -6.2,
        "y": 3,
        "z": 6,
      },
      {
        "x": -3.76,
        "y": 3,
        "z": 6,
      },
      {
        "x": -1.8325,
        "y": 4.1128426438630035,
        "z": 7.9225,
      },
      {
        "x": -4.275,
        "y": 4.111399268190029,
        "z": 7.925,
      },
    ],
    [
      {
        "x": -6.2,
        "y": 3,
        "z": 9.85,
      },
      {
        "x": -6.2,
        "y": 3,
        "z": 6,
      },
      {
        "x": -4.275,
        "y": 4.111399268190029,
        "z": 7.925,
      },
    ],
    [
      {
        "x": 0.1,
        "y": 3,
        "z": 9.85,
      },
      {
        "x": -6.2,
        "y": 3,
        "z": 9.85,
      },
      {
        "x": -4.275,
        "y": 4.111399268190029,
        "z": 7.925,
      },
      {
        "x": -1.8325,
        "y": 4.1128426438630035,
        "z": 7.9225,
      },
    ],
    [
      {
        "x": 0.1,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 0.1,
        "y": 3,
        "z": 9.85,
      },
      {
        "x": -1.8325,
        "y": 4.1128426438630035,
        "z": 7.9225,
      },
      {
        "x": -1.8299999999999998,
        "y": 4.114286019535977,
        "z": 6.1,
      },
      {
        "x": -1.2200000000000002,
        "y": 3.762102355330306,
        "z": 5.49,
      },
    ],
    [
      {
        "x": 3.76,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 0.1,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": -1.2200000000000002,
        "y": 3.762102355330306,
        "z": 5.49,
      },
      {
        "x": -0.6100000000000005,
        "y": 3.7621023553303057,
        "z": 5.49,
      },
      {
        "x": 0.9149999999999999,
        "y": 4.642561515844485,
        "z": 3.965,
      },
    ],
    [
      {
        "x": 3.76,
        "y": 3,
        "z": 4.37,
      },
      {
        "x": 3.76,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 0.9149999999999999,
        "y": 4.642561515844485,
        "z": 3.965,
      },
      {
        "x": 2.135,
        "y": 3.938194187433142,
        "z": 2.745,
      },
    ],
    [
      {
        "x": 10.46,
        "y": 3,
        "z": 4.37,
      },
      {
        "x": 3.76,
        "y": 3,
        "z": 4.37,
      },
      {
        "x": 2.135,
        "y": 3.938194187433142,
        "z": 2.745,
      },
      {
        "x": 2.7450000000000006,
        "y": 3.938194187433142,
        "z": 2.745,
      },
      {
        "x": 3.3550000000000004,
        "y": 3.58601052322747,
        "z": 3.355,
      },
      {
        "x": 9.445,
        "y": 3.5860105232274706,
        "z": 3.355,
      },
    ],
    [
      {
        "x": 10.46,
        "y": 3,
        "z": 2.34,
      },
      {
        "x": 10.46,
        "y": 3,
        "z": 4.37,
      },
      {
        "x": 9.445,
        "y": 3.5860105232274706,
        "z": 3.355,
      },
    ],
  ],
  "inputPolygonVertexCount": 18,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 4.37,
        "y": 2.34,
      },
      "original": {
        "x": 4.27,
        "y": 2.44,
      },
    },
    {
      "offset": {
        "x": 4.37,
        "y": 1.32,
      },
      "original": {
        "x": 4.27,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": 7.42,
        "y": 1.32,
      },
      "original": {
        "x": 7.32,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": 7.42,
        "y": -3.15,
      },
      "original": {
        "x": 7.32,
        "y": -3.05,
      },
    },
    {
      "offset": {
        "x": 2.95,
        "y": -3.15,
      },
      "original": {
        "x": 3.05,
        "y": -3.05,
      },
    },
    {
      "offset": {
        "x": 2.95,
        "y": 1.12,
      },
      "original": {
        "x": 3.05,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": -1.93,
        "y": 1.12,
      },
      "original": {
        "x": -1.83,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": -1.93,
        "y": 4.17,
      },
      "original": {
        "x": -1.83,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 4.17,
      },
      "original": {
        "x": -3.66,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 6,
      },
      "original": {
        "x": -3.66,
        "y": 6.1,
      },
    },
    {
      "offset": {
        "x": -6.2,
        "y": 6,
      },
      "original": {
        "x": -6.1,
        "y": 6.1,
      },
    },
    {
      "offset": {
        "x": -6.2,
        "y": 9.85,
      },
      "original": {
        "x": -6.1,
        "y": 9.75,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 9.85,
      },
      "original": {
        "x": 0,
        "y": 9.75,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 6.81,
      },
      "original": {
        "x": 0,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 3.76,
        "y": 6.81,
      },
      "original": {
        "x": 3.66,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 3.76,
        "y": 4.37,
      },
      "original": {
        "x": 3.66,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": 10.46,
        "y": 4.37,
      },
      "original": {
        "x": 10.36,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": 10.46,
        "y": 2.34,
      },
      "original": {
        "x": 10.36,
        "y": 2.44,
      },
    },
  ],
  "preparedPolygonVertexCount": 18,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 10.46,
          "y": 4.37,
          "z": 3,
        },
        Vector3 {
          "x": 10.46,
          "y": 2.34,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9.445,
        "y": 3.355,
        "z": 3.5860105232274706,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.445,
          "y": 3.355,
          "z": 3.5860105232274706,
        },
        Vector3 {
          "x": 4.37,
          "y": 2.34,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.3550000000000004,
        "y": 3.355,
        "z": 3.58601052322747,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.1,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.2200000000000002,
        "y": 5.49,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.93,
          "y": 4.17,
          "z": 3,
        },
        Vector3 {
          "x": -1.2200000000000002,
          "y": 5.49,
          "z": 3.762102355330306,
        },
      ],
      "source": Vector3 {
        "x": -0.6100000000000005,
        "y": 5.49,
        "z": 3.7621023553303057,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.76,
          "y": 4.37,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.135,
        "y": 2.745,
        "z": 3.938194187433142,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.135,
          "y": 2.745,
          "z": 3.938194187433142,
        },
        Vector3 {
          "x": 3.3550000000000004,
          "y": 3.355,
          "z": 3.58601052322747,
        },
      ],
      "source": Vector3 {
        "x": 2.7450000000000006,
        "y": 2.745,
        "z": 3.938194187433142,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.95,
          "y": 1.12,
          "z": 3,
        },
        Vector3 {
          "x": 2.7450000000000006,
          "y": 2.745,
          "z": 3.938194187433142,
        },
      ],
      "source": Vector3 {
        "x": 3.66,
        "y": 1.8300000000000003,
        "z": 3.409918691124634,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.66,
          "y": 1.8300000000000003,
          "z": 3.409918691124634,
        },
        Vector3 {
          "x": 4.37,
          "y": 1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.66,
        "y": 0.6100000000000001,
        "z": 3.409918691124634,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.2,
          "y": 6,
          "z": 3,
        },
        Vector3 {
          "x": -6.2,
          "y": 9.85,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.275,
        "y": 7.925,
        "z": 4.111399268190029,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.2200000000000002,
          "y": 5.49,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": -3.76,
          "y": 4.17,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.8299999999999998,
        "y": 6.1,
        "z": 4.114286019535977,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.76,
          "y": 6,
          "z": 3,
        },
        Vector3 {
          "x": -4.275,
          "y": 7.925,
          "z": 4.111399268190029,
        },
        Vector3 {
          "x": 0.1,
          "y": 9.85,
          "z": 3,
        },
        Vector3 {
          "x": -1.8299999999999998,
          "y": 6.1,
          "z": 4.114286019535977,
        },
      ],
      "source": Vector3 {
        "x": -1.8325,
        "y": 7.9225,
        "z": 4.1128426438630035,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.42,
          "y": -3.15,
          "z": 3,
        },
        Vector3 {
          "x": 2.95,
          "y": -3.15,
          "z": 3,
        },
        Vector3 {
          "x": 3.66,
          "y": 0.6100000000000001,
          "z": 3.409918691124634,
        },
        Vector3 {
          "x": 7.42,
          "y": 1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.1850000000000005,
        "y": -0.9149999999999999,
        "z": 4.290377851638814,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.93,
          "y": 1.12,
          "z": 3,
        },
        Vector3 {
          "x": -0.6100000000000005,
          "y": 5.49,
          "z": 3.7621023553303057,
        },
        Vector3 {
          "x": 2.135,
          "y": 2.745,
          "z": 3.938194187433142,
        },
        Vector3 {
          "x": 3.76,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9149999999999999,
        "y": 3.965,
        "z": 4.642561515844485,
      },
    },
  ],
  "skeletonNodeCount": 13,
  "vertexCount": 31,
  "vertices": [
    {
      "x": 4.37,
      "y": 3,
      "z": 2.34,
    },
    {
      "x": 4.37,
      "y": 3,
      "z": 1.32,
    },
    {
      "x": 7.42,
      "y": 3,
      "z": 1.32,
    },
    {
      "x": 7.42,
      "y": 3,
      "z": -3.15,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": -3.15,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": 1.12,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 1.12,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 4.17,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 4.17,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 6,
    },
    {
      "x": -6.2,
      "y": 3,
      "z": 6,
    },
    {
      "x": -6.2,
      "y": 3,
      "z": 9.85,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 9.85,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 3.76,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 3.76,
      "y": 3,
      "z": 4.37,
    },
    {
      "x": 10.46,
      "y": 3,
      "z": 4.37,
    },
    {
      "x": 10.46,
      "y": 3,
      "z": 2.34,
    },
    {
      "x": 9.445,
      "y": 3.5860105232274706,
      "z": 3.355,
    },
    {
      "x": 3.3550000000000004,
      "y": 3.58601052322747,
      "z": 3.355,
    },
    {
      "x": -1.2200000000000002,
      "y": 3.762102355330306,
      "z": 5.49,
    },
    {
      "x": -0.6100000000000005,
      "y": 3.7621023553303057,
      "z": 5.49,
    },
    {
      "x": 2.135,
      "y": 3.938194187433142,
      "z": 2.745,
    },
    {
      "x": 2.7450000000000006,
      "y": 3.938194187433142,
      "z": 2.745,
    },
    {
      "x": 3.66,
      "y": 3.409918691124634,
      "z": 1.8300000000000003,
    },
    {
      "x": 3.66,
      "y": 3.409918691124634,
      "z": 0.6100000000000001,
    },
    {
      "x": -4.275,
      "y": 4.111399268190029,
      "z": 7.925,
    },
    {
      "x": -1.8299999999999998,
      "y": 4.114286019535977,
      "z": 6.1,
    },
    {
      "x": -1.8325,
      "y": 4.1128426438630035,
      "z": 7.9225,
    },
    {
      "x": 5.1850000000000005,
      "y": 4.290377851638814,
      "z": -0.9149999999999999,
    },
    {
      "x": 0.9149999999999999,
      "y": 4.642561515844485,
      "z": 3.965,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_6_tier2 1`] = `
{
  "faceCount": 9,
  "faces": [
    [
      {
        "x": -0.31,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": -0.31,
        "y": 3,
        "z": -0.51,
      },
      {
        "x": -4.274999999999999,
        "y": 5.289193817336866,
        "z": 3.454999999999999,
      },
      {
        "x": -4.679999999999999,
        "y": 5.523020676358664,
        "z": 3.0499999999999985,
      },
      {
        "x": -1.78,
        "y": 3.84870489570875,
        "z": 0.1499999999999999,
      },
      {
        "x": -1.78,
        "y": 3.8487048957087495,
        "z": -2.29,
      },
    ],
    [
      {
        "x": -0.31,
        "y": 3,
        "z": -0.51,
      },
      {
        "x": 1.93,
        "y": 3,
        "z": -0.51,
      },
      {
        "x": -2.0349999999999993,
        "y": 5.289193817336866,
        "z": 3.454999999999999,
      },
      {
        "x": -4.274999999999999,
        "y": 5.289193817336866,
        "z": 3.454999999999999,
      },
    ],
    [
      {
        "x": -3.25,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": -0.31,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": -1.78,
        "y": 3.8487048957087495,
        "z": -2.29,
      },
    ],
    [
      {
        "x": -3.25,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": -3.25,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": -1.78,
        "y": 3.8487048957087495,
        "z": -2.29,
      },
      {
        "x": -1.78,
        "y": 3.84870489570875,
        "z": 0.1499999999999999,
      },
    ],
    [
      {
        "x": -9.55,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": -3.25,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": -1.78,
        "y": 3.84870489570875,
        "z": 0.1499999999999999,
      },
      {
        "x": -4.679999999999999,
        "y": 5.523020676358664,
        "z": 3.0499999999999985,
      },
      {
        "x": -5.234161287323641,
        "y": 5.523020676358664,
        "z": 3.0499999999999994,
      },
    ],
    [
      {
        "x": -9.66,
        "y": 3,
        "z": 7.5,
      },
      {
        "x": -9.55,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": -5.234161287323641,
        "y": 5.523020676358664,
        "z": 3.0499999999999994,
      },
      {
        "x": -7.048900608425285,
        "y": 4.488266015168154,
        "z": 4.842247646550684,
      },
    ],
    [
      {
        "x": -7.01,
        "y": 3,
        "z": 7.42,
      },
      {
        "x": -9.66,
        "y": 3,
        "z": 7.5,
      },
      {
        "x": -7.048900608425285,
        "y": 4.488266015168154,
        "z": 4.842247646550684,
      },
    ],
    [
      {
        "x": 1.93,
        "y": 3,
        "z": 7.42,
      },
      {
        "x": -7.01,
        "y": 3,
        "z": 7.42,
      },
      {
        "x": -7.048900608425285,
        "y": 4.488266015168154,
        "z": 4.842247646550684,
      },
      {
        "x": -5.234161287323641,
        "y": 5.523020676358664,
        "z": 3.0499999999999994,
      },
      {
        "x": -4.679999999999999,
        "y": 5.523020676358664,
        "z": 3.0499999999999985,
      },
      {
        "x": -4.274999999999999,
        "y": 5.289193817336866,
        "z": 3.454999999999999,
      },
      {
        "x": -2.0349999999999993,
        "y": 5.289193817336866,
        "z": 3.454999999999999,
      },
    ],
    [
      {
        "x": 1.93,
        "y": 3,
        "z": -0.51,
      },
      {
        "x": 1.93,
        "y": 3,
        "z": 7.42,
      },
      {
        "x": -2.0349999999999993,
        "y": 5.289193817336866,
        "z": 3.454999999999999,
      },
    ],
  ],
  "inputPolygonVertexCount": 12,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -0.31,
        "y": -0.51,
      },
      "original": {
        "x": -0.41,
        "y": -0.41,
      },
    },
    {
      "offset": {
        "x": -0.31,
        "y": -3.76,
      },
      "original": {
        "x": -0.41,
        "y": -3.66,
      },
    },
    {
      "offset": {
        "x": -3.25,
        "y": -3.76,
      },
      "original": {
        "x": -3.15,
        "y": -3.66,
      },
    },
    {
      "offset": {
        "x": -3.25,
        "y": -1.32,
      },
      "original": {
        "x": -3.15,
        "y": -1.22,
      },
    },
    {
      "offset": {
        "x": -9.55,
        "y": -1.32,
      },
      "original": {
        "x": -9.45,
        "y": -1.22,
      },
    },
    {
      "offset": {
        "x": -9.66,
        "y": 7.5,
      },
      "original": {
        "x": -9.55,
        "y": 7.39,
      },
    },
    {
      "offset": {
        "x": -7.01,
        "y": 7.42,
      },
      "original": {
        "x": -7.01,
        "y": 7.32,
      },
    },
    {
      "offset": {
        "x": 1.93,
        "y": 7.42,
      },
      "original": {
        "x": 1.83,
        "y": 7.32,
      },
    },
    {
      "offset": {
        "x": 1.93,
        "y": -0.51,
      },
      "original": {
        "x": 1.83,
        "y": -0.41,
      },
    },
  ],
  "preparedPolygonVertexCount": 9,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": -0.31,
          "y": -3.76,
          "z": 3,
        },
        Vector3 {
          "x": -3.25,
          "y": -3.76,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.78,
        "y": -2.29,
        "z": 3.8487048957087495,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.78,
          "y": -2.29,
          "z": 3.8487048957087495,
        },
        Vector3 {
          "x": -3.25,
          "y": -1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.78,
        "y": 0.1499999999999999,
        "z": 3.84870489570875,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -9.66,
          "y": 7.5,
          "z": 3,
        },
        Vector3 {
          "x": -7.01,
          "y": 7.42,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -7.048900608425285,
        "y": 4.842247646550684,
        "z": 4.488266015168154,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.93,
          "y": 7.42,
          "z": 3,
        },
        Vector3 {
          "x": 1.93,
          "y": -0.51,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.0349999999999993,
        "y": 3.454999999999999,
        "z": 5.289193817336866,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.0349999999999993,
          "y": 3.454999999999999,
          "z": 5.289193817336866,
        },
        Vector3 {
          "x": -0.31,
          "y": -0.51,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.274999999999999,
        "y": 3.454999999999999,
        "z": 5.289193817336866,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -9.55,
          "y": -1.32,
          "z": 3,
        },
        Vector3 {
          "x": -7.048900608425285,
          "y": 4.842247646550684,
          "z": 4.488266015168154,
        },
      ],
      "source": Vector3 {
        "x": -5.234161287323641,
        "y": 3.0499999999999994,
        "z": 5.523020676358664,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.274999999999999,
          "y": 3.454999999999999,
          "z": 5.289193817336866,
        },
        Vector3 {
          "x": -1.78,
          "y": 0.1499999999999999,
          "z": 3.84870489570875,
        },
        Vector3 {
          "x": -5.234161287323641,
          "y": 3.0499999999999994,
          "z": 5.523020676358664,
        },
      ],
      "source": Vector3 {
        "x": -4.679999999999999,
        "y": 3.0499999999999985,
        "z": 5.523020676358664,
      },
    },
  ],
  "skeletonNodeCount": 7,
  "vertexCount": 16,
  "vertices": [
    {
      "x": -0.31,
      "y": 3,
      "z": -0.51,
    },
    {
      "x": -0.31,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -3.25,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -3.25,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -9.55,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -9.66,
      "y": 3,
      "z": 7.5,
    },
    {
      "x": -7.01,
      "y": 3,
      "z": 7.42,
    },
    {
      "x": 1.93,
      "y": 3,
      "z": 7.42,
    },
    {
      "x": 1.93,
      "y": 3,
      "z": -0.51,
    },
    {
      "x": -1.78,
      "y": 3.8487048957087495,
      "z": -2.29,
    },
    {
      "x": -1.78,
      "y": 3.84870489570875,
      "z": 0.1499999999999999,
    },
    {
      "x": -7.048900608425285,
      "y": 4.488266015168154,
      "z": 4.842247646550684,
    },
    {
      "x": -2.0349999999999993,
      "y": 5.289193817336866,
      "z": 3.454999999999999,
    },
    {
      "x": -4.274999999999999,
      "y": 5.289193817336866,
      "z": 3.454999999999999,
    },
    {
      "x": -5.234161287323641,
      "y": 5.523020676358664,
      "z": 3.0499999999999994,
    },
    {
      "x": -4.679999999999999,
      "y": 5.523020676358664,
      "z": 3.0499999999999985,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_7_tier2 1`] = `
{
  "faceCount": 18,
  "faces": [
    [
      {
        "x": -2.8,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -2.8,
        "y": 3,
        "z": 1,
      },
      {
        "x": -1.35,
        "y": 3.8371578903249572,
        "z": -0.44999999999999973,
      },
      {
        "x": -2.8,
        "y": 3,
        "z": -1.9,
      },
      {
        "x": -2.8,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": -1.1999999999999997,
        "y": 3.923760430703401,
        "z": -0.6000000000000001,
      },
      {
        "x": -0.7499999999999998,
        "y": 4.183568051838733,
        "z": -0.15000000000000013,
      },
    ],
    [
      {
        "x": -2.8,
        "y": 3,
        "z": 1,
      },
      {
        "x": -6.1,
        "y": 3,
        "z": 1,
      },
      {
        "x": -4.6499999999999995,
        "y": 3.8371578903249572,
        "z": -0.44999999999999973,
      },
      {
        "x": -1.35,
        "y": 3.8371578903249572,
        "z": -0.44999999999999973,
      },
    ],
    [
      {
        "x": 2.8,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -2.8,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -0.7499999999999998,
        "y": 4.183568051838733,
        "z": -0.15000000000000013,
      },
      {
        "x": 0.15000000000000036,
        "y": 4.183568051838733,
        "z": -0.1499999999999999,
      },
      {
        "x": 0.4500000000000001,
        "y": 4.35677313259562,
        "z": -0.4499999999999997,
      },
    ],
    [
      {
        "x": 2.8,
        "y": 3,
        "z": 0.7,
      },
      {
        "x": 2.8,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 0.4500000000000001,
        "y": 4.35677313259562,
        "z": -0.4499999999999997,
      },
      {
        "x": 0.44999999999999984,
        "y": 4.35677313259562,
        "z": -1.65,
      },
    ],
    [
      {
        "x": 4.3,
        "y": 3,
        "z": 0.7,
      },
      {
        "x": 2.8,
        "y": 3,
        "z": 0.7,
      },
      {
        "x": 0.44999999999999984,
        "y": 4.35677313259562,
        "z": -1.65,
      },
      {
        "x": 1.6500000000000004,
        "y": 4.35677313259562,
        "z": -1.65,
      },
      {
        "x": 2.55,
        "y": 3.8371578903249572,
        "z": -0.7500000000000001,
      },
      {
        "x": 2.8499999999999996,
        "y": 3.8371578903249572,
        "z": -0.7500000000000001,
      },
      {
        "x": 3.3,
        "y": 3.5773502691896257,
        "z": -0.30000000000000004,
      },
    ],
    [
      {
        "x": 4.3,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": 4.3,
        "y": 3,
        "z": 0.7,
      },
      {
        "x": 3.3,
        "y": 3.5773502691896257,
        "z": -0.30000000000000004,
      },
      {
        "x": 2.8499999999999996,
        "y": 3.8371578903249572,
        "z": -0.7500000000000001,
      },
      {
        "x": 4.3,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": 4.3,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": 3.4499999999999997,
        "y": 3.490747728811182,
        "z": -0.44999999999999996,
      },
    ],
    [
      {
        "x": 7.3,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": 4.3,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": 3.4499999999999997,
        "y": 3.490747728811182,
        "z": -0.44999999999999996,
      },
      {
        "x": 6.449999999999999,
        "y": 3.4907477288111823,
        "z": -0.45000000000000007,
      },
    ],
    [
      {
        "x": 7.3,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": 7.3,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": 6.449999999999999,
        "y": 3.4907477288111823,
        "z": -0.45000000000000007,
      },
    ],
    [
      {
        "x": 4.3,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": 7.3,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": 6.449999999999999,
        "y": 3.4907477288111823,
        "z": -0.45000000000000007,
      },
      {
        "x": 3.4499999999999997,
        "y": 3.490747728811182,
        "z": -0.44999999999999996,
      },
    ],
    [
      {
        "x": 4,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": 4.3,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": 2.8499999999999996,
        "y": 3.8371578903249572,
        "z": -0.7500000000000001,
      },
      {
        "x": 2.55,
        "y": 3.8371578903249572,
        "z": -0.7500000000000001,
      },
    ],
    [
      {
        "x": 4,
        "y": 3,
        "z": -4.6,
      },
      {
        "x": 4,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": 2.55,
        "y": 3.8371578903249572,
        "z": -0.7500000000000001,
      },
      {
        "x": 1.6500000000000004,
        "y": 4.35677313259562,
        "z": -1.65,
      },
      {
        "x": 2.7,
        "y": 3.750555349946514,
        "z": -2.6999999999999997,
      },
      {
        "x": 2.7,
        "y": 3.7505553499465134,
        "z": -3.3,
      },
    ],
    [
      {
        "x": 1.4,
        "y": 3,
        "z": -4.6,
      },
      {
        "x": 4,
        "y": 3,
        "z": -4.6,
      },
      {
        "x": 2.7,
        "y": 3.7505553499465134,
        "z": -3.3,
      },
    ],
    [
      {
        "x": 1.4,
        "y": 3,
        "z": -4,
      },
      {
        "x": 1.4,
        "y": 3,
        "z": -4.6,
      },
      {
        "x": 2.7,
        "y": 3.7505553499465134,
        "z": -3.3,
      },
      {
        "x": 2.7,
        "y": 3.750555349946514,
        "z": -2.6999999999999997,
      },
    ],
    [
      {
        "x": -1.9,
        "y": 3,
        "z": -4,
      },
      {
        "x": 1.4,
        "y": 3,
        "z": -4,
      },
      {
        "x": 2.7,
        "y": 3.750555349946514,
        "z": -2.6999999999999997,
      },
      {
        "x": 1.6500000000000004,
        "y": 4.35677313259562,
        "z": -1.65,
      },
      {
        "x": 0.44999999999999984,
        "y": 4.35677313259562,
        "z": -1.65,
      },
    ],
    [
      {
        "x": -1.9,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": -1.9,
        "y": 3,
        "z": -4,
      },
      {
        "x": 0.44999999999999984,
        "y": 4.35677313259562,
        "z": -1.65,
      },
      {
        "x": 0.4500000000000001,
        "y": 4.35677313259562,
        "z": -0.4499999999999997,
      },
      {
        "x": 0.15000000000000036,
        "y": 4.183568051838733,
        "z": -0.1499999999999999,
      },
    ],
    [
      {
        "x": -2.8,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": -1.9,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": 0.15000000000000036,
        "y": 4.183568051838733,
        "z": -0.1499999999999999,
      },
      {
        "x": -0.7499999999999998,
        "y": 4.183568051838733,
        "z": -0.15000000000000013,
      },
      {
        "x": -1.1999999999999997,
        "y": 3.923760430703401,
        "z": -0.6000000000000001,
      },
    ],
    [
      {
        "x": -6.1,
        "y": 3,
        "z": -1.9,
      },
      {
        "x": -2.8,
        "y": 3,
        "z": -1.9,
      },
      {
        "x": -1.35,
        "y": 3.8371578903249572,
        "z": -0.44999999999999973,
      },
      {
        "x": -4.6499999999999995,
        "y": 3.8371578903249572,
        "z": -0.44999999999999973,
      },
    ],
    [
      {
        "x": -6.1,
        "y": 3,
        "z": 1,
      },
      {
        "x": -6.1,
        "y": 3,
        "z": -1.9,
      },
      {
        "x": -4.6499999999999995,
        "y": 3.8371578903249572,
        "z": -0.44999999999999973,
      },
    ],
  ],
  "inputPolygonVertexCount": 20,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -2.8,
        "y": 1,
      },
      "original": {
        "x": -2.7,
        "y": 0.9,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": 1.9,
      },
      "original": {
        "x": -2.7,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": 2.8,
        "y": 1.9,
      },
      "original": {
        "x": 2.7,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": 2.8,
        "y": 0.7,
      },
      "original": {
        "x": 2.7,
        "y": 0.6,
      },
    },
    {
      "offset": {
        "x": 4.3,
        "y": 0.7,
      },
      "original": {
        "x": 4.2,
        "y": 0.6,
      },
    },
    {
      "offset": {
        "x": 4.3,
        "y": 0.4,
      },
      "original": {
        "x": 4.2,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": 7.3,
        "y": 0.4,
      },
      "original": {
        "x": 7.2,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": 7.3,
        "y": -1.3,
      },
      "original": {
        "x": 7.2,
        "y": -1.2,
      },
    },
    {
      "offset": {
        "x": 4.3,
        "y": -1.3,
      },
      "original": {
        "x": 4.2,
        "y": -1.2,
      },
    },
    {
      "offset": {
        "x": 4.3,
        "y": -2.2,
      },
      "original": {
        "x": 4.2,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": 4,
        "y": -2.2,
      },
      "original": {
        "x": 3.9,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": 4,
        "y": -4.6,
      },
      "original": {
        "x": 3.9,
        "y": -4.5,
      },
    },
    {
      "offset": {
        "x": 1.4,
        "y": -4.6,
      },
      "original": {
        "x": 1.5,
        "y": -4.5,
      },
    },
    {
      "offset": {
        "x": 1.4,
        "y": -4,
      },
      "original": {
        "x": 1.5,
        "y": -3.9,
      },
    },
    {
      "offset": {
        "x": -1.9,
        "y": -4,
      },
      "original": {
        "x": -1.8,
        "y": -3.9,
      },
    },
    {
      "offset": {
        "x": -1.9,
        "y": -2.2,
      },
      "original": {
        "x": -1.8,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": -2.2,
      },
      "original": {
        "x": -2.7,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": -1.9,
      },
      "original": {
        "x": -2.7,
        "y": -1.8,
      },
    },
    {
      "offset": {
        "x": -6.1,
        "y": -1.9,
      },
      "original": {
        "x": -6,
        "y": -1.8,
      },
    },
    {
      "offset": {
        "x": -6.1,
        "y": 1,
      },
      "original": {
        "x": -6,
        "y": 0.9,
      },
    },
  ],
  "preparedPolygonVertexCount": 20,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 4.3,
          "y": 0.4,
          "z": 3,
        },
        Vector3 {
          "x": 4.3,
          "y": -1.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.4499999999999997,
        "y": -0.44999999999999996,
        "z": 3.490747728811182,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.4499999999999997,
          "y": -0.44999999999999996,
          "z": 3.490747728811182,
        },
        Vector3 {
          "x": 7.3,
          "y": 0.4,
          "z": 3,
        },
        Vector3 {
          "x": 7.3,
          "y": -1.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.449999999999999,
        "y": -0.45000000000000007,
        "z": 3.4907477288111823,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.3,
          "y": 0.7,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.3,
        "y": -0.30000000000000004,
        "z": 3.5773502691896257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4,
          "y": -4.6,
          "z": 3,
        },
        Vector3 {
          "x": 1.4,
          "y": -4.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.7,
        "y": -3.3,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.7,
          "y": -3.3,
          "z": 3.7505553499465134,
        },
        Vector3 {
          "x": 1.4,
          "y": -4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.7,
        "y": -2.6999999999999997,
        "z": 3.750555349946514,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.1,
          "y": -1.9,
          "z": 3,
        },
        Vector3 {
          "x": -6.1,
          "y": 1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.6499999999999995,
        "y": -0.44999999999999973,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8,
          "y": -1.9,
          "z": 3,
        },
        Vector3 {
          "x": -4.6499999999999995,
          "y": -0.44999999999999973,
          "z": 3.8371578903249572,
        },
        Vector3 {
          "x": -2.8,
          "y": 1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.35,
        "y": -0.44999999999999973,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.3,
          "y": -0.30000000000000004,
          "z": 3.5773502691896257,
        },
        Vector3 {
          "x": 4.3,
          "y": -2.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.8499999999999996,
        "y": -0.7500000000000001,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.8499999999999996,
          "y": -0.7500000000000001,
          "z": 3.8371578903249572,
        },
        Vector3 {
          "x": 4,
          "y": -2.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.55,
        "y": -0.7500000000000001,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8,
          "y": -2.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.1999999999999997,
        "y": -0.6000000000000001,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.1999999999999997,
          "y": -0.6000000000000001,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": -2.8,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.7499999999999998,
        "y": -0.15000000000000013,
        "z": 4.183568051838733,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.9,
          "y": -2.2,
          "z": 3,
        },
        Vector3 {
          "x": -0.7499999999999998,
          "y": -0.15000000000000013,
          "z": 4.183568051838733,
        },
      ],
      "source": Vector3 {
        "x": 0.15000000000000036,
        "y": -0.1499999999999999,
        "z": 4.183568051838733,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.44999999999999984,
          "y": -1.65,
          "z": 4.35677313259562,
        },
        Vector3 {
          "x": 0.15000000000000036,
          "y": -0.1499999999999999,
          "z": 4.183568051838733,
        },
        Vector3 {
          "x": 2.8,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.4500000000000001,
        "y": -0.4499999999999997,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.44999999999999984,
          "y": -1.65,
          "z": 4.35677313259562,
        },
        Vector3 {
          "x": 2.55,
          "y": -0.7500000000000001,
          "z": 3.8371578903249572,
        },
        Vector3 {
          "x": 2.7,
          "y": -2.6999999999999997,
          "z": 3.750555349946514,
        },
      ],
      "source": Vector3 {
        "x": 1.6500000000000004,
        "y": -1.65,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.8,
          "y": 0.7,
          "z": 3,
        },
        Vector3 {
          "x": -1.9,
          "y": -4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.44999999999999984,
        "y": -1.65,
        "z": 4.35677313259562,
      },
    },
  ],
  "skeletonNodeCount": 15,
  "vertexCount": 35,
  "vertices": [
    {
      "x": -2.8,
      "y": 3,
      "z": 1,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 0.7,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": 0.7,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 7.3,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 7.3,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": 4.3,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 4,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": 4,
      "y": 3,
      "z": -4.6,
    },
    {
      "x": 1.4,
      "y": 3,
      "z": -4.6,
    },
    {
      "x": 1.4,
      "y": 3,
      "z": -4,
    },
    {
      "x": -1.9,
      "y": 3,
      "z": -4,
    },
    {
      "x": -1.9,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -1.9,
    },
    {
      "x": -6.1,
      "y": 3,
      "z": -1.9,
    },
    {
      "x": -6.1,
      "y": 3,
      "z": 1,
    },
    {
      "x": 3.4499999999999997,
      "y": 3.490747728811182,
      "z": -0.44999999999999996,
    },
    {
      "x": 6.449999999999999,
      "y": 3.4907477288111823,
      "z": -0.45000000000000007,
    },
    {
      "x": 3.3,
      "y": 3.5773502691896257,
      "z": -0.30000000000000004,
    },
    {
      "x": 2.7,
      "y": 3.7505553499465134,
      "z": -3.3,
    },
    {
      "x": 2.7,
      "y": 3.750555349946514,
      "z": -2.6999999999999997,
    },
    {
      "x": -4.6499999999999995,
      "y": 3.8371578903249572,
      "z": -0.44999999999999973,
    },
    {
      "x": -1.35,
      "y": 3.8371578903249572,
      "z": -0.44999999999999973,
    },
    {
      "x": 2.8499999999999996,
      "y": 3.8371578903249572,
      "z": -0.7500000000000001,
    },
    {
      "x": 2.55,
      "y": 3.8371578903249572,
      "z": -0.7500000000000001,
    },
    {
      "x": -1.1999999999999997,
      "y": 3.923760430703401,
      "z": -0.6000000000000001,
    },
    {
      "x": -0.7499999999999998,
      "y": 4.183568051838733,
      "z": -0.15000000000000013,
    },
    {
      "x": 0.15000000000000036,
      "y": 4.183568051838733,
      "z": -0.1499999999999999,
    },
    {
      "x": 0.4500000000000001,
      "y": 4.35677313259562,
      "z": -0.4499999999999997,
    },
    {
      "x": 1.6500000000000004,
      "y": 4.35677313259562,
      "z": -1.65,
    },
    {
      "x": 0.44999999999999984,
      "y": 4.35677313259562,
      "z": -1.65,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_8_tier2 1`] = `
{
  "faceCount": 17,
  "faces": [
    [
      {
        "x": 1.3,
        "y": 3,
        "z": -0.5,
      },
      {
        "x": -0.5,
        "y": 3,
        "z": -0.5,
      },
      {
        "x": -2.8500000000000005,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
      {
        "x": -1.0500000000000005,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
    ],
    [
      {
        "x": -0.5,
        "y": 3,
        "z": -0.5,
      },
      {
        "x": -0.5,
        "y": 3,
        "z": 1.4,
      },
      {
        "x": -1.3500000000000005,
        "y": 3.490747728811182,
        "z": 2.25,
      },
      {
        "x": -3,
        "y": 4.4433756729740645,
        "z": 0.6000000000000003,
      },
      {
        "x": -3,
        "y": 4.443375672974064,
        "z": -2.700000000000001,
      },
      {
        "x": -2.8500000000000005,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
    ],
    [
      {
        "x": 1.3,
        "y": 3,
        "z": -1.7,
      },
      {
        "x": 1.3,
        "y": 3,
        "z": -0.5,
      },
      {
        "x": -1.0500000000000005,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
      {
        "x": -0.9000000000000004,
        "y": 4.270170592217177,
        "z": -3,
      },
      {
        "x": -0.4500000000000002,
        "y": 4.010362971081845,
        "z": -3.45,
      },
    ],
    [
      {
        "x": 5.2,
        "y": 3,
        "z": -1.7,
      },
      {
        "x": 1.3,
        "y": 3,
        "z": -1.7,
      },
      {
        "x": -0.4500000000000002,
        "y": 4.010362971081845,
        "z": -3.45,
      },
      {
        "x": 3.45,
        "y": 4.010362971081845,
        "z": -3.45,
      },
    ],
    [
      {
        "x": 5.2,
        "y": 3,
        "z": -5.2,
      },
      {
        "x": 5.2,
        "y": 3,
        "z": -1.7,
      },
      {
        "x": 3.45,
        "y": 4.010362971081845,
        "z": -3.45,
      },
    ],
    [
      {
        "x": -0.5,
        "y": 3,
        "z": -5.2,
      },
      {
        "x": 5.2,
        "y": 3,
        "z": -5.2,
      },
      {
        "x": 3.45,
        "y": 4.010362971081845,
        "z": -3.45,
      },
      {
        "x": -0.4500000000000002,
        "y": 4.010362971081845,
        "z": -3.45,
      },
      {
        "x": -0.9000000000000004,
        "y": 4.270170592217177,
        "z": -3,
      },
      {
        "x": -1.0500000000000005,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
      {
        "x": -2.8500000000000005,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
      {
        "x": -3,
        "y": 4.443375672974064,
        "z": -2.700000000000001,
      },
      {
        "x": -3.1499999999999995,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
      {
        "x": -5.55,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
      {
        "x": -6.6,
        "y": 3.750555349946514,
        "z": -3.9000000000000004,
      },
      {
        "x": -8.7,
        "y": 3.750555349946514,
        "z": -3.9000000000000004,
      },
      {
        "x": -10,
        "y": 3,
        "z": -5.2,
      },
      {
        "x": -3.1,
        "y": 3,
        "z": -5.2,
      },
      {
        "x": -1.8000000000000007,
        "y": 3.750555349946513,
        "z": -3.9000000000000004,
      },
    ],
    [
      {
        "x": -0.5,
        "y": 3,
        "z": -7,
      },
      {
        "x": -0.5,
        "y": 3,
        "z": -5.2,
      },
      {
        "x": -1.8000000000000007,
        "y": 3.750555349946513,
        "z": -3.9000000000000004,
      },
      {
        "x": -1.8,
        "y": 3.7505553499465134,
        "z": -5.7,
      },
    ],
    [
      {
        "x": -3.1,
        "y": 3,
        "z": -7,
      },
      {
        "x": -0.5,
        "y": 3,
        "z": -7,
      },
      {
        "x": -1.8,
        "y": 3.7505553499465134,
        "z": -5.7,
      },
    ],
    [
      {
        "x": -3.1,
        "y": 3,
        "z": -5.2,
      },
      {
        "x": -3.1,
        "y": 3,
        "z": -7,
      },
      {
        "x": -1.8,
        "y": 3.7505553499465134,
        "z": -5.7,
      },
      {
        "x": -1.8000000000000007,
        "y": 3.750555349946513,
        "z": -3.9000000000000004,
      },
    ],
    [
      {
        "x": -10,
        "y": 3,
        "z": -2.6,
      },
      {
        "x": -10,
        "y": 3,
        "z": -5.2,
      },
      {
        "x": -8.7,
        "y": 3.750555349946514,
        "z": -3.9000000000000004,
      },
    ],
    [
      {
        "x": -7.9,
        "y": 3,
        "z": -2.6,
      },
      {
        "x": -10,
        "y": 3,
        "z": -2.6,
      },
      {
        "x": -8.7,
        "y": 3.750555349946514,
        "z": -3.9000000000000004,
      },
      {
        "x": -6.6,
        "y": 3.750555349946514,
        "z": -3.9000000000000004,
      },
    ],
    [
      {
        "x": -7.9,
        "y": 3,
        "z": -0.5,
      },
      {
        "x": -7.9,
        "y": 3,
        "z": -2.6,
      },
      {
        "x": -6.6,
        "y": 3.750555349946514,
        "z": -3.9000000000000004,
      },
      {
        "x": -5.55,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
    ],
    [
      {
        "x": -5.5,
        "y": 3,
        "z": -0.5,
      },
      {
        "x": -7.9,
        "y": 3,
        "z": -0.5,
      },
      {
        "x": -5.55,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
      {
        "x": -3.1499999999999995,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
    ],
    [
      {
        "x": -5.5,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -5.5,
        "y": 3,
        "z": -0.5,
      },
      {
        "x": -3.1499999999999995,
        "y": 4.35677313259562,
        "z": -2.8500000000000005,
      },
      {
        "x": -3,
        "y": 4.443375672974064,
        "z": -2.700000000000001,
      },
      {
        "x": -3,
        "y": 4.4433756729740645,
        "z": 0.6000000000000003,
      },
    ],
    [
      {
        "x": 2.8,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -5.5,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -3,
        "y": 4.4433756729740645,
        "z": 0.6000000000000003,
      },
      {
        "x": -1.3500000000000005,
        "y": 3.490747728811182,
        "z": 2.25,
      },
      {
        "x": 1.9499999999999997,
        "y": 3.490747728811182,
        "z": 2.25,
      },
    ],
    [
      {
        "x": 2.8,
        "y": 3,
        "z": 1.4,
      },
      {
        "x": 2.8,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": 1.9499999999999997,
        "y": 3.490747728811182,
        "z": 2.25,
      },
    ],
    [
      {
        "x": -0.5,
        "y": 3,
        "z": 1.4,
      },
      {
        "x": 2.8,
        "y": 3,
        "z": 1.4,
      },
      {
        "x": 1.9499999999999997,
        "y": 3.490747728811182,
        "z": 2.25,
      },
      {
        "x": -1.3500000000000005,
        "y": 3.490747728811182,
        "z": 2.25,
      },
    ],
  ],
  "inputPolygonVertexCount": 18,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -0.5,
        "y": -0.5,
      },
      "original": {
        "x": -0.6,
        "y": -0.6,
      },
    },
    {
      "offset": {
        "x": 1.3,
        "y": -0.5,
      },
      "original": {
        "x": 1.2,
        "y": -0.6,
      },
    },
    {
      "offset": {
        "x": 1.3,
        "y": -1.7,
      },
      "original": {
        "x": 1.2,
        "y": -1.8,
      },
    },
    {
      "offset": {
        "x": 5.2,
        "y": -1.7,
      },
      "original": {
        "x": 5.1,
        "y": -1.8,
      },
    },
    {
      "offset": {
        "x": 5.2,
        "y": -5.2,
      },
      "original": {
        "x": 5.1,
        "y": -5.1,
      },
    },
    {
      "offset": {
        "x": -0.5,
        "y": -5.2,
      },
      "original": {
        "x": -0.6,
        "y": -5.1,
      },
    },
    {
      "offset": {
        "x": -0.5,
        "y": -7,
      },
      "original": {
        "x": -0.6,
        "y": -6.9,
      },
    },
    {
      "offset": {
        "x": -3.1,
        "y": -7,
      },
      "original": {
        "x": -3,
        "y": -6.9,
      },
    },
    {
      "offset": {
        "x": -3.1,
        "y": -5.2,
      },
      "original": {
        "x": -3,
        "y": -5.1,
      },
    },
    {
      "offset": {
        "x": -10,
        "y": -5.2,
      },
      "original": {
        "x": -9.9,
        "y": -5.1,
      },
    },
    {
      "offset": {
        "x": -10,
        "y": -2.6,
      },
      "original": {
        "x": -9.9,
        "y": -2.7,
      },
    },
    {
      "offset": {
        "x": -7.9,
        "y": -2.6,
      },
      "original": {
        "x": -7.8,
        "y": -2.7,
      },
    },
    {
      "offset": {
        "x": -7.9,
        "y": -0.5,
      },
      "original": {
        "x": -7.8,
        "y": -0.6,
      },
    },
    {
      "offset": {
        "x": -5.5,
        "y": -0.5,
      },
      "original": {
        "x": -5.4,
        "y": -0.6,
      },
    },
    {
      "offset": {
        "x": -5.5,
        "y": 3.1,
      },
      "original": {
        "x": -5.4,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 2.8,
        "y": 3.1,
      },
      "original": {
        "x": 2.7,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 2.8,
        "y": 1.4,
      },
      "original": {
        "x": 2.7,
        "y": 1.5,
      },
    },
    {
      "offset": {
        "x": -0.5,
        "y": 1.4,
      },
      "original": {
        "x": -0.6,
        "y": 1.5,
      },
    },
  ],
  "preparedPolygonVertexCount": 18,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 2.8,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": 2.8,
          "y": 1.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.9499999999999997,
        "y": 2.25,
        "z": 3.490747728811182,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.9499999999999997,
          "y": 2.25,
          "z": 3.490747728811182,
        },
        Vector3 {
          "x": -0.5,
          "y": 1.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.3500000000000005,
        "y": 2.25,
        "z": 3.490747728811182,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -10,
          "y": -5.2,
          "z": 3,
        },
        Vector3 {
          "x": -10,
          "y": -2.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -8.7,
        "y": -3.9000000000000004,
        "z": 3.750555349946514,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -8.7,
          "y": -3.9000000000000004,
          "z": 3.750555349946514,
        },
        Vector3 {
          "x": -7.9,
          "y": -2.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -6.6,
        "y": -3.9000000000000004,
        "z": 3.750555349946514,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.5,
          "y": -7,
          "z": 3,
        },
        Vector3 {
          "x": -3.1,
          "y": -7,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.8,
        "y": -5.7,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.5,
          "y": -5.2,
          "z": 3,
        },
        Vector3 {
          "x": -1.8,
          "y": -5.7,
          "z": 3.7505553499465134,
        },
        Vector3 {
          "x": -3.1,
          "y": -5.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.8000000000000007,
        "y": -3.9000000000000004,
        "z": 3.750555349946513,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.3,
          "y": -1.7,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.4500000000000002,
        "y": -3.45,
        "z": 4.010362971081845,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.4500000000000002,
          "y": -3.45,
          "z": 4.010362971081845,
        },
        Vector3 {
          "x": 5.2,
          "y": -1.7,
          "z": 3,
        },
        Vector3 {
          "x": 5.2,
          "y": -5.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.45,
        "y": -3.45,
        "z": 4.010362971081845,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.6,
          "y": -3.9000000000000004,
          "z": 3.750555349946514,
        },
        Vector3 {
          "x": -7.9,
          "y": -0.5,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -5.55,
        "y": -2.8500000000000005,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -5.55,
          "y": -2.8500000000000005,
          "z": 4.35677313259562,
        },
        Vector3 {
          "x": -5.5,
          "y": -0.5,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.1499999999999995,
        "y": -2.8500000000000005,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.3,
          "y": -0.5,
          "z": 3,
        },
        Vector3 {
          "x": -0.9000000000000004,
          "y": -3,
          "z": 4.270170592217177,
        },
      ],
      "source": Vector3 {
        "x": -1.0500000000000005,
        "y": -2.8500000000000005,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.5,
          "y": -0.5,
          "z": 3,
        },
        Vector3 {
          "x": -1.0500000000000005,
          "y": -2.8500000000000005,
          "z": 4.35677313259562,
        },
      ],
      "source": Vector3 {
        "x": -2.8500000000000005,
        "y": -2.8500000000000005,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8500000000000005,
          "y": -2.8500000000000005,
          "z": 4.35677313259562,
        },
        Vector3 {
          "x": -3.1499999999999995,
          "y": -2.8500000000000005,
          "z": 4.35677313259562,
        },
      ],
      "source": Vector3 {
        "x": -3,
        "y": -2.700000000000001,
        "z": 4.443375672974064,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3,
          "y": -2.700000000000001,
          "z": 4.443375672974064,
        },
        Vector3 {
          "x": -5.5,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": -1.3500000000000005,
          "y": 2.25,
          "z": 3.490747728811182,
        },
      ],
      "source": Vector3 {
        "x": -3,
        "y": 0.6000000000000003,
        "z": 4.4433756729740645,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.4500000000000002,
          "y": -3.45,
          "z": 4.010362971081845,
        },
      ],
      "source": Vector3 {
        "x": -0.9000000000000004,
        "y": -3,
        "z": 4.270170592217177,
      },
    },
  ],
  "skeletonNodeCount": 15,
  "vertexCount": 33,
  "vertices": [
    {
      "x": -0.5,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": 1.3,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": 1.3,
      "y": 3,
      "z": -1.7,
    },
    {
      "x": 5.2,
      "y": 3,
      "z": -1.7,
    },
    {
      "x": 5.2,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": -7,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": -7,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -10,
      "y": 3,
      "z": -5.2,
    },
    {
      "x": -10,
      "y": 3,
      "z": -2.6,
    },
    {
      "x": -7.9,
      "y": 3,
      "z": -2.6,
    },
    {
      "x": -7.9,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -5.5,
      "y": 3,
      "z": -0.5,
    },
    {
      "x": -5.5,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 2.8,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 1.9499999999999997,
      "y": 3.490747728811182,
      "z": 2.25,
    },
    {
      "x": -1.3500000000000005,
      "y": 3.490747728811182,
      "z": 2.25,
    },
    {
      "x": -8.7,
      "y": 3.750555349946514,
      "z": -3.9000000000000004,
    },
    {
      "x": -6.6,
      "y": 3.750555349946514,
      "z": -3.9000000000000004,
    },
    {
      "x": -1.8,
      "y": 3.7505553499465134,
      "z": -5.7,
    },
    {
      "x": -1.8000000000000007,
      "y": 3.750555349946513,
      "z": -3.9000000000000004,
    },
    {
      "x": -0.4500000000000002,
      "y": 4.010362971081845,
      "z": -3.45,
    },
    {
      "x": 3.45,
      "y": 4.010362971081845,
      "z": -3.45,
    },
    {
      "x": -5.55,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -3.1499999999999995,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -1.0500000000000005,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -2.8500000000000005,
      "y": 4.35677313259562,
      "z": -2.8500000000000005,
    },
    {
      "x": -3,
      "y": 4.443375672974064,
      "z": -2.700000000000001,
    },
    {
      "x": -3,
      "y": 4.4433756729740645,
      "z": 0.6000000000000003,
    },
    {
      "x": -0.9000000000000004,
      "y": 4.270170592217177,
      "z": -3,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_9_tier2 1`] = `
{
  "faceCount": 11,
  "faces": [
    [
      {
        "x": -1.7,
        "y": 3,
        "z": -4.9,
      },
      {
        "x": -1.7,
        "y": 3,
        "z": -4.3,
      },
      {
        "x": -3.45,
        "y": 4.010362971081845,
        "z": -2.5500000000000003,
      },
      {
        "x": -1.7,
        "y": 3,
        "z": -0.8,
      },
      {
        "x": -1.7,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": -2.6999999999999997,
        "y": 3.5773502691896257,
        "z": 0.8999999999999999,
      },
      {
        "x": -4.199999999999999,
        "y": 4.4433756729740645,
        "z": -0.6000000000000002,
      },
      {
        "x": -4.2,
        "y": 4.4433756729740645,
        "z": -1.7999999999999998,
      },
      {
        "x": -4.2,
        "y": 4.4433756729740645,
        "z": -2.4000000000000004,
      },
    ],
    [
      {
        "x": -1.7,
        "y": 3,
        "z": -4.3,
      },
      {
        "x": 3.1,
        "y": 3,
        "z": -4.3,
      },
      {
        "x": 1.3500000000000003,
        "y": 4.010362971081845,
        "z": -2.55,
      },
      {
        "x": -3.45,
        "y": 4.010362971081845,
        "z": -2.5500000000000003,
      },
    ],
    [
      {
        "x": -6.7,
        "y": 3,
        "z": -4.9,
      },
      {
        "x": -1.7,
        "y": 3,
        "z": -4.9,
      },
      {
        "x": -4.2,
        "y": 4.4433756729740645,
        "z": -2.4000000000000004,
      },
    ],
    [
      {
        "x": -6.7,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -6.7,
        "y": 3,
        "z": -4.9,
      },
      {
        "x": -4.2,
        "y": 4.4433756729740645,
        "z": -2.4000000000000004,
      },
      {
        "x": -4.2,
        "y": 4.4433756729740645,
        "z": -1.7999999999999998,
      },
      {
        "x": -4.199999999999999,
        "y": 4.4433756729740645,
        "z": -0.6000000000000002,
      },
      {
        "x": -4.8,
        "y": 4.096965511460288,
        "z": 0,
      },
      {
        "x": -4.8,
        "y": 4.096965511460289,
        "z": 1.2,
      },
    ],
    [
      {
        "x": -2.9,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -6.7,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -4.8,
        "y": 4.096965511460289,
        "z": 1.2,
      },
    ],
    [
      {
        "x": -2.9,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -2.9,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -4.8,
        "y": 4.096965511460289,
        "z": 1.2,
      },
      {
        "x": -4.8,
        "y": 4.096965511460288,
        "z": 0,
      },
    ],
    [
      {
        "x": -0.5,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -2.9,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -4.8,
        "y": 4.096965511460288,
        "z": 0,
      },
      {
        "x": -4.199999999999999,
        "y": 4.4433756729740645,
        "z": -0.6000000000000002,
      },
      {
        "x": -2.6999999999999997,
        "y": 3.5773502691896257,
        "z": 0.8999999999999999,
      },
      {
        "x": -1.5,
        "y": 3.5773502691896257,
        "z": 0.8999999999999999,
      },
    ],
    [
      {
        "x": -0.5,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": -0.5,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -1.5,
        "y": 3.5773502691896257,
        "z": 0.8999999999999999,
      },
    ],
    [
      {
        "x": -1.7,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": -0.5,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": -1.5,
        "y": 3.5773502691896257,
        "z": 0.8999999999999999,
      },
      {
        "x": -2.6999999999999997,
        "y": 3.5773502691896257,
        "z": 0.8999999999999999,
      },
    ],
    [
      {
        "x": 3.1,
        "y": 3,
        "z": -0.8,
      },
      {
        "x": -1.7,
        "y": 3,
        "z": -0.8,
      },
      {
        "x": -3.45,
        "y": 4.010362971081845,
        "z": -2.5500000000000003,
      },
      {
        "x": 1.3500000000000003,
        "y": 4.010362971081845,
        "z": -2.55,
      },
    ],
    [
      {
        "x": 3.1,
        "y": 3,
        "z": -4.3,
      },
      {
        "x": 3.1,
        "y": 3,
        "z": -0.8,
      },
      {
        "x": 1.3500000000000003,
        "y": 4.010362971081845,
        "z": -2.55,
      },
    ],
  ],
  "inputPolygonVertexCount": 13,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -1.7,
        "y": -4.3,
      },
      "original": {
        "x": -1.8,
        "y": -4.2,
      },
    },
    {
      "offset": {
        "x": -1.7,
        "y": -4.9,
      },
      "original": {
        "x": -1.8,
        "y": -4.8,
      },
    },
    {
      "offset": {
        "x": -6.7,
        "y": -4.9,
      },
      "original": {
        "x": -6.6,
        "y": -4.8,
      },
    },
    {
      "offset": {
        "x": -6.7,
        "y": 3.1,
      },
      "original": {
        "x": -6.6,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": -2.9,
        "y": 3.1,
      },
      "original": {
        "x": -3,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": -2.9,
        "y": 1.9,
      },
      "original": {
        "x": -3,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": -0.5,
        "y": 1.9,
      },
      "original": {
        "x": -0.6,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": -0.5,
        "y": -0.1,
      },
      "original": {
        "x": -0.6,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -1.7,
        "y": -0.1,
      },
      "original": {
        "x": -1.8,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -1.7,
        "y": -0.8,
      },
      "original": {
        "x": -1.8,
        "y": -0.9,
      },
    },
    {
      "offset": {
        "x": 3.1,
        "y": -0.8,
      },
      "original": {
        "x": 3,
        "y": -0.9,
      },
    },
    {
      "offset": {
        "x": 3.1,
        "y": -4.3,
      },
      "original": {
        "x": 3,
        "y": -4.2,
      },
    },
  ],
  "preparedPolygonVertexCount": 12,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": -0.5,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": -0.5,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.5,
        "y": 0.8999999999999999,
        "z": 3.5773502691896257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.5,
          "y": 0.8999999999999999,
          "z": 3.5773502691896257,
        },
        Vector3 {
          "x": -1.7,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.6999999999999997,
        "y": 0.8999999999999999,
        "z": 3.5773502691896257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.7,
          "y": -0.8,
          "z": 3,
        },
        Vector3 {
          "x": -1.7,
          "y": -4.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.45,
        "y": -2.5500000000000003,
        "z": 4.010362971081845,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.45,
          "y": -2.5500000000000003,
          "z": 4.010362971081845,
        },
        Vector3 {
          "x": 3.1,
          "y": -0.8,
          "z": 3,
        },
        Vector3 {
          "x": 3.1,
          "y": -4.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.3500000000000003,
        "y": -2.55,
        "z": 4.010362971081845,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.7,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": -2.9,
          "y": 3.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.8,
        "y": 1.2,
        "z": 4.096965511460289,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.8,
          "y": 1.2,
          "z": 4.096965511460289,
        },
        Vector3 {
          "x": -2.9,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.8,
        "y": 0,
        "z": 4.096965511460288,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.7,
          "y": -4.9,
          "z": 3,
        },
        Vector3 {
          "x": -6.7,
          "y": -4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.2,
        "y": -2.4000000000000004,
        "z": 4.4433756729740645,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.2,
          "y": -1.7999999999999998,
          "z": 4.4433756729740645,
        },
        Vector3 {
          "x": -4.8,
          "y": 0,
          "z": 4.096965511460288,
        },
        Vector3 {
          "x": -2.6999999999999997,
          "y": 0.8999999999999999,
          "z": 3.5773502691896257,
        },
      ],
      "source": Vector3 {
        "x": -4.199999999999999,
        "y": -0.6000000000000002,
        "z": 4.4433756729740645,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.2,
          "y": -2.4000000000000004,
          "z": 4.4433756729740645,
        },
      ],
      "source": Vector3 {
        "x": -4.2,
        "y": -1.7999999999999998,
        "z": 4.4433756729740645,
      },
    },
  ],
  "skeletonNodeCount": 9,
  "vertexCount": 21,
  "vertices": [
    {
      "x": -1.7,
      "y": 3,
      "z": -4.3,
    },
    {
      "x": -1.7,
      "y": 3,
      "z": -4.9,
    },
    {
      "x": -6.7,
      "y": 3,
      "z": -4.9,
    },
    {
      "x": -6.7,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -2.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -2.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -0.5,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -1.7,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -1.7,
      "y": 3,
      "z": -0.8,
    },
    {
      "x": 3.1,
      "y": 3,
      "z": -0.8,
    },
    {
      "x": 3.1,
      "y": 3,
      "z": -4.3,
    },
    {
      "x": -1.5,
      "y": 3.5773502691896257,
      "z": 0.8999999999999999,
    },
    {
      "x": -2.6999999999999997,
      "y": 3.5773502691896257,
      "z": 0.8999999999999999,
    },
    {
      "x": -3.45,
      "y": 4.010362971081845,
      "z": -2.5500000000000003,
    },
    {
      "x": 1.3500000000000003,
      "y": 4.010362971081845,
      "z": -2.55,
    },
    {
      "x": -4.8,
      "y": 4.096965511460289,
      "z": 1.2,
    },
    {
      "x": -4.8,
      "y": 4.096965511460288,
      "z": 0,
    },
    {
      "x": -4.2,
      "y": 4.4433756729740645,
      "z": -2.4000000000000004,
    },
    {
      "x": -4.199999999999999,
      "y": 4.4433756729740645,
      "z": -0.6000000000000002,
    },
    {
      "x": -4.2,
      "y": 4.4433756729740645,
      "z": -1.7999999999999998,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_10_tier2 1`] = `
{
  "faceCount": 12,
  "faces": [
    [
      {
        "x": -5.6,
        "y": 3,
        "z": -3.09,
      },
      {
        "x": -5.6,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": -6.6,
        "y": 3.5773502691896257,
        "z": -0.3000000000000004,
      },
      {
        "x": -6.6,
        "y": 3.5773502691896257,
        "z": -0.5999999999999996,
      },
      {
        "x": -7.392287283381367,
        "y": 4.034777545525375,
        "z": -1.3922872833813669,
      },
    ],
    [
      {
        "x": -5.6,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": -3.5,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": -5.55,
        "y": 4.183568051838733,
        "z": 0.7499999999999997,
      },
      {
        "x": -6.6,
        "y": 3.5773502691896257,
        "z": -0.3000000000000004,
      },
    ],
    [
      {
        "x": -11.5,
        "y": 3,
        "z": -3.41,
      },
      {
        "x": -5.6,
        "y": 3,
        "z": -3.09,
      },
      {
        "x": -7.392287283381367,
        "y": 4.034777545525375,
        "z": -1.3922872833813669,
      },
      {
        "x": -9.646623080138399,
        "y": 4.070047663591935,
        "z": -1.4533769198616027,
      },
    ],
    [
      {
        "x": -11.5,
        "y": 3,
        "z": -1,
      },
      {
        "x": -11.5,
        "y": 3,
        "z": -3.41,
      },
      {
        "x": -9.646623080138399,
        "y": 4.070047663591935,
        "z": -1.4533769198616027,
      },
      {
        "x": -10.8,
        "y": 3.404145188432738,
        "z": -0.30000000000000027,
      },
    ],
    [
      {
        "x": -15.7,
        "y": 3,
        "z": -1,
      },
      {
        "x": -11.5,
        "y": 3,
        "z": -1,
      },
      {
        "x": -10.8,
        "y": 3.404145188432738,
        "z": -0.30000000000000027,
      },
      {
        "x": -11.55,
        "y": 3.8371578903249572,
        "z": 0.4500000000000002,
      },
      {
        "x": -14.25,
        "y": 3.837157890324957,
        "z": 0.4500000000000002,
      },
    ],
    [
      {
        "x": -15.7,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -15.7,
        "y": 3,
        "z": -1,
      },
      {
        "x": -14.25,
        "y": 3.837157890324957,
        "z": 0.4500000000000002,
      },
    ],
    [
      {
        "x": -10.1,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -15.7,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -14.25,
        "y": 3.837157890324957,
        "z": 0.4500000000000002,
      },
      {
        "x": -11.55,
        "y": 3.8371578903249572,
        "z": 0.4500000000000002,
      },
    ],
    [
      {
        "x": -10.1,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": -10.1,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -11.55,
        "y": 3.8371578903249572,
        "z": 0.4500000000000002,
      },
      {
        "x": -10.8,
        "y": 3.404145188432738,
        "z": -0.30000000000000027,
      },
    ],
    [
      {
        "x": -7.6,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": -10.1,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": -10.8,
        "y": 3.404145188432738,
        "z": -0.30000000000000027,
      },
      {
        "x": -9.646623080138399,
        "y": 4.070047663591935,
        "z": -1.4533769198616027,
      },
      {
        "x": -7.392287283381367,
        "y": 4.034777545525375,
        "z": -1.3922872833813669,
      },
      {
        "x": -6.6,
        "y": 3.5773502691896257,
        "z": -0.5999999999999996,
      },
    ],
    [
      {
        "x": -7.6,
        "y": 3,
        "z": 3.67,
      },
      {
        "x": -7.6,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": -6.6,
        "y": 3.5773502691896257,
        "z": -0.5999999999999996,
      },
      {
        "x": -6.6,
        "y": 3.5773502691896257,
        "z": -0.3000000000000004,
      },
      {
        "x": -5.55,
        "y": 4.183568051838733,
        "z": 0.7499999999999997,
      },
      {
        "x": -5.550000000000001,
        "y": 4.183568051838733,
        "z": 2.15890470854624,
      },
    ],
    [
      {
        "x": -3.5,
        "y": 3,
        "z": 4.94,
      },
      {
        "x": -7.6,
        "y": 3,
        "z": 3.67,
      },
      {
        "x": -5.550000000000001,
        "y": 4.183568051838733,
        "z": 2.15890470854624,
      },
    ],
    [
      {
        "x": -3.5,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": -3.5,
        "y": 3,
        "z": 4.94,
      },
      {
        "x": -5.550000000000001,
        "y": 4.183568051838733,
        "z": 2.15890470854624,
      },
      {
        "x": -5.55,
        "y": 4.183568051838733,
        "z": 0.7499999999999997,
      },
    ],
  ],
  "inputPolygonVertexCount": 12,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -5.6,
        "y": -1.3,
      },
      "original": {
        "x": -5.7,
        "y": -1.2,
      },
    },
    {
      "offset": {
        "x": -5.6,
        "y": -3.09,
      },
      "original": {
        "x": -5.7,
        "y": -3,
      },
    },
    {
      "offset": {
        "x": -11.5,
        "y": -3.41,
      },
      "original": {
        "x": -11.4,
        "y": -3.3,
      },
    },
    {
      "offset": {
        "x": -11.5,
        "y": -1,
      },
      "original": {
        "x": -11.4,
        "y": -0.9,
      },
    },
    {
      "offset": {
        "x": -15.7,
        "y": -1,
      },
      "original": {
        "x": -15.6,
        "y": -0.9,
      },
    },
    {
      "offset": {
        "x": -15.7,
        "y": 1.9,
      },
      "original": {
        "x": -15.6,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": -10.1,
        "y": 1.9,
      },
      "original": {
        "x": -10.2,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": -10.1,
        "y": 0.4,
      },
      "original": {
        "x": -10.2,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": -7.6,
        "y": 0.4,
      },
      "original": {
        "x": -7.5,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": -7.6,
        "y": 3.67,
      },
      "original": {
        "x": -7.5,
        "y": 3.6,
      },
    },
    {
      "offset": {
        "x": -3.5,
        "y": 4.94,
      },
      "original": {
        "x": -3.6,
        "y": 4.8,
      },
    },
    {
      "offset": {
        "x": -3.5,
        "y": -1.3,
      },
      "original": {
        "x": -3.6,
        "y": -1.2,
      },
    },
  ],
  "preparedPolygonVertexCount": 12,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": -11.5,
          "y": -1,
          "z": 3,
        },
        Vector3 {
          "x": -10.1,
          "y": 0.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -10.8,
        "y": -0.30000000000000027,
        "z": 3.404145188432738,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -7.6,
          "y": 0.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -6.6,
        "y": -0.5999999999999996,
        "z": 3.5773502691896257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -5.6,
          "y": -1.3,
          "z": 3,
        },
        Vector3 {
          "x": -6.6,
          "y": -0.5999999999999996,
          "z": 3.5773502691896257,
        },
      ],
      "source": Vector3 {
        "x": -6.6,
        "y": -0.3000000000000004,
        "z": 3.5773502691896257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -15.7,
          "y": -1,
          "z": 3,
        },
        Vector3 {
          "x": -15.7,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -14.25,
        "y": 0.4500000000000002,
        "z": 3.837157890324957,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -10.8,
          "y": -0.30000000000000027,
          "z": 3.404145188432738,
        },
        Vector3 {
          "x": -14.25,
          "y": 0.4500000000000002,
          "z": 3.837157890324957,
        },
        Vector3 {
          "x": -10.1,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -11.55,
        "y": 0.4500000000000002,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.6,
          "y": -0.5999999999999996,
          "z": 3.5773502691896257,
        },
        Vector3 {
          "x": -5.6,
          "y": -3.09,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -7.392287283381367,
        "y": -1.3922872833813669,
        "z": 4.034777545525375,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -7.392287283381367,
          "y": -1.3922872833813669,
          "z": 4.034777545525375,
        },
        Vector3 {
          "x": -11.5,
          "y": -3.41,
          "z": 3,
        },
        Vector3 {
          "x": -10.8,
          "y": -0.30000000000000027,
          "z": 3.404145188432738,
        },
      ],
      "source": Vector3 {
        "x": -9.646623080138399,
        "y": -1.4533769198616027,
        "z": 4.070047663591935,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.5,
          "y": -1.3,
          "z": 3,
        },
        Vector3 {
          "x": -6.6,
          "y": -0.3000000000000004,
          "z": 3.5773502691896257,
        },
      ],
      "source": Vector3 {
        "x": -5.55,
        "y": 0.7499999999999997,
        "z": 4.183568051838733,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -5.55,
          "y": 0.7499999999999997,
          "z": 4.183568051838733,
        },
        Vector3 {
          "x": -7.6,
          "y": 3.67,
          "z": 3,
        },
        Vector3 {
          "x": -3.5,
          "y": 4.94,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -5.550000000000001,
        "y": 2.15890470854624,
        "z": 4.183568051838733,
      },
    },
  ],
  "skeletonNodeCount": 9,
  "vertexCount": 21,
  "vertices": [
    {
      "x": -5.6,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -5.6,
      "y": 3,
      "z": -3.09,
    },
    {
      "x": -11.5,
      "y": 3,
      "z": -3.41,
    },
    {
      "x": -11.5,
      "y": 3,
      "z": -1,
    },
    {
      "x": -15.7,
      "y": 3,
      "z": -1,
    },
    {
      "x": -15.7,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -10.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -10.1,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": -7.6,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": -7.6,
      "y": 3,
      "z": 3.67,
    },
    {
      "x": -3.5,
      "y": 3,
      "z": 4.94,
    },
    {
      "x": -3.5,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -10.8,
      "y": 3.404145188432738,
      "z": -0.30000000000000027,
    },
    {
      "x": -6.6,
      "y": 3.5773502691896257,
      "z": -0.5999999999999996,
    },
    {
      "x": -6.6,
      "y": 3.5773502691896257,
      "z": -0.3000000000000004,
    },
    {
      "x": -14.25,
      "y": 3.837157890324957,
      "z": 0.4500000000000002,
    },
    {
      "x": -11.55,
      "y": 3.8371578903249572,
      "z": 0.4500000000000002,
    },
    {
      "x": -7.392287283381367,
      "y": 4.034777545525375,
      "z": -1.3922872833813669,
    },
    {
      "x": -9.646623080138399,
      "y": 4.070047663591935,
      "z": -1.4533769198616027,
    },
    {
      "x": -5.55,
      "y": 4.183568051838733,
      "z": 0.7499999999999997,
    },
    {
      "x": -5.550000000000001,
      "y": 4.183568051838733,
      "z": 2.15890470854624,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_11_tier2 1`] = `
{
  "faceCount": 13,
  "faces": [
    [
      {
        "x": -1.01,
        "y": 3,
        "z": 6.5,
      },
      {
        "x": -1.01,
        "y": 3,
        "z": 4.67,
      },
      {
        "x": 0.45999999999999996,
        "y": 3.8487048957087495,
        "z": 3.2,
      },
      {
        "x": -1.01,
        "y": 3,
        "z": 1.73,
      },
      {
        "x": -1.01,
        "y": 3,
        "z": 0.2,
      },
      {
        "x": 0.915,
        "y": 4.11139926819003,
        "z": 2.125,
      },
      {
        "x": 0.915,
        "y": 4.111399268190029,
        "z": 2.745,
      },
      {
        "x": 0.9150000000000005,
        "y": 4.111399268190029,
        "z": 4.575,
      },
    ],
    [
      {
        "x": -1.01,
        "y": 3,
        "z": 4.67,
      },
      {
        "x": -3.76,
        "y": 3,
        "z": 4.67,
      },
      {
        "x": -2.29,
        "y": 3.8487048957087495,
        "z": 3.2,
      },
      {
        "x": 0.45999999999999996,
        "y": 3.8487048957087495,
        "z": 3.2,
      },
    ],
    [
      {
        "x": 5.28,
        "y": 3,
        "z": 6.5,
      },
      {
        "x": -1.01,
        "y": 3,
        "z": 6.5,
      },
      {
        "x": 0.9150000000000005,
        "y": 4.111399268190029,
        "z": 4.575,
      },
      {
        "x": 1.0650000000000004,
        "y": 4.0247967278115855,
        "z": 4.725,
      },
      {
        "x": 3.5050000000000003,
        "y": 4.0247967278115855,
        "z": 4.725,
      },
    ],
    [
      {
        "x": 5.28,
        "y": 3,
        "z": 3.15,
      },
      {
        "x": 5.28,
        "y": 3,
        "z": 6.5,
      },
      {
        "x": 3.5050000000000003,
        "y": 4.0247967278115855,
        "z": 4.725,
      },
      {
        "x": 5.180000000000001,
        "y": 3.0577350269189623,
        "z": 3.05,
      },
    ],
    [
      {
        "x": 8.94,
        "y": 3,
        "z": 3.15,
      },
      {
        "x": 5.28,
        "y": 3,
        "z": 3.15,
      },
      {
        "x": 5.180000000000001,
        "y": 3.0577350269189623,
        "z": 3.05,
      },
      {
        "x": 6.1,
        "y": 3.0577350269189627,
        "z": 3.05,
      },
      {
        "x": 7.47,
        "y": 3.84870489570875,
        "z": 1.68,
      },
    ],
    [
      {
        "x": 8.94,
        "y": 3,
        "z": -2.54,
      },
      {
        "x": 8.94,
        "y": 3,
        "z": 3.15,
      },
      {
        "x": 7.47,
        "y": 3.84870489570875,
        "z": 1.68,
      },
      {
        "x": 7.47,
        "y": 3.84870489570875,
        "z": -1.07,
      },
    ],
    [
      {
        "x": 6,
        "y": 3,
        "z": -2.54,
      },
      {
        "x": 8.94,
        "y": 3,
        "z": -2.54,
      },
      {
        "x": 7.47,
        "y": 3.84870489570875,
        "z": -1.07,
      },
    ],
    [
      {
        "x": 6,
        "y": 3,
        "z": 2.95,
      },
      {
        "x": 6,
        "y": 3,
        "z": -2.54,
      },
      {
        "x": 7.47,
        "y": 3.84870489570875,
        "z": -1.07,
      },
      {
        "x": 7.47,
        "y": 3.84870489570875,
        "z": 1.68,
      },
      {
        "x": 6.1,
        "y": 3.0577350269189627,
        "z": 3.05,
      },
    ],
    [
      {
        "x": 2.84,
        "y": 3,
        "z": 2.95,
      },
      {
        "x": 6,
        "y": 3,
        "z": 2.95,
      },
      {
        "x": 6.1,
        "y": 3.0577350269189627,
        "z": 3.05,
      },
      {
        "x": 5.180000000000001,
        "y": 3.0577350269189623,
        "z": 3.05,
      },
      {
        "x": 3.5050000000000003,
        "y": 4.0247967278115855,
        "z": 4.725,
      },
      {
        "x": 1.0650000000000004,
        "y": 4.0247967278115855,
        "z": 4.725,
      },
    ],
    [
      {
        "x": 2.84,
        "y": 3,
        "z": 0.2,
      },
      {
        "x": 2.84,
        "y": 3,
        "z": 2.95,
      },
      {
        "x": 1.0650000000000004,
        "y": 4.0247967278115855,
        "z": 4.725,
      },
      {
        "x": 0.9150000000000005,
        "y": 4.111399268190029,
        "z": 4.575,
      },
      {
        "x": 0.915,
        "y": 4.111399268190029,
        "z": 2.745,
      },
      {
        "x": 0.915,
        "y": 4.11139926819003,
        "z": 2.125,
      },
    ],
    [
      {
        "x": -1.01,
        "y": 3,
        "z": 0.2,
      },
      {
        "x": 2.84,
        "y": 3,
        "z": 0.2,
      },
      {
        "x": 0.915,
        "y": 4.11139926819003,
        "z": 2.125,
      },
    ],
    [
      {
        "x": -3.76,
        "y": 3,
        "z": 1.73,
      },
      {
        "x": -1.01,
        "y": 3,
        "z": 1.73,
      },
      {
        "x": 0.45999999999999996,
        "y": 3.8487048957087495,
        "z": 3.2,
      },
      {
        "x": -2.29,
        "y": 3.8487048957087495,
        "z": 3.2,
      },
    ],
    [
      {
        "x": -3.76,
        "y": 3,
        "z": 4.67,
      },
      {
        "x": -3.76,
        "y": 3,
        "z": 1.73,
      },
      {
        "x": -2.29,
        "y": 3.8487048957087495,
        "z": 3.2,
      },
    ],
  ],
  "inputPolygonVertexCount": 16,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -1.01,
        "y": 4.67,
      },
      "original": {
        "x": -0.91,
        "y": 4.57,
      },
    },
    {
      "offset": {
        "x": -1.01,
        "y": 6.5,
      },
      "original": {
        "x": -0.91,
        "y": 6.4,
      },
    },
    {
      "offset": {
        "x": 5.28,
        "y": 6.5,
      },
      "original": {
        "x": 5.18,
        "y": 6.4,
      },
    },
    {
      "offset": {
        "x": 5.28,
        "y": 3.15,
      },
      "original": {
        "x": 5.18,
        "y": 3.05,
      },
    },
    {
      "offset": {
        "x": 8.94,
        "y": 3.15,
      },
      "original": {
        "x": 8.84,
        "y": 3.05,
      },
    },
    {
      "offset": {
        "x": 8.94,
        "y": -2.54,
      },
      "original": {
        "x": 8.84,
        "y": -2.44,
      },
    },
    {
      "offset": {
        "x": 6,
        "y": -2.54,
      },
      "original": {
        "x": 6.1,
        "y": -2.44,
      },
    },
    {
      "offset": {
        "x": 6,
        "y": 2.95,
      },
      "original": {
        "x": 6.1,
        "y": 3.05,
      },
    },
    {
      "offset": {
        "x": 2.84,
        "y": 2.95,
      },
      "original": {
        "x": 2.74,
        "y": 3.05,
      },
    },
    {
      "offset": {
        "x": 2.84,
        "y": 0.2,
      },
      "original": {
        "x": 2.74,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": -1.01,
        "y": 0.2,
      },
      "original": {
        "x": -0.91,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": -1.01,
        "y": 1.73,
      },
      "original": {
        "x": -0.91,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 1.73,
      },
      "original": {
        "x": -3.66,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 4.67,
      },
      "original": {
        "x": -3.66,
        "y": 4.57,
      },
    },
  ],
  "preparedPolygonVertexCount": 14,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 5.28,
          "y": 3.15,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.180000000000001,
        "y": 3.05,
        "z": 3.0577350269189623,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 2.95,
          "z": 3,
        },
        Vector3 {
          "x": 5.180000000000001,
          "y": 3.05,
          "z": 3.0577350269189623,
        },
      ],
      "source": Vector3 {
        "x": 6.1,
        "y": 3.05,
        "z": 3.0577350269189627,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.76,
          "y": 1.73,
          "z": 3,
        },
        Vector3 {
          "x": -3.76,
          "y": 4.67,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.29,
        "y": 3.2,
        "z": 3.8487048957087495,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.01,
          "y": 1.73,
          "z": 3,
        },
        Vector3 {
          "x": -2.29,
          "y": 3.2,
          "z": 3.8487048957087495,
        },
        Vector3 {
          "x": -1.01,
          "y": 4.67,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.45999999999999996,
        "y": 3.2,
        "z": 3.8487048957087495,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.94,
          "y": -2.54,
          "z": 3,
        },
        Vector3 {
          "x": 6,
          "y": -2.54,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7.47,
        "y": -1.07,
        "z": 3.84870489570875,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.1,
          "y": 3.05,
          "z": 3.0577350269189627,
        },
        Vector3 {
          "x": 8.94,
          "y": 3.15,
          "z": 3,
        },
        Vector3 {
          "x": 7.47,
          "y": -1.07,
          "z": 3.84870489570875,
        },
      ],
      "source": Vector3 {
        "x": 7.47,
        "y": 1.68,
        "z": 3.84870489570875,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.28,
          "y": 6.5,
          "z": 3,
        },
        Vector3 {
          "x": 5.180000000000001,
          "y": 3.05,
          "z": 3.0577350269189623,
        },
      ],
      "source": Vector3 {
        "x": 3.5050000000000003,
        "y": 4.725,
        "z": 4.0247967278115855,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.5050000000000003,
          "y": 4.725,
          "z": 4.0247967278115855,
        },
        Vector3 {
          "x": 2.84,
          "y": 2.95,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.0650000000000004,
        "y": 4.725,
        "z": 4.0247967278115855,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.84,
          "y": 0.2,
          "z": 3,
        },
        Vector3 {
          "x": -1.01,
          "y": 0.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.915,
        "y": 2.125,
        "z": 4.11139926819003,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.915,
          "y": 2.125,
          "z": 4.11139926819003,
        },
      ],
      "source": Vector3 {
        "x": 0.915,
        "y": 2.745,
        "z": 4.111399268190029,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.915,
          "y": 2.745,
          "z": 4.111399268190029,
        },
        Vector3 {
          "x": -1.01,
          "y": 6.5,
          "z": 3,
        },
        Vector3 {
          "x": 1.0650000000000004,
          "y": 4.725,
          "z": 4.0247967278115855,
        },
      ],
      "source": Vector3 {
        "x": 0.9150000000000005,
        "y": 4.575,
        "z": 4.111399268190029,
      },
    },
  ],
  "skeletonNodeCount": 11,
  "vertexCount": 25,
  "vertices": [
    {
      "x": -1.01,
      "y": 3,
      "z": 4.67,
    },
    {
      "x": -1.01,
      "y": 3,
      "z": 6.5,
    },
    {
      "x": 5.28,
      "y": 3,
      "z": 6.5,
    },
    {
      "x": 5.28,
      "y": 3,
      "z": 3.15,
    },
    {
      "x": 8.94,
      "y": 3,
      "z": 3.15,
    },
    {
      "x": 8.94,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": 6,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": 6,
      "y": 3,
      "z": 2.95,
    },
    {
      "x": 2.84,
      "y": 3,
      "z": 2.95,
    },
    {
      "x": 2.84,
      "y": 3,
      "z": 0.2,
    },
    {
      "x": -1.01,
      "y": 3,
      "z": 0.2,
    },
    {
      "x": -1.01,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 4.67,
    },
    {
      "x": 5.180000000000001,
      "y": 3.0577350269189623,
      "z": 3.05,
    },
    {
      "x": 6.1,
      "y": 3.0577350269189627,
      "z": 3.05,
    },
    {
      "x": -2.29,
      "y": 3.8487048957087495,
      "z": 3.2,
    },
    {
      "x": 0.45999999999999996,
      "y": 3.8487048957087495,
      "z": 3.2,
    },
    {
      "x": 7.47,
      "y": 3.84870489570875,
      "z": -1.07,
    },
    {
      "x": 7.47,
      "y": 3.84870489570875,
      "z": 1.68,
    },
    {
      "x": 3.5050000000000003,
      "y": 4.0247967278115855,
      "z": 4.725,
    },
    {
      "x": 1.0650000000000004,
      "y": 4.0247967278115855,
      "z": 4.725,
    },
    {
      "x": 0.915,
      "y": 4.11139926819003,
      "z": 2.125,
    },
    {
      "x": 0.915,
      "y": 4.111399268190029,
      "z": 2.745,
    },
    {
      "x": 0.9150000000000005,
      "y": 4.111399268190029,
      "z": 4.575,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_12_tier2 1`] = `
{
  "faceCount": 17,
  "faces": [
    [
      {
        "x": -4.37,
        "y": 3,
        "z": 2.84,
      },
      {
        "x": -4.37,
        "y": 3,
        "z": 1.62,
      },
      {
        "x": -3.0500000000000003,
        "y": 3.762102355330306,
        "z": 0.30000000000000027,
      },
      {
        "x": -3.0500000000000003,
        "y": 3.762102355330306,
        "z": 0.6100000000000001,
      },
      {
        "x": -2.745,
        "y": 3.938194187433142,
        "z": 0.7116666666666669,
      },
      {
        "x": -2.745,
        "y": 3.938194187433142,
        "z": 1.2149999999999999,
      },
    ],
    [
      {
        "x": -4.37,
        "y": 3,
        "z": 1.62,
      },
      {
        "x": -8.02,
        "y": 3,
        "z": 1.62,
      },
      {
        "x": -5.9399999999999995,
        "y": 4.2008885599144214,
        "z": -0.45999999999999996,
      },
      {
        "x": -3.8100000000000005,
        "y": 4.2008885599144214,
        "z": -0.45999999999999996,
      },
      {
        "x": -3.0500000000000003,
        "y": 3.762102355330306,
        "z": 0.30000000000000027,
      },
    ],
    [
      {
        "x": -1.12,
        "y": 3,
        "z": 2.84,
      },
      {
        "x": -4.37,
        "y": 3,
        "z": 2.84,
      },
      {
        "x": -2.745,
        "y": 3.938194187433142,
        "z": 1.2149999999999999,
      },
    ],
    [
      {
        "x": -1.12,
        "y": 3,
        "z": 1.62,
      },
      {
        "x": -1.12,
        "y": 3,
        "z": 2.84,
      },
      {
        "x": -2.745,
        "y": 3.938194187433142,
        "z": 1.2149999999999999,
      },
      {
        "x": -2.745,
        "y": 3.938194187433142,
        "z": 0.7116666666666669,
      },
      {
        "x": -2.5658333333333334,
        "y": 3.834752264203334,
        "z": 0.1741666666666667,
      },
    ],
    [
      {
        "x": 1.62,
        "y": 3,
        "z": 1.62,
      },
      {
        "x": -1.12,
        "y": 3,
        "z": 1.62,
      },
      {
        "x": -2.5658333333333334,
        "y": 3.834752264203334,
        "z": 0.1741666666666667,
      },
      {
        "x": -0.7391666666666667,
        "y": 4.362065510063192,
        "z": -0.7391666666666665,
      },
    ],
    [
      {
        "x": 1.62,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": 1.62,
        "y": 3,
        "z": 1.62,
      },
      {
        "x": -0.7391666666666667,
        "y": 4.362065510063192,
        "z": -0.7391666666666665,
      },
      {
        "x": -0.43416666666666676,
        "y": 4.185973677960356,
        "z": -1.6541666666666663,
      },
    ],
    [
      {
        "x": 4.67,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": 1.62,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": -0.43416666666666676,
        "y": 4.185973677960356,
        "z": -1.6541666666666663,
      },
      {
        "x": 0.1791666666666668,
        "y": 4.363027760511842,
        "z": -1.9608333333333334,
      },
      {
        "x": 0.9200000000000004,
        "y": 3.935307436087194,
        "z": -1.22,
      },
      {
        "x": 3.05,
        "y": 3.935307436087194,
        "z": -1.22,
      },
    ],
    [
      {
        "x": 4.67,
        "y": 3,
        "z": -2.84,
      },
      {
        "x": 4.67,
        "y": 3,
        "z": 0.4,
      },
      {
        "x": 3.05,
        "y": 3.935307436087194,
        "z": -1.22,
      },
    ],
    [
      {
        "x": 2.54,
        "y": 3,
        "z": -2.84,
      },
      {
        "x": 4.67,
        "y": 3,
        "z": -2.84,
      },
      {
        "x": 3.05,
        "y": 3.935307436087194,
        "z": -1.22,
      },
      {
        "x": 0.9200000000000004,
        "y": 3.935307436087194,
        "z": -1.22,
      },
    ],
    [
      {
        "x": 2.54,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": 2.54,
        "y": 3,
        "z": -2.84,
      },
      {
        "x": 0.9200000000000004,
        "y": 3.935307436087194,
        "z": -1.22,
      },
      {
        "x": 0.1791666666666668,
        "y": 4.363027760511842,
        "z": -1.9608333333333334,
      },
      {
        "x": 0.8133333333333335,
        "y": 3.9968914648007536,
        "z": -3.8633333333333333,
      },
    ],
    [
      {
        "x": -0.05,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": 2.54,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": 0.8133333333333335,
        "y": 3.9968914648007536,
        "z": -3.8633333333333333,
      },
    ],
    [
      {
        "x": -1.73,
        "y": 3,
        "z": -3.35,
      },
      {
        "x": -0.05,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": 0.8133333333333335,
        "y": 3.9968914648007536,
        "z": -3.8633333333333333,
      },
      {
        "x": 0.1791666666666668,
        "y": 4.363027760511842,
        "z": -1.9608333333333334,
      },
      {
        "x": -0.43416666666666676,
        "y": 4.185973677960356,
        "z": -1.6541666666666663,
      },
      {
        "x": -0.7391666666666667,
        "y": 4.362065510063192,
        "z": -0.7391666666666665,
      },
      {
        "x": -2.5658333333333334,
        "y": 3.834752264203334,
        "z": 0.1741666666666667,
      },
      {
        "x": -2.745,
        "y": 3.938194187433142,
        "z": 0.7116666666666669,
      },
      {
        "x": -3.0500000000000003,
        "y": 3.762102355330306,
        "z": 0.6100000000000001,
      },
    ],
    [
      {
        "x": -1.73,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": -1.73,
        "y": 3,
        "z": -3.35,
      },
      {
        "x": -3.0500000000000003,
        "y": 3.762102355330306,
        "z": 0.6100000000000001,
      },
      {
        "x": -3.0500000000000003,
        "y": 3.762102355330306,
        "z": 0.30000000000000027,
      },
      {
        "x": -3.8100000000000005,
        "y": 4.2008885599144214,
        "z": -0.45999999999999996,
      },
      {
        "x": -3.66,
        "y": 4.114286019535977,
        "z": -0.6100000000000003,
      },
      {
        "x": -3.66,
        "y": 4.114286019535977,
        "z": -3.66,
      },
    ],
    [
      {
        "x": -5.59,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": -1.73,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": -3.66,
        "y": 4.114286019535977,
        "z": -3.66,
      },
    ],
    [
      {
        "x": -5.59,
        "y": 3,
        "z": -2.54,
      },
      {
        "x": -5.59,
        "y": 3,
        "z": -5.59,
      },
      {
        "x": -3.66,
        "y": 4.114286019535977,
        "z": -3.66,
      },
      {
        "x": -3.66,
        "y": 4.114286019535977,
        "z": -0.6100000000000003,
      },
    ],
    [
      {
        "x": -8.02,
        "y": 3,
        "z": -2.54,
      },
      {
        "x": -5.59,
        "y": 3,
        "z": -2.54,
      },
      {
        "x": -3.66,
        "y": 4.114286019535977,
        "z": -0.6100000000000003,
      },
      {
        "x": -3.8100000000000005,
        "y": 4.2008885599144214,
        "z": -0.45999999999999996,
      },
      {
        "x": -5.9399999999999995,
        "y": 4.2008885599144214,
        "z": -0.45999999999999996,
      },
    ],
    [
      {
        "x": -8.02,
        "y": 3,
        "z": 1.62,
      },
      {
        "x": -8.02,
        "y": 3,
        "z": -2.54,
      },
      {
        "x": -5.9399999999999995,
        "y": 4.2008885599144214,
        "z": -0.45999999999999996,
      },
    ],
  ],
  "inputPolygonVertexCount": 17,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -4.37,
        "y": 1.62,
      },
      "original": {
        "x": -4.27,
        "y": 1.52,
      },
    },
    {
      "offset": {
        "x": -4.37,
        "y": 2.84,
      },
      "original": {
        "x": -4.27,
        "y": 2.74,
      },
    },
    {
      "offset": {
        "x": -1.12,
        "y": 2.84,
      },
      "original": {
        "x": -1.22,
        "y": 2.74,
      },
    },
    {
      "offset": {
        "x": -1.12,
        "y": 1.62,
      },
      "original": {
        "x": -1.22,
        "y": 1.52,
      },
    },
    {
      "offset": {
        "x": 1.62,
        "y": 1.62,
      },
      "original": {
        "x": 1.52,
        "y": 1.52,
      },
    },
    {
      "offset": {
        "x": 1.62,
        "y": 0.4,
      },
      "original": {
        "x": 1.52,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": 4.67,
        "y": 0.4,
      },
      "original": {
        "x": 4.57,
        "y": 0.3,
      },
    },
    {
      "offset": {
        "x": 4.67,
        "y": -2.84,
      },
      "original": {
        "x": 4.57,
        "y": -2.74,
      },
    },
    {
      "offset": {
        "x": 2.54,
        "y": -2.84,
      },
      "original": {
        "x": 2.44,
        "y": -2.74,
      },
    },
    {
      "offset": {
        "x": 2.54,
        "y": -5.59,
      },
      "original": {
        "x": 2.44,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": -0.05,
        "y": -5.59,
      },
      "original": {
        "x": 0,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": -1.73,
        "y": -3.35,
      },
      "original": {
        "x": -1.83,
        "y": -3.05,
      },
    },
    {
      "offset": {
        "x": -1.73,
        "y": -5.59,
      },
      "original": {
        "x": -1.83,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": -5.59,
        "y": -5.59,
      },
      "original": {
        "x": -5.49,
        "y": -5.49,
      },
    },
    {
      "offset": {
        "x": -5.59,
        "y": -2.54,
      },
      "original": {
        "x": -5.49,
        "y": -2.44,
      },
    },
    {
      "offset": {
        "x": -8.02,
        "y": -2.54,
      },
      "original": {
        "x": -7.92,
        "y": -2.44,
      },
    },
    {
      "offset": {
        "x": -8.02,
        "y": 1.62,
      },
      "original": {
        "x": -7.92,
        "y": 1.52,
      },
    },
  ],
  "preparedPolygonVertexCount": 17,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": -4.37,
          "y": 1.62,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.0500000000000003,
        "y": 0.30000000000000027,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.73,
          "y": -3.35,
          "z": 3,
        },
        Vector3 {
          "x": -3.0500000000000003,
          "y": 0.30000000000000027,
          "z": 3.762102355330306,
        },
      ],
      "source": Vector3 {
        "x": -3.0500000000000003,
        "y": 0.6100000000000001,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.67,
          "y": 0.4,
          "z": 3,
        },
        Vector3 {
          "x": 4.67,
          "y": -2.84,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.05,
        "y": -1.22,
        "z": 3.935307436087194,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.05,
          "y": -1.22,
          "z": 3.935307436087194,
        },
        Vector3 {
          "x": 2.54,
          "y": -2.84,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9200000000000004,
        "y": -1.22,
        "z": 3.935307436087194,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.37,
          "y": 2.84,
          "z": 3,
        },
        Vector3 {
          "x": -1.12,
          "y": 2.84,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.745,
        "y": 1.2149999999999999,
        "z": 3.938194187433142,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.0500000000000003,
          "y": 0.6100000000000001,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": -2.745,
          "y": 1.2149999999999999,
          "z": 3.938194187433142,
        },
      ],
      "source": Vector3 {
        "x": -2.745,
        "y": 0.7116666666666669,
        "z": 3.938194187433142,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.745,
          "y": 0.7116666666666669,
          "z": 3.938194187433142,
        },
        Vector3 {
          "x": -1.12,
          "y": 1.62,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.5658333333333334,
        "y": 0.1741666666666667,
        "z": 3.834752264203334,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.54,
          "y": -5.59,
          "z": 3,
        },
        Vector3 {
          "x": -0.05,
          "y": -5.59,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.8133333333333335,
        "y": -3.8633333333333333,
        "z": 3.9968914648007536,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.73,
          "y": -5.59,
          "z": 3,
        },
        Vector3 {
          "x": -5.59,
          "y": -5.59,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.66,
        "y": -3.66,
        "z": 4.114286019535977,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.66,
          "y": -3.66,
          "z": 4.114286019535977,
        },
        Vector3 {
          "x": -5.59,
          "y": -2.54,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.66,
        "y": -0.6100000000000003,
        "z": 4.114286019535977,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -8.02,
          "y": -2.54,
          "z": 3,
        },
        Vector3 {
          "x": -8.02,
          "y": 1.62,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -5.9399999999999995,
        "y": -0.45999999999999996,
        "z": 4.2008885599144214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.0500000000000003,
          "y": 0.30000000000000027,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": -3.66,
          "y": -0.6100000000000003,
          "z": 4.114286019535977,
        },
        Vector3 {
          "x": -5.9399999999999995,
          "y": -0.45999999999999996,
          "z": 4.2008885599144214,
        },
      ],
      "source": Vector3 {
        "x": -3.8100000000000005,
        "y": -0.45999999999999996,
        "z": 4.2008885599144214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.5658333333333334,
          "y": 0.1741666666666667,
          "z": 3.834752264203334,
        },
        Vector3 {
          "x": 1.62,
          "y": 1.62,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.7391666666666667,
        "y": -0.7391666666666665,
        "z": 4.362065510063192,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.7391666666666667,
          "y": -0.7391666666666665,
          "z": 4.362065510063192,
        },
        Vector3 {
          "x": 1.62,
          "y": 0.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.43416666666666676,
        "y": -1.6541666666666663,
        "z": 4.185973677960356,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.43416666666666676,
          "y": -1.6541666666666663,
          "z": 4.185973677960356,
        },
        Vector3 {
          "x": 0.9200000000000004,
          "y": -1.22,
          "z": 3.935307436087194,
        },
        Vector3 {
          "x": 0.8133333333333335,
          "y": -3.8633333333333333,
          "z": 3.9968914648007536,
        },
      ],
      "source": Vector3 {
        "x": 0.1791666666666668,
        "y": -1.9608333333333334,
        "z": 4.363027760511842,
      },
    },
  ],
  "skeletonNodeCount": 15,
  "vertexCount": 32,
  "vertices": [
    {
      "x": -4.37,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 2.84,
    },
    {
      "x": -1.12,
      "y": 3,
      "z": 2.84,
    },
    {
      "x": -1.12,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": 1.62,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": 1.62,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": 0.4,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": -2.84,
    },
    {
      "x": 2.54,
      "y": 3,
      "z": -2.84,
    },
    {
      "x": 2.54,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -0.05,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -1.73,
      "y": 3,
      "z": -3.35,
    },
    {
      "x": -1.73,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -5.59,
      "y": 3,
      "z": -5.59,
    },
    {
      "x": -5.59,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": -8.02,
      "y": 3,
      "z": -2.54,
    },
    {
      "x": -8.02,
      "y": 3,
      "z": 1.62,
    },
    {
      "x": -3.0500000000000003,
      "y": 3.762102355330306,
      "z": 0.30000000000000027,
    },
    {
      "x": -3.0500000000000003,
      "y": 3.762102355330306,
      "z": 0.6100000000000001,
    },
    {
      "x": 3.05,
      "y": 3.935307436087194,
      "z": -1.22,
    },
    {
      "x": 0.9200000000000004,
      "y": 3.935307436087194,
      "z": -1.22,
    },
    {
      "x": -2.745,
      "y": 3.938194187433142,
      "z": 1.2149999999999999,
    },
    {
      "x": -2.745,
      "y": 3.938194187433142,
      "z": 0.7116666666666669,
    },
    {
      "x": -2.5658333333333334,
      "y": 3.834752264203334,
      "z": 0.1741666666666667,
    },
    {
      "x": 0.8133333333333335,
      "y": 3.9968914648007536,
      "z": -3.8633333333333333,
    },
    {
      "x": -3.66,
      "y": 4.114286019535977,
      "z": -3.66,
    },
    {
      "x": -3.66,
      "y": 4.114286019535977,
      "z": -0.6100000000000003,
    },
    {
      "x": -5.9399999999999995,
      "y": 4.2008885599144214,
      "z": -0.45999999999999996,
    },
    {
      "x": -3.8100000000000005,
      "y": 4.2008885599144214,
      "z": -0.45999999999999996,
    },
    {
      "x": -0.7391666666666667,
      "y": 4.362065510063192,
      "z": -0.7391666666666665,
    },
    {
      "x": -0.43416666666666676,
      "y": 4.185973677960356,
      "z": -1.6541666666666663,
    },
    {
      "x": 0.1791666666666668,
      "y": 4.363027760511842,
      "z": -1.9608333333333334,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: complex_13_tier3 1`] = `
{
  "faceCount": 9,
  "faces": [
    [
      {
        "x": 17.47,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": 16.56,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": 12.649999999999997,
        "y": 5.257439552531437,
        "z": -0.4599999999999991,
      },
      {
        "x": 13.559999999999999,
        "y": 5.257439552531437,
        "z": -0.4599999999999995,
      },
    ],
    [
      {
        "x": 16.56,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": 16.56,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": 11.884999999999998,
        "y": 5.699112508461501,
        "z": 0.3049999999999997,
      },
      {
        "x": 12.649999999999997,
        "y": 5.257439552531437,
        "z": -0.4599999999999991,
      },
    ],
    [
      {
        "x": 17.47,
        "y": 3,
        "z": -4.37,
      },
      {
        "x": 17.47,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": 13.559999999999999,
        "y": 5.257439552531437,
        "z": -0.4599999999999995,
      },
    ],
    [
      {
        "x": 14.12,
        "y": 3,
        "z": -4.37,
      },
      {
        "x": 17.47,
        "y": 3,
        "z": -4.37,
      },
      {
        "x": 13.559999999999999,
        "y": 5.257439552531437,
        "z": -0.4599999999999995,
      },
      {
        "x": 12.649999999999997,
        "y": 5.257439552531437,
        "z": -0.4599999999999991,
      },
      {
        "x": 11.884999999999998,
        "y": 5.699112508461501,
        "z": 0.3049999999999997,
      },
      {
        "x": 9.444999999999999,
        "y": 5.6991125084615,
        "z": 0.3049999999999997,
      },
    ],
    [
      {
        "x": 14.12,
        "y": 3,
        "z": -5.89,
      },
      {
        "x": 14.12,
        "y": 3,
        "z": -4.37,
      },
      {
        "x": 9.444999999999999,
        "y": 5.6991125084615,
        "z": 0.3049999999999997,
      },
      {
        "x": 14.12,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": 14.12,
        "y": 3,
        "z": 5.59,
      },
      {
        "x": 9.14,
        "y": 5.875204340564336,
        "z": 0.6099999999999994,
      },
      {
        "x": 8.379999999999999,
        "y": 6.313990545148452,
        "z": -0.14999999999999858,
      },
    ],
    [
      {
        "x": -1.32,
        "y": 3,
        "z": -5.89,
      },
      {
        "x": 14.12,
        "y": 3,
        "z": -5.89,
      },
      {
        "x": 8.379999999999999,
        "y": 6.313990545148452,
        "z": -0.14999999999999858,
      },
      {
        "x": 4.420000000000001,
        "y": 6.313990545148452,
        "z": -0.14999999999999858,
      },
    ],
    [
      {
        "x": -1.32,
        "y": 3,
        "z": 5.59,
      },
      {
        "x": -1.32,
        "y": 3,
        "z": -5.89,
      },
      {
        "x": 4.420000000000001,
        "y": 6.313990545148452,
        "z": -0.14999999999999858,
      },
    ],
    [
      {
        "x": 14.12,
        "y": 3,
        "z": 5.59,
      },
      {
        "x": -1.32,
        "y": 3,
        "z": 5.59,
      },
      {
        "x": 4.420000000000001,
        "y": 6.313990545148452,
        "z": -0.14999999999999858,
      },
      {
        "x": 8.379999999999999,
        "y": 6.313990545148452,
        "z": -0.14999999999999858,
      },
      {
        "x": 9.14,
        "y": 5.875204340564336,
        "z": 0.6099999999999994,
      },
    ],
    [
      {
        "x": 16.56,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": 14.12,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": 9.444999999999999,
        "y": 5.6991125084615,
        "z": 0.3049999999999997,
      },
      {
        "x": 11.884999999999998,
        "y": 5.699112508461501,
        "z": 0.3049999999999997,
      },
    ],
  ],
  "inputPolygonVertexCount": 10,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 16.56,
        "y": 3.45,
      },
      "original": {
        "x": 16.46,
        "y": 3.35,
      },
    },
    {
      "offset": {
        "x": 17.47,
        "y": 3.45,
      },
      "original": {
        "x": 17.37,
        "y": 3.35,
      },
    },
    {
      "offset": {
        "x": 17.47,
        "y": -4.37,
      },
      "original": {
        "x": 17.37,
        "y": -4.27,
      },
    },
    {
      "offset": {
        "x": 14.12,
        "y": -4.37,
      },
      "original": {
        "x": 14.02,
        "y": -4.27,
      },
    },
    {
      "offset": {
        "x": 14.12,
        "y": -5.89,
      },
      "original": {
        "x": 14.02,
        "y": -5.79,
      },
    },
    {
      "offset": {
        "x": -1.32,
        "y": -5.89,
      },
      "original": {
        "x": -1.22,
        "y": -5.79,
      },
    },
    {
      "offset": {
        "x": -1.32,
        "y": 5.59,
      },
      "original": {
        "x": -1.22,
        "y": 5.49,
      },
    },
    {
      "offset": {
        "x": 14.12,
        "y": 5.59,
      },
      "original": {
        "x": 14.02,
        "y": 5.49,
      },
    },
    {
      "offset": {
        "x": 14.12,
        "y": 4.98,
      },
      "original": {
        "x": 14.02,
        "y": 4.88,
      },
    },
    {
      "offset": {
        "x": 16.56,
        "y": 4.98,
      },
      "original": {
        "x": 16.46,
        "y": 4.88,
      },
    },
  ],
  "preparedPolygonVertexCount": 10,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 16.56,
          "y": 3.45,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 12.649999999999997,
        "y": -0.4599999999999991,
        "z": 5.257439552531437,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.649999999999997,
          "y": -0.4599999999999991,
          "z": 5.257439552531437,
        },
        Vector3 {
          "x": 17.47,
          "y": 3.45,
          "z": 3,
        },
        Vector3 {
          "x": 17.47,
          "y": -4.37,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 13.559999999999999,
        "y": -0.4599999999999995,
        "z": 5.257439552531437,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 14.12,
          "y": 4.98,
          "z": 3,
        },
        Vector3 {
          "x": 14.12,
          "y": -4.37,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9.444999999999999,
        "y": 0.3049999999999997,
        "z": 5.6991125084615,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.444999999999999,
          "y": 0.3049999999999997,
          "z": 5.6991125084615,
        },
        Vector3 {
          "x": 16.56,
          "y": 4.98,
          "z": 3,
        },
        Vector3 {
          "x": 12.649999999999997,
          "y": -0.4599999999999991,
          "z": 5.257439552531437,
        },
      ],
      "source": Vector3 {
        "x": 11.884999999999998,
        "y": 0.3049999999999997,
        "z": 5.699112508461501,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.32,
          "y": -5.89,
          "z": 3,
        },
        Vector3 {
          "x": -1.32,
          "y": 5.59,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.420000000000001,
        "y": -0.14999999999999858,
        "z": 6.313990545148452,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.14,
          "y": 0.6099999999999994,
          "z": 5.875204340564336,
        },
        Vector3 {
          "x": 14.12,
          "y": -5.89,
          "z": 3,
        },
        Vector3 {
          "x": 4.420000000000001,
          "y": -0.14999999999999858,
          "z": 6.313990545148452,
        },
      ],
      "source": Vector3 {
        "x": 8.379999999999999,
        "y": -0.14999999999999858,
        "z": 6.313990545148452,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 14.12,
          "y": 5.59,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9.14,
        "y": 0.6099999999999994,
        "z": 5.875204340564336,
      },
    },
  ],
  "skeletonNodeCount": 7,
  "vertexCount": 17,
  "vertices": [
    {
      "x": 16.56,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 17.47,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 17.47,
      "y": 3,
      "z": -4.37,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": -4.37,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": -5.89,
    },
    {
      "x": -1.32,
      "y": 3,
      "z": -5.89,
    },
    {
      "x": -1.32,
      "y": 3,
      "z": 5.59,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": 5.59,
    },
    {
      "x": 14.12,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 16.56,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 12.649999999999997,
      "y": 5.257439552531437,
      "z": -0.4599999999999991,
    },
    {
      "x": 13.559999999999999,
      "y": 5.257439552531437,
      "z": -0.4599999999999995,
    },
    {
      "x": 9.444999999999999,
      "y": 5.6991125084615,
      "z": 0.3049999999999997,
    },
    {
      "x": 11.884999999999998,
      "y": 5.699112508461501,
      "z": 0.3049999999999997,
    },
    {
      "x": 4.420000000000001,
      "y": 6.313990545148452,
      "z": -0.14999999999999858,
    },
    {
      "x": 8.379999999999999,
      "y": 6.313990545148452,
      "z": -0.14999999999999858,
    },
    {
      "x": 9.14,
      "y": 5.875204340564336,
      "z": 0.6099999999999994,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: d_square_1 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 1.9,
        "y": 3,
        "z": 5.9,
      },
      {
        "x": 5.9,
        "y": 3,
        "z": 5.9,
      },
      {
        "x": 7.75,
        "y": 4.068097998000807,
        "z": 7.75,
      },
      {
        "x": 4.25,
        "y": 4.068097998000807,
        "z": 7.75,
      },
      {
        "x": 4,
        "y": 4.212435565298214,
        "z": 8,
      },
    ],
    [
      {
        "x": 5.9,
        "y": 3,
        "z": 5.9,
      },
      {
        "x": 5.9,
        "y": 3,
        "z": 3.4,
      },
      {
        "x": 9,
        "y": 4.78978583448784,
        "z": 6.5,
      },
      {
        "x": 7.75,
        "y": 4.068097998000807,
        "z": 7.75,
      },
    ],
    [
      {
        "x": 1.9,
        "y": 3,
        "z": 11.6,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": 5.9,
      },
      {
        "x": 4,
        "y": 4.212435565298214,
        "z": 8,
      },
      {
        "x": 4,
        "y": 4.212435565298214,
        "z": 9.5,
      },
    ],
    [
      {
        "x": 6.1,
        "y": 3,
        "z": 11.6,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": 11.6,
      },
      {
        "x": 4,
        "y": 4.212435565298214,
        "z": 9.5,
      },
    ],
    [
      {
        "x": 6.1,
        "y": 3,
        "z": 9.6,
      },
      {
        "x": 6.1,
        "y": 3,
        "z": 11.6,
      },
      {
        "x": 4,
        "y": 4.212435565298214,
        "z": 9.5,
      },
      {
        "x": 4,
        "y": 4.212435565298214,
        "z": 8,
      },
      {
        "x": 4.25,
        "y": 4.068097998000807,
        "z": 7.75,
      },
    ],
    [
      {
        "x": 12.1,
        "y": 3,
        "z": 9.6,
      },
      {
        "x": 6.1,
        "y": 3,
        "z": 9.6,
      },
      {
        "x": 4.25,
        "y": 4.068097998000807,
        "z": 7.75,
      },
      {
        "x": 7.75,
        "y": 4.068097998000807,
        "z": 7.75,
      },
      {
        "x": 9,
        "y": 4.78978583448784,
        "z": 6.5,
      },
    ],
    [
      {
        "x": 12.1,
        "y": 3,
        "z": 3.4,
      },
      {
        "x": 12.1,
        "y": 3,
        "z": 9.6,
      },
      {
        "x": 9,
        "y": 4.78978583448784,
        "z": 6.5,
      },
    ],
    [
      {
        "x": 5.9,
        "y": 3,
        "z": 3.4,
      },
      {
        "x": 12.1,
        "y": 3,
        "z": 3.4,
      },
      {
        "x": 9,
        "y": 4.78978583448784,
        "z": 6.5,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 5.9,
        "y": 5.9,
      },
      "original": {
        "x": 6,
        "y": 6,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 5.9,
      },
      "original": {
        "x": 2,
        "y": 6,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 11.6,
      },
      "original": {
        "x": 2,
        "y": 11.5,
      },
    },
    {
      "offset": {
        "x": 6.1,
        "y": 11.6,
      },
      "original": {
        "x": 6,
        "y": 11.5,
      },
    },
    {
      "offset": {
        "x": 6.1,
        "y": 9.6,
      },
      "original": {
        "x": 6,
        "y": 9.5,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 9.6,
      },
      "original": {
        "x": 12,
        "y": 9.5,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 3.4,
      },
      "original": {
        "x": 12,
        "y": 3.5,
      },
    },
    {
      "offset": {
        "x": 5.9,
        "y": 3.4,
      },
      "original": {
        "x": 6,
        "y": 3.5,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 6.1,
          "y": 9.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.25,
        "y": 7.75,
        "z": 4.068097998000807,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.9,
          "y": 5.9,
          "z": 3,
        },
        Vector3 {
          "x": 4.25,
          "y": 7.75,
          "z": 4.068097998000807,
        },
      ],
      "source": Vector3 {
        "x": 7.75,
        "y": 7.75,
        "z": 4.068097998000807,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.25,
          "y": 7.75,
          "z": 4.068097998000807,
        },
        Vector3 {
          "x": 1.9,
          "y": 5.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 8,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4,
          "y": 8,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 1.9,
          "y": 11.6,
          "z": 3,
        },
        Vector3 {
          "x": 6.1,
          "y": 11.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 9.5,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 3.4,
          "z": 3,
        },
        Vector3 {
          "x": 5.9,
          "y": 3.4,
          "z": 3,
        },
        Vector3 {
          "x": 7.75,
          "y": 7.75,
          "z": 4.068097998000807,
        },
        Vector3 {
          "x": 12.1,
          "y": 9.6,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 6.5,
        "z": 4.78978583448784,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": 5.9,
      "y": 3,
      "z": 5.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 5.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 11.6,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 11.6,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 9.6,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 9.6,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 3.4,
    },
    {
      "x": 5.9,
      "y": 3,
      "z": 3.4,
    },
    {
      "x": 4.25,
      "y": 4.068097998000807,
      "z": 7.75,
    },
    {
      "x": 7.75,
      "y": 4.068097998000807,
      "z": 7.75,
    },
    {
      "x": 4,
      "y": 4.212435565298214,
      "z": 8,
    },
    {
      "x": 4,
      "y": 4.212435565298214,
      "z": 9.5,
    },
    {
      "x": 9,
      "y": 4.78978583448784,
      "z": 6.5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: d_square_2 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 8.1,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 6.1,
      },
      {
        "x": 5.5,
        "y": 3.923760430703401,
        "z": 4.5,
      },
      {
        "x": 5.499999999999999,
        "y": 3.9237604307034015,
        "z": 6.5,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 6.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 6.1,
      },
      {
        "x": 3,
        "y": 4.212435565298215,
        "z": 3.999999999999999,
      },
      {
        "x": 3.4999999999999996,
        "y": 3.923760430703401,
        "z": 4.5,
      },
      {
        "x": 5.5,
        "y": 3.923760430703401,
        "z": 4.5,
      },
    ],
    [
      {
        "x": 7.1,
        "y": 3,
        "z": 8.1,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 8.1,
      },
      {
        "x": 5.499999999999999,
        "y": 3.9237604307034015,
        "z": 6.5,
      },
    ],
    [
      {
        "x": 7.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 8.1,
      },
      {
        "x": 5.499999999999999,
        "y": 3.9237604307034015,
        "z": 6.5,
      },
      {
        "x": 5.5,
        "y": 3.923760430703401,
        "z": 4.5,
      },
    ],
    [
      {
        "x": 5.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 5.5,
        "y": 3.923760430703401,
        "z": 4.5,
      },
      {
        "x": 3.4999999999999996,
        "y": 3.923760430703401,
        "z": 4.5,
      },
    ],
    [
      {
        "x": 5.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 5.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 3.4999999999999996,
        "y": 3.923760430703401,
        "z": 4.5,
      },
      {
        "x": 3,
        "y": 4.212435565298215,
        "z": 3.999999999999999,
      },
      {
        "x": 3,
        "y": 4.212435565298214,
        "z": 2.9999999999999996,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 5.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 3,
        "y": 4.212435565298214,
        "z": 2.9999999999999996,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 6.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 3,
        "y": 4.212435565298214,
        "z": 2.9999999999999996,
      },
      {
        "x": 3,
        "y": 4.212435565298215,
        "z": 3.999999999999999,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 3.9,
        "y": 6.1,
      },
      "original": {
        "x": 4,
        "y": 6,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 8.1,
      },
      "original": {
        "x": 4,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 8.1,
      },
      "original": {
        "x": 7,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 2.9,
      },
      "original": {
        "x": 7,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 5.1,
        "y": 2.9,
      },
      "original": {
        "x": 5,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 5.1,
        "y": 0.9,
      },
      "original": {
        "x": 5,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 6.1,
      },
      "original": {
        "x": 1,
        "y": 6,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 5.5,
          "y": 4.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 5.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.4999999999999996,
        "y": 4.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.5,
          "y": 4.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 3.9,
          "y": 8.1,
          "z": 3,
        },
        Vector3 {
          "x": 7.1,
          "y": 8.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.499999999999999,
        "y": 6.5,
        "z": 3.9237604307034015,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3,
        "y": 2.9999999999999996,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.4999999999999996,
          "y": 4.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 3,
          "y": 2.9999999999999996,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 0.9,
          "y": 6.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3,
        "y": 3.999999999999999,
        "z": 4.212435565298215,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 6.1,
          "z": 3,
        },
        Vector3 {
          "x": 7.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.5,
        "y": 4.5,
        "z": 3.923760430703401,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": 3.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 5.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 5.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 6.1,
    },
    {
      "x": 3.4999999999999996,
      "y": 3.923760430703401,
      "z": 4.5,
    },
    {
      "x": 5.499999999999999,
      "y": 3.9237604307034015,
      "z": 6.5,
    },
    {
      "x": 3,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
    {
      "x": 3,
      "y": 4.212435565298215,
      "z": 3.999999999999999,
    },
    {
      "x": 5.5,
      "y": 3.923760430703401,
      "z": 4.5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: d_square_3 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 6.9,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": 6.9,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 8.5,
        "y": 3.923760430703401,
        "z": 5.5,
      },
      {
        "x": 9,
        "y": 4.212435565298214,
        "z": 6,
      },
      {
        "x": 9,
        "y": 4.212435565298214,
        "z": 8,
      },
    ],
    [
      {
        "x": 6.9,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 4,
        "y": 4.78978583448784,
        "z": 4,
      },
      {
        "x": 5,
        "y": 4.78978583448784,
        "z": 4,
      },
      {
        "x": 6.5,
        "y": 3.923760430703401,
        "z": 5.5,
      },
      {
        "x": 8.5,
        "y": 3.923760430703401,
        "z": 5.5,
      },
    ],
    [
      {
        "x": 11.1,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": 6.9,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": 9,
        "y": 4.212435565298214,
        "z": 8,
      },
    ],
    [
      {
        "x": 11.1,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 11.1,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": 9,
        "y": 4.212435565298214,
        "z": 8,
      },
      {
        "x": 9,
        "y": 4.212435565298214,
        "z": 6,
      },
    ],
    [
      {
        "x": 8.1,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 11.1,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 9,
        "y": 4.212435565298214,
        "z": 6,
      },
      {
        "x": 8.5,
        "y": 3.923760430703401,
        "z": 5.5,
      },
      {
        "x": 6.5,
        "y": 3.923760430703401,
        "z": 5.5,
      },
    ],
    [
      {
        "x": 8.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 8.1,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 6.5,
        "y": 3.923760430703401,
        "z": 5.5,
      },
      {
        "x": 5,
        "y": 4.78978583448784,
        "z": 4,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 8.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 5,
        "y": 4.78978583448784,
        "z": 4,
      },
      {
        "x": 4,
        "y": 4.78978583448784,
        "z": 4,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 4,
        "y": 4.78978583448784,
        "z": 4,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 6.9,
        "y": 7.1,
      },
      "original": {
        "x": 7,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 6.9,
        "y": 10.1,
      },
      "original": {
        "x": 7,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 11.1,
        "y": 10.1,
      },
      "original": {
        "x": 11,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 11.1,
        "y": 3.9,
      },
      "original": {
        "x": 11,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 3.9,
      },
      "original": {
        "x": 8,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 0.9,
      },
      "original": {
        "x": 8,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 7.1,
      },
      "original": {
        "x": 1,
        "y": 7,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 6.9,
          "y": 10.1,
          "z": 3,
        },
        Vector3 {
          "x": 11.1,
          "y": 10.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 8,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9,
          "y": 8,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 11.1,
          "y": 3.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 6,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.9,
          "y": 7.1,
          "z": 3,
        },
        Vector3 {
          "x": 9,
          "y": 6,
          "z": 4.212435565298214,
        },
      ],
      "source": Vector3 {
        "x": 8.5,
        "y": 5.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.5,
          "y": 5.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 8.1,
          "y": 3.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.5,
        "y": 5.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 7.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 4,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.5,
          "y": 5.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 8.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 4,
          "y": 4,
          "z": 4.78978583448784,
        },
      ],
      "source": Vector3 {
        "x": 5,
        "y": 4,
        "z": 4.78978583448784,
      },
    },
  ],
  "skeletonNodeCount": 6,
  "vertexCount": 14,
  "vertices": [
    {
      "x": 6.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 6.9,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 11.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 9,
      "y": 4.212435565298214,
      "z": 8,
    },
    {
      "x": 9,
      "y": 4.212435565298214,
      "z": 6,
    },
    {
      "x": 8.5,
      "y": 3.923760430703401,
      "z": 5.5,
    },
    {
      "x": 6.5,
      "y": 3.923760430703401,
      "z": 5.5,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 5,
      "y": 4.78978583448784,
      "z": 4,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: d_square_4_tier2 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": -1.93,
        "y": 3,
        "z": 1.73,
      },
      {
        "x": -1.32,
        "y": 3,
        "z": 1.73,
      },
      {
        "x": 0.9150000000000003,
        "y": 4.290377851638814,
        "z": 3.965,
      },
      {
        "x": 0.6100000000000003,
        "y": 4.466469683741649,
        "z": 4.27,
      },
    ],
    [
      {
        "x": -1.32,
        "y": 3,
        "z": 1.73,
      },
      {
        "x": -1.32,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": 0.9150000000000003,
        "y": 4.290377851638814,
        "z": 0.9150000000000003,
      },
      {
        "x": 0.9150000000000003,
        "y": 4.290377851638814,
        "z": 3.965,
      },
    ],
    [
      {
        "x": -1.93,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": -1.93,
        "y": 3,
        "z": 1.73,
      },
      {
        "x": 0.6100000000000003,
        "y": 4.466469683741649,
        "z": 4.27,
      },
    ],
    [
      {
        "x": 3.15,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": -1.93,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 0.6100000000000003,
        "y": 4.466469683741649,
        "z": 4.27,
      },
    ],
    [
      {
        "x": 3.15,
        "y": 3,
        "z": 2.54,
      },
      {
        "x": 3.15,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 0.6100000000000003,
        "y": 4.466469683741649,
        "z": 4.27,
      },
      {
        "x": 0.9150000000000003,
        "y": 4.290377851638814,
        "z": 3.965,
      },
      {
        "x": 0.9150000000000003,
        "y": 4.290377851638814,
        "z": 0.9150000000000003,
      },
      {
        "x": 1.2200000000000002,
        "y": 4.114286019535978,
        "z": 0.6100000000000003,
      },
    ],
    [
      {
        "x": 6.81,
        "y": 3,
        "z": 2.54,
      },
      {
        "x": 3.15,
        "y": 3,
        "z": 2.54,
      },
      {
        "x": 1.2200000000000002,
        "y": 4.114286019535978,
        "z": 0.6100000000000003,
      },
      {
        "x": 4.88,
        "y": 4.114286019535977,
        "z": 0.6100000000000001,
      },
    ],
    [
      {
        "x": 6.81,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": 6.81,
        "y": 3,
        "z": 2.54,
      },
      {
        "x": 4.88,
        "y": 4.114286019535977,
        "z": 0.6100000000000001,
      },
    ],
    [
      {
        "x": -1.32,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": 6.81,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": 4.88,
        "y": 4.114286019535977,
        "z": 0.6100000000000001,
      },
      {
        "x": 1.2200000000000002,
        "y": 4.114286019535978,
        "z": 0.6100000000000003,
      },
      {
        "x": 0.9150000000000003,
        "y": 4.290377851638814,
        "z": 0.9150000000000003,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -1.32,
        "y": 1.73,
      },
      "original": {
        "x": -1.22,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -1.93,
        "y": 1.73,
      },
      "original": {
        "x": -1.83,
        "y": 1.83,
      },
    },
    {
      "offset": {
        "x": -1.93,
        "y": 6.81,
      },
      "original": {
        "x": -1.83,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 3.15,
        "y": 6.81,
      },
      "original": {
        "x": 3.05,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 3.15,
        "y": 2.54,
      },
      "original": {
        "x": 3.05,
        "y": 2.44,
      },
    },
    {
      "offset": {
        "x": 6.81,
        "y": 2.54,
      },
      "original": {
        "x": 6.71,
        "y": 2.44,
      },
    },
    {
      "offset": {
        "x": 6.81,
        "y": -1.32,
      },
      "original": {
        "x": 6.71,
        "y": -1.22,
      },
    },
    {
      "offset": {
        "x": -1.32,
        "y": -1.32,
      },
      "original": {
        "x": -1.22,
        "y": -1.22,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 3.15,
          "y": 2.54,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.2200000000000002,
        "y": 0.6100000000000003,
        "z": 4.114286019535978,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2200000000000002,
          "y": 0.6100000000000003,
          "z": 4.114286019535978,
        },
        Vector3 {
          "x": 6.81,
          "y": 2.54,
          "z": 3,
        },
        Vector3 {
          "x": 6.81,
          "y": -1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.88,
        "y": 0.6100000000000001,
        "z": 4.114286019535977,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2200000000000002,
          "y": 0.6100000000000003,
          "z": 4.114286019535978,
        },
        Vector3 {
          "x": -1.32,
          "y": -1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9150000000000003,
        "y": 0.9150000000000003,
        "z": 4.290377851638814,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9150000000000003,
          "y": 0.9150000000000003,
          "z": 4.290377851638814,
        },
        Vector3 {
          "x": -1.32,
          "y": 1.73,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9150000000000003,
        "y": 3.965,
        "z": 4.290377851638814,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.93,
          "y": 1.73,
          "z": 3,
        },
        Vector3 {
          "x": -1.93,
          "y": 6.81,
          "z": 3,
        },
        Vector3 {
          "x": 0.9150000000000003,
          "y": 3.965,
          "z": 4.290377851638814,
        },
        Vector3 {
          "x": 3.15,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.6100000000000003,
        "y": 4.27,
        "z": 4.466469683741649,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": -1.32,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 1.73,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": 2.54,
    },
    {
      "x": 6.81,
      "y": 3,
      "z": 2.54,
    },
    {
      "x": 6.81,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -1.32,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": 1.2200000000000002,
      "y": 4.114286019535978,
      "z": 0.6100000000000003,
    },
    {
      "x": 4.88,
      "y": 4.114286019535977,
      "z": 0.6100000000000001,
    },
    {
      "x": 0.9150000000000003,
      "y": 4.290377851638814,
      "z": 0.9150000000000003,
    },
    {
      "x": 0.9150000000000003,
      "y": 4.290377851638814,
      "z": 3.965,
    },
    {
      "x": 0.6100000000000003,
      "y": 4.466469683741649,
      "z": 4.27,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: half_iron_cross 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 4.9,
        "y": 3,
        "z": 9.84,
      },
      {
        "x": 14.78,
        "y": 3,
        "z": 14.78,
      },
      {
        "x": 20.000000000000004,
        "y": 4.347798204480182,
        "z": 20,
      },
      {
        "x": 20,
        "y": 7.827530304829147,
        "z": 26.73847223695745,
      },
      {
        "x": 14.54846144417766,
        "y": 8.570541812061697,
        "z": 25.451538555822346,
      },
    ],
    [
      {
        "x": 14.78,
        "y": 3,
        "z": 14.78,
      },
      {
        "x": 9.84,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 20.000000000000007,
        "y": 6.6253124320945895,
        "z": 11.179225325698926,
      },
      {
        "x": 20.000000000000004,
        "y": 4.347798204480182,
        "z": 20,
      },
    ],
    [
      {
        "x": 4.9,
        "y": 3,
        "z": 35.1,
      },
      {
        "x": 4.9,
        "y": 3,
        "z": 9.84,
      },
      {
        "x": 14.54846144417766,
        "y": 8.570541812061697,
        "z": 25.451538555822346,
      },
    ],
    [
      {
        "x": 35.1,
        "y": 3,
        "z": 35.1,
      },
      {
        "x": 4.9,
        "y": 3,
        "z": 35.1,
      },
      {
        "x": 14.54846144417766,
        "y": 8.570541812061697,
        "z": 25.451538555822346,
      },
      {
        "x": 20,
        "y": 7.827530304829147,
        "z": 26.73847223695745,
      },
      {
        "x": 25.451538555822346,
        "y": 8.570541812061697,
        "z": 25.451538555822346,
      },
    ],
    [
      {
        "x": 35.1,
        "y": 3,
        "z": 9.84,
      },
      {
        "x": 35.1,
        "y": 3,
        "z": 35.1,
      },
      {
        "x": 25.451538555822346,
        "y": 8.570541812061697,
        "z": 25.451538555822346,
      },
    ],
    [
      {
        "x": 25.22,
        "y": 3,
        "z": 14.78,
      },
      {
        "x": 35.1,
        "y": 3,
        "z": 9.84,
      },
      {
        "x": 25.451538555822346,
        "y": 8.570541812061697,
        "z": 25.451538555822346,
      },
      {
        "x": 20,
        "y": 7.827530304829147,
        "z": 26.73847223695745,
      },
      {
        "x": 20.000000000000004,
        "y": 4.347798204480182,
        "z": 20,
      },
    ],
    [
      {
        "x": 30.16,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 25.22,
        "y": 3,
        "z": 14.78,
      },
      {
        "x": 20.000000000000004,
        "y": 4.347798204480182,
        "z": 20,
      },
      {
        "x": 20.000000000000007,
        "y": 6.6253124320945895,
        "z": 11.179225325698926,
      },
    ],
    [
      {
        "x": 9.84,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 30.16,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 20.000000000000007,
        "y": 6.6253124320945895,
        "z": 11.179225325698926,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 14.78,
        "y": 14.78,
      },
      "original": {
        "x": 15,
        "y": 15,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 9.84,
      },
      "original": {
        "x": 5,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 35.1,
      },
      "original": {
        "x": 5,
        "y": 35,
      },
    },
    {
      "offset": {
        "x": 35.1,
        "y": 35.1,
      },
      "original": {
        "x": 35,
        "y": 35,
      },
    },
    {
      "offset": {
        "x": 35.1,
        "y": 9.84,
      },
      "original": {
        "x": 35,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 25.22,
        "y": 14.78,
      },
      "original": {
        "x": 25,
        "y": 15,
      },
    },
    {
      "offset": {
        "x": 30.16,
        "y": 4.9,
      },
      "original": {
        "x": 30,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 9.84,
        "y": 4.9,
      },
      "original": {
        "x": 10,
        "y": 5,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 20.000000000000004,
          "y": 20,
          "z": 4.347798204480182,
        },
        Vector3 {
          "x": 30.16,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 9.84,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 20.000000000000007,
        "y": 11.179225325698926,
        "z": 6.6253124320945895,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.9,
          "y": 9.84,
          "z": 3,
        },
        Vector3 {
          "x": 4.9,
          "y": 35.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 14.54846144417766,
        "y": 25.451538555822346,
        "z": 8.570541812061697,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 20.000000000000004,
          "y": 20,
          "z": 4.347798204480182,
        },
        Vector3 {
          "x": 14.54846144417766,
          "y": 25.451538555822346,
          "z": 8.570541812061697,
        },
      ],
      "source": Vector3 {
        "x": 20,
        "y": 26.73847223695745,
        "z": 7.827530304829147,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 20,
          "y": 26.73847223695745,
          "z": 7.827530304829147,
        },
        Vector3 {
          "x": 35.1,
          "y": 35.1,
          "z": 3,
        },
        Vector3 {
          "x": 35.1,
          "y": 9.84,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 25.451538555822346,
        "y": 25.451538555822346,
        "z": 8.570541812061697,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 25.22,
          "y": 14.78,
          "z": 3,
        },
        Vector3 {
          "x": 14.78,
          "y": 14.78,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 20.000000000000004,
        "y": 20,
        "z": 4.347798204480182,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": 14.78,
      "y": 3,
      "z": 14.78,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 9.84,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 35.1,
    },
    {
      "x": 35.1,
      "y": 3,
      "z": 35.1,
    },
    {
      "x": 35.1,
      "y": 3,
      "z": 9.84,
    },
    {
      "x": 25.22,
      "y": 3,
      "z": 14.78,
    },
    {
      "x": 30.16,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 9.84,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 20.000000000000007,
      "y": 6.6253124320945895,
      "z": 11.179225325698926,
    },
    {
      "x": 14.54846144417766,
      "y": 8.570541812061697,
      "z": 25.451538555822346,
    },
    {
      "x": 20,
      "y": 7.827530304829147,
      "z": 26.73847223695745,
    },
    {
      "x": 25.451538555822346,
      "y": 8.570541812061697,
      "z": 25.451538555822346,
    },
    {
      "x": 20.000000000000004,
      "y": 4.347798204480182,
      "z": 20,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: l_shape_1 1`] = `
{
  "faceCount": 6,
  "faces": [
    [
      {
        "x": 12.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 8.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 12,
      },
      {
        "x": 8,
        "y": 5.367136103677465,
        "z": 10,
      },
    ],
    [
      {
        "x": 8.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 8.1,
        "y": 3,
        "z": 16.1,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 14.000000000000002,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 12,
      },
    ],
    [
      {
        "x": 12.1,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 12.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 8,
        "y": 5.367136103677465,
        "z": 10,
      },
      {
        "x": 8,
        "y": 5.367136103677465,
        "z": 8,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 12.1,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 8,
        "y": 5.367136103677465,
        "z": 8,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 16.1,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 8,
        "y": 5.367136103677465,
        "z": 8,
      },
      {
        "x": 8,
        "y": 5.367136103677465,
        "z": 10,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 12,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 14.000000000000002,
      },
    ],
    [
      {
        "x": 8.1,
        "y": 3,
        "z": 16.1,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 16.1,
      },
      {
        "x": 6,
        "y": 4.212435565298214,
        "z": 14.000000000000002,
      },
    ],
  ],
  "inputPolygonVertexCount": 6,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 8.1,
        "y": 14.1,
      },
      "original": {
        "x": 8,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 14.1,
      },
      "original": {
        "x": 12,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 3.9,
      },
      "original": {
        "x": 12,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 3.9,
      },
      "original": {
        "x": 4,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 16.1,
      },
      "original": {
        "x": 4,
        "y": 16,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 16.1,
      },
      "original": {
        "x": 8,
        "y": 16,
      },
    },
  ],
  "preparedPolygonVertexCount": 6,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 16.1,
          "z": 3,
        },
        Vector3 {
          "x": 8.1,
          "y": 16.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 14.000000000000002,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 14.000000000000002,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 8.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 12,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 3.9,
          "z": 3,
        },
        Vector3 {
          "x": 3.9,
          "y": 3.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 8,
        "y": 8,
        "z": 5.367136103677465,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 12,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 12.1,
          "y": 14.1,
          "z": 3,
        },
        Vector3 {
          "x": 8,
          "y": 8,
          "z": 5.367136103677465,
        },
      ],
      "source": Vector3 {
        "x": 8,
        "y": 10,
        "z": 5.367136103677465,
      },
    },
  ],
  "skeletonNodeCount": 4,
  "vertexCount": 10,
  "vertices": [
    {
      "x": 8.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 16.1,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 14.000000000000002,
    },
    {
      "x": 6,
      "y": 4.212435565298214,
      "z": 12,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 8,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 10,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: l_shape_2 1`] = `
{
  "faceCount": 6,
  "faces": [
    [
      {
        "x": 10.1,
        "y": 3,
        "z": 4.1,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 4.1,
      },
      {
        "x": 6,
        "y": 3.6350852961085884,
        "z": 3,
      },
      {
        "x": 9,
        "y": 3.635085296108588,
        "z": 3,
      },
    ],
    [
      {
        "x": 7.1,
        "y": 3,
        "z": 4.1,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 4.5,
        "y": 4.501110699893027,
        "z": 4.5,
      },
      {
        "x": 6,
        "y": 3.6350852961085884,
        "z": 3,
      },
    ],
    [
      {
        "x": 10.1,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 10.1,
        "y": 3,
        "z": 4.1,
      },
      {
        "x": 9,
        "y": 3.635085296108588,
        "z": 3,
      },
    ],
    [
      {
        "x": 1.9,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 10.1,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 9,
        "y": 3.635085296108588,
        "z": 3,
      },
      {
        "x": 6,
        "y": 3.6350852961085884,
        "z": 3,
      },
      {
        "x": 4.5,
        "y": 4.501110699893027,
        "z": 4.5,
      },
    ],
    [
      {
        "x": 1.9,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 4.5,
        "y": 4.501110699893027,
        "z": 4.5,
      },
    ],
    [
      {
        "x": 7.1,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 4.5,
        "y": 4.501110699893027,
        "z": 4.5,
      },
    ],
  ],
  "inputPolygonVertexCount": 6,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 7.1,
        "y": 4.1,
      },
      "original": {
        "x": 7,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 4.1,
      },
      "original": {
        "x": 10,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 1.9,
      },
      "original": {
        "x": 10,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 1.9,
      },
      "original": {
        "x": 2,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 7.1,
      },
      "original": {
        "x": 2,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 7.1,
      },
      "original": {
        "x": 7,
        "y": 7,
      },
    },
  ],
  "preparedPolygonVertexCount": 6,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 7.1,
          "y": 4.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 3,
        "z": 3.6350852961085884,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 3,
          "z": 3.6350852961085884,
        },
        Vector3 {
          "x": 10.1,
          "y": 4.1,
          "z": 3,
        },
        Vector3 {
          "x": 10.1,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 3,
        "z": 3.635085296108588,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.9,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": 1.9,
          "y": 7.1,
          "z": 3,
        },
        Vector3 {
          "x": 6,
          "y": 3,
          "z": 3.6350852961085884,
        },
        Vector3 {
          "x": 7.1,
          "y": 7.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.5,
        "y": 4.5,
        "z": 4.501110699893027,
      },
    },
  ],
  "skeletonNodeCount": 3,
  "vertexCount": 9,
  "vertices": [
    {
      "x": 7.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 6,
      "y": 3.6350852961085884,
      "z": 3,
    },
    {
      "x": 9,
      "y": 3.635085296108588,
      "z": 3,
    },
    {
      "x": 4.5,
      "y": 4.501110699893027,
      "z": 4.5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: l_shape_3 1`] = `
{
  "faceCount": 6,
  "faces": [
    [
      {
        "x": 13.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 5,
        "y": 4.212435565298215,
        "z": 3,
      },
      {
        "x": 11,
        "y": 4.212435565298214,
        "z": 3,
      },
    ],
    [
      {
        "x": 7.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 8.1,
      },
      {
        "x": 3.9999999999999996,
        "y": 4.789785834487839,
        "z": 5,
      },
      {
        "x": 4,
        "y": 4.78978583448784,
        "z": 4,
      },
      {
        "x": 5,
        "y": 4.212435565298215,
        "z": 3,
      },
    ],
    [
      {
        "x": 13.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 13.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 11,
        "y": 4.212435565298214,
        "z": 3,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 13.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 11,
        "y": 4.212435565298214,
        "z": 3,
      },
      {
        "x": 5,
        "y": 4.212435565298215,
        "z": 3,
      },
      {
        "x": 4,
        "y": 4.78978583448784,
        "z": 4,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 8.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 4,
        "y": 4.78978583448784,
        "z": 4,
      },
      {
        "x": 3.9999999999999996,
        "y": 4.789785834487839,
        "z": 5,
      },
    ],
    [
      {
        "x": 7.1,
        "y": 3,
        "z": 8.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 8.1,
      },
      {
        "x": 3.9999999999999996,
        "y": 4.789785834487839,
        "z": 5,
      },
    ],
  ],
  "inputPolygonVertexCount": 6,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 7.1,
        "y": 5.1,
      },
      "original": {
        "x": 7,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 13.1,
        "y": 5.1,
      },
      "original": {
        "x": 13,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 13.1,
        "y": 0.9,
      },
      "original": {
        "x": 13,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 8.1,
      },
      "original": {
        "x": 1,
        "y": 8,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 8.1,
      },
      "original": {
        "x": 7,
        "y": 8,
      },
    },
  ],
  "preparedPolygonVertexCount": 6,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 7.1,
          "y": 5.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5,
        "y": 3,
        "z": 4.212435565298215,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5,
          "y": 3,
          "z": 4.212435565298215,
        },
        Vector3 {
          "x": 13.1,
          "y": 5.1,
          "z": 3,
        },
        Vector3 {
          "x": 13.1,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 11,
        "y": 3,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5,
          "y": 3,
          "z": 4.212435565298215,
        },
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 4,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4,
          "y": 4,
          "z": 4.78978583448784,
        },
        Vector3 {
          "x": 0.9,
          "y": 8.1,
          "z": 3,
        },
        Vector3 {
          "x": 7.1,
          "y": 8.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.9999999999999996,
        "y": 5,
        "z": 4.789785834487839,
      },
    },
  ],
  "skeletonNodeCount": 4,
  "vertexCount": 10,
  "vertices": [
    {
      "x": 7.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 13.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 13.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 8.1,
    },
    {
      "x": 5,
      "y": 4.212435565298215,
      "z": 3,
    },
    {
      "x": 11,
      "y": 4.212435565298214,
      "z": 3,
    },
    {
      "x": 4,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 3.9999999999999996,
      "y": 4.789785834487839,
      "z": 5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: rectangle 1`] = `
{
  "faceCount": 4,
  "faces": [
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 8,
        "y": 5.367136103677465,
        "z": 8,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 24.1,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 20,
        "y": 5.367136103677465,
        "z": 8,
      },
      {
        "x": 8,
        "y": 5.367136103677465,
        "z": 8,
      },
    ],
    [
      {
        "x": 24.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 8,
        "y": 5.367136103677465,
        "z": 8,
      },
      {
        "x": 20,
        "y": 5.367136103677465,
        "z": 8,
      },
    ],
    [
      {
        "x": 24.1,
        "y": 3,
        "z": 3.9,
      },
      {
        "x": 24.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 20,
        "y": 5.367136103677465,
        "z": 8,
      },
    ],
  ],
  "inputPolygonVertexCount": 4,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 3.9,
        "y": 3.9,
      },
      "original": {
        "x": 4,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 12.1,
      },
      "original": {
        "x": 4,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 24.1,
        "y": 12.1,
      },
      "original": {
        "x": 24,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 24.1,
        "y": 3.9,
      },
      "original": {
        "x": 24,
        "y": 4,
      },
    },
  ],
  "preparedPolygonVertexCount": 4,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 3.9,
          "y": 3.9,
          "z": 3,
        },
        Vector3 {
          "x": 3.9,
          "y": 12.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 8,
        "y": 8,
        "z": 5.367136103677465,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8,
          "y": 8,
          "z": 5.367136103677465,
        },
        Vector3 {
          "x": 24.1,
          "y": 12.1,
          "z": 3,
        },
        Vector3 {
          "x": 24.1,
          "y": 3.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 20,
        "y": 8,
        "z": 5.367136103677465,
      },
    },
  ],
  "skeletonNodeCount": 2,
  "vertexCount": 6,
  "vertices": [
    {
      "x": 3.9,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 24.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 24.1,
      "y": 3,
      "z": 3.9,
    },
    {
      "x": 8,
      "y": 5.367136103677465,
      "z": 8,
    },
    {
      "x": 20,
      "y": 5.367136103677465,
      "z": 8,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: simple_1 1`] = `
{
  "faceCount": 6,
  "faces": [
    [
      {
        "x": 16.04,
        "y": 3,
        "z": 14.18,
      },
      {
        "x": 8.99,
        "y": 3,
        "z": 7.14,
      },
      {
        "x": 9.126297778439174,
        "y": 4.286209718291461,
        "z": 4.127780581269664,
      },
      {
        "x": 13.144744034822164,
        "y": 5.246241908834426,
        "z": 5.790605112191723,
      },
      {
        "x": 14.944368566642424,
        "y": 4.731654207208618,
        "z": 8.847260643697126,
      },
    ],
    [
      {
        "x": 8.99,
        "y": 3,
        "z": 7.14,
      },
      {
        "x": 2.9,
        "y": 3,
        "z": 12.21,
      },
      {
        "x": 6.190045624922629,
        "y": 4.89950872719523,
        "z": 5.190045624922629,
      },
      {
        "x": 9.126297778439174,
        "y": 4.286209718291461,
        "z": 4.127780581269664,
      },
    ],
    [
      {
        "x": 18.11,
        "y": 3,
        "z": 9.01,
      },
      {
        "x": 16.04,
        "y": 3,
        "z": 14.18,
      },
      {
        "x": 14.944368566642424,
        "y": 4.731654207208618,
        "z": 8.847260643697126,
      },
    ],
    [
      {
        "x": 16.08,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 18.11,
        "y": 3,
        "z": 9.01,
      },
      {
        "x": 14.944368566642424,
        "y": 4.731654207208618,
        "z": 8.847260643697126,
      },
      {
        "x": 13.144744034822164,
        "y": 5.246241908834426,
        "z": 5.790605112191723,
      },
    ],
    [
      {
        "x": 2.9,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 16.08,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 13.144744034822164,
        "y": 5.246241908834426,
        "z": 5.790605112191723,
      },
      {
        "x": 9.126297778439174,
        "y": 4.286209718291461,
        "z": 4.127780581269664,
      },
      {
        "x": 6.190045624922629,
        "y": 4.89950872719523,
        "z": 5.190045624922629,
      },
    ],
    [
      {
        "x": 2.9,
        "y": 3,
        "z": 12.21,
      },
      {
        "x": 2.9,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 6.190045624922629,
        "y": 4.89950872719523,
        "z": 5.190045624922629,
      },
    ],
  ],
  "inputPolygonVertexCount": 6,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 8.99,
        "y": 7.14,
      },
      "original": {
        "x": 9,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 16.04,
        "y": 14.18,
      },
      "original": {
        "x": 16,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 18.11,
        "y": 9.01,
      },
      "original": {
        "x": 18,
        "y": 9,
      },
    },
    {
      "offset": {
        "x": 16.08,
        "y": 1.9,
      },
      "original": {
        "x": 16,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 2.9,
        "y": 1.9,
      },
      "original": {
        "x": 3,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 2.9,
        "y": 12.21,
      },
      "original": {
        "x": 3,
        "y": 12,
      },
    },
  ],
  "preparedPolygonVertexCount": 6,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 16.04,
          "y": 14.18,
          "z": 3,
        },
        Vector3 {
          "x": 18.11,
          "y": 9.01,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 14.944368566642424,
        "y": 8.847260643697126,
        "z": 4.731654207208618,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.9,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": 2.9,
          "y": 12.21,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.190045624922629,
        "y": 5.190045624922629,
        "z": 4.89950872719523,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.190045624922629,
          "y": 5.190045624922629,
          "z": 4.89950872719523,
        },
        Vector3 {
          "x": 8.99,
          "y": 7.14,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9.126297778439174,
        "y": 4.127780581269664,
        "z": 4.286209718291461,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.126297778439174,
          "y": 4.127780581269664,
          "z": 4.286209718291461,
        },
        Vector3 {
          "x": 14.944368566642424,
          "y": 8.847260643697126,
          "z": 4.731654207208618,
        },
        Vector3 {
          "x": 16.08,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 13.144744034822164,
        "y": 5.790605112191723,
        "z": 5.246241908834426,
      },
    },
  ],
  "skeletonNodeCount": 4,
  "vertexCount": 10,
  "vertices": [
    {
      "x": 8.99,
      "y": 3,
      "z": 7.14,
    },
    {
      "x": 16.04,
      "y": 3,
      "z": 14.18,
    },
    {
      "x": 18.11,
      "y": 3,
      "z": 9.01,
    },
    {
      "x": 16.08,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 2.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 2.9,
      "y": 3,
      "z": 12.21,
    },
    {
      "x": 14.944368566642424,
      "y": 4.731654207208618,
      "z": 8.847260643697126,
    },
    {
      "x": 6.190045624922629,
      "y": 4.89950872719523,
      "z": 5.190045624922629,
    },
    {
      "x": 9.126297778439174,
      "y": 4.286209718291461,
      "z": 4.127780581269664,
    },
    {
      "x": 13.144744034822164,
      "y": 5.246241908834426,
      "z": 5.790605112191723,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: simple_2 1`] = `
{
  "faceCount": 5,
  "faces": [
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 5.56,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 1.4,
      },
      {
        "x": 3.474404413487008,
        "y": 4.486333081129684,
        "z": 3.974404413487008,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 1.4,
      },
      {
        "x": 8.1,
        "y": 3,
        "z": 1.4,
      },
      {
        "x": 5.7265316068790195,
        "y": 4.3703226156814665,
        "z": 3.773468393120981,
      },
      {
        "x": 4.462436578847668,
        "y": 4.621923642854037,
        "z": 4.209254155420391,
      },
      {
        "x": 3.474404413487008,
        "y": 4.486333081129684,
        "z": 3.974404413487008,
      },
    ],
    [
      {
        "x": 4.79,
        "y": 3,
        "z": 7.52,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 5.56,
      },
      {
        "x": 3.474404413487008,
        "y": 4.486333081129684,
        "z": 3.974404413487008,
      },
      {
        "x": 4.462436578847668,
        "y": 4.621923642854037,
        "z": 4.209254155420391,
      },
    ],
    [
      {
        "x": 8.1,
        "y": 3,
        "z": 4.93,
      },
      {
        "x": 4.79,
        "y": 3,
        "z": 7.52,
      },
      {
        "x": 4.462436578847668,
        "y": 4.621923642854037,
        "z": 4.209254155420391,
      },
      {
        "x": 5.7265316068790195,
        "y": 4.3703226156814665,
        "z": 3.773468393120981,
      },
    ],
    [
      {
        "x": 8.1,
        "y": 3,
        "z": 1.4,
      },
      {
        "x": 8.1,
        "y": 3,
        "z": 4.93,
      },
      {
        "x": 5.7265316068790195,
        "y": 4.3703226156814665,
        "z": 3.773468393120981,
      },
    ],
  ],
  "inputPolygonVertexCount": 5,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 0.9,
        "y": 1.4,
      },
      "original": {
        "x": 1,
        "y": 1.5,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 5.56,
      },
      "original": {
        "x": 1,
        "y": 5.5,
      },
    },
    {
      "offset": {
        "x": 4.79,
        "y": 7.52,
      },
      "original": {
        "x": 4.78,
        "y": 7.4,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 4.93,
      },
      "original": {
        "x": 8,
        "y": 4.88,
      },
    },
    {
      "offset": {
        "x": 8.1,
        "y": 1.4,
      },
      "original": {
        "x": 8,
        "y": 1.5,
      },
    },
  ],
  "preparedPolygonVertexCount": 5,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 8.1,
          "y": 4.93,
          "z": 3,
        },
        Vector3 {
          "x": 8.1,
          "y": 1.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.7265316068790195,
        "y": 3.773468393120981,
        "z": 4.3703226156814665,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 1.4,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 5.56,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.474404413487008,
        "y": 3.974404413487008,
        "z": 4.486333081129684,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.474404413487008,
          "y": 3.974404413487008,
          "z": 4.486333081129684,
        },
        Vector3 {
          "x": 4.79,
          "y": 7.52,
          "z": 3,
        },
        Vector3 {
          "x": 5.7265316068790195,
          "y": 3.773468393120981,
          "z": 4.3703226156814665,
        },
      ],
      "source": Vector3 {
        "x": 4.462436578847668,
        "y": 4.209254155420391,
        "z": 4.621923642854037,
      },
    },
  ],
  "skeletonNodeCount": 3,
  "vertexCount": 8,
  "vertices": [
    {
      "x": 0.9,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 5.56,
    },
    {
      "x": 4.79,
      "y": 3,
      "z": 7.52,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 4.93,
    },
    {
      "x": 8.1,
      "y": 3,
      "z": 1.4,
    },
    {
      "x": 5.7265316068790195,
      "y": 4.3703226156814665,
      "z": 3.773468393120981,
    },
    {
      "x": 3.474404413487008,
      "y": 4.486333081129684,
      "z": 3.974404413487008,
    },
    {
      "x": 4.462436578847668,
      "y": 4.621923642854037,
      "z": 4.209254155420391,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: straight_cross 1`] = `
{
  "faceCount": 12,
  "faces": [
    [
      {
        "x": 9.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 9.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 7,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 2.9999999999999996,
      },
    ],
    [
      {
        "x": 9.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 14.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 12,
        "y": 4.212435565298214,
        "z": 7,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 7,
      },
    ],
    [
      {
        "x": 4.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 9.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 2.9999999999999996,
      },
    ],
    [
      {
        "x": 4.9,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 4.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 2.9999999999999996,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 7,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 4.9,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 7,
      },
      {
        "x": 2.9999999999999996,
        "y": 4.212435565298214,
        "z": 7,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 9.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 2.9999999999999996,
        "y": 4.212435565298214,
        "z": 7,
      },
    ],
    [
      {
        "x": 4.9,
        "y": 3,
        "z": 9.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 9.1,
      },
      {
        "x": 2.9999999999999996,
        "y": 4.212435565298214,
        "z": 7,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 7,
      },
    ],
    [
      {
        "x": 4.9,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 4.9,
        "y": 3,
        "z": 9.1,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 7,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 12,
      },
    ],
    [
      {
        "x": 9.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 4.9,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 12,
      },
    ],
    [
      {
        "x": 9.1,
        "y": 3,
        "z": 9.1,
      },
      {
        "x": 9.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 12,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 7,
      },
    ],
    [
      {
        "x": 14.1,
        "y": 3,
        "z": 9.1,
      },
      {
        "x": 9.1,
        "y": 3,
        "z": 9.1,
      },
      {
        "x": 7,
        "y": 4.212435565298214,
        "z": 7,
      },
      {
        "x": 12,
        "y": 4.212435565298214,
        "z": 7,
      },
    ],
    [
      {
        "x": 14.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 14.1,
        "y": 3,
        "z": 9.1,
      },
      {
        "x": 12,
        "y": 4.212435565298214,
        "z": 7,
      },
    ],
  ],
  "inputPolygonVertexCount": 12,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 9.1,
        "y": 4.9,
      },
      "original": {
        "x": 9,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 9.1,
        "y": 0.9,
      },
      "original": {
        "x": 9,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 0.9,
      },
      "original": {
        "x": 5,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 4.9,
      },
      "original": {
        "x": 5,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 4.9,
      },
      "original": {
        "x": 1,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 9.1,
      },
      "original": {
        "x": 1,
        "y": 9,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 9.1,
      },
      "original": {
        "x": 5,
        "y": 9,
      },
    },
    {
      "offset": {
        "x": 4.9,
        "y": 14.1,
      },
      "original": {
        "x": 5,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 9.1,
        "y": 14.1,
      },
      "original": {
        "x": 9,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 9.1,
        "y": 9.1,
      },
      "original": {
        "x": 9,
        "y": 9,
      },
    },
    {
      "offset": {
        "x": 14.1,
        "y": 9.1,
      },
      "original": {
        "x": 14,
        "y": 9,
      },
    },
    {
      "offset": {
        "x": 14.1,
        "y": 4.9,
      },
      "original": {
        "x": 14,
        "y": 5,
      },
    },
  ],
  "preparedPolygonVertexCount": 12,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 9.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.9999999999999996,
        "y": 7,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 4.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7,
        "y": 2.9999999999999996,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.9,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 2.9999999999999996,
          "y": 7,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 9.1,
          "y": 9.1,
          "z": 3,
        },
        Vector3 {
          "x": 4.9,
          "y": 9.1,
          "z": 3,
        },
        Vector3 {
          "x": 7,
          "y": 2.9999999999999996,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 9.1,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7,
        "y": 7,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7,
          "y": 7,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 4.9,
          "y": 14.1,
          "z": 3,
        },
        Vector3 {
          "x": 9.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7,
        "y": 12,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7,
          "y": 7,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 14.1,
          "y": 9.1,
          "z": 3,
        },
        Vector3 {
          "x": 14.1,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 12,
        "y": 7,
        "z": 4.212435565298214,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 17,
  "vertices": [
    {
      "x": 9.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 9.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 4.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 9.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 9.1,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 9.1,
    },
    {
      "x": 14.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 2.9999999999999996,
      "y": 4.212435565298214,
      "z": 7,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 7,
    },
    {
      "x": 7,
      "y": 4.212435565298214,
      "z": 12,
    },
    {
      "x": 12,
      "y": 4.212435565298214,
      "z": 7,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: t_shape_1 1`] = `
{
  "faceCount": 7,
  "faces": [
    [
      {
        "x": 6.1,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 6.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 4,
        "y": 4.212435565298215,
        "z": 5,
      },
      {
        "x": 6.1,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 6.1,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": 3,
        "y": 4.789785834487839,
        "z": 7,
      },
      {
        "x": 3,
        "y": 4.789785834487839,
        "z": 5.999999999999999,
      },
      {
        "x": 2.9999999999999996,
        "y": 4.78978583448784,
        "z": 3,
      },
    ],
    [
      {
        "x": 6.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 10.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 8,
        "y": 4.212435565298214,
        "z": 5,
      },
      {
        "x": 4,
        "y": 4.212435565298215,
        "z": 5,
      },
    ],
    [
      {
        "x": -0.1,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 6.1,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 2.9999999999999996,
        "y": 4.78978583448784,
        "z": 3,
      },
    ],
    [
      {
        "x": -0.1,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": -0.1,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 2.9999999999999996,
        "y": 4.78978583448784,
        "z": 3,
      },
      {
        "x": 3,
        "y": 4.789785834487839,
        "z": 5.999999999999999,
      },
      {
        "x": 3,
        "y": 4.789785834487839,
        "z": 7,
      },
    ],
    [
      {
        "x": 6.1,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": -0.1,
        "y": 3,
        "z": 10.1,
      },
      {
        "x": 3,
        "y": 4.789785834487839,
        "z": 7,
      },
    ],
    [
      {
        "x": 10.1,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 6.1,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 4,
        "y": 4.212435565298215,
        "z": 5,
      },
      {
        "x": 8,
        "y": 4.212435565298214,
        "z": 5,
      },
    ],
    [
      {
        "x": 10.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 10.1,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 8,
        "y": 4.212435565298214,
        "z": 5,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 6.1,
        "y": 2.9,
      },
      "original": {
        "x": 6,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 6.1,
        "y": -0.1,
      },
      "original": {
        "x": 6,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": -0.1,
      },
      "original": {
        "x": 0,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": 10.1,
      },
      "original": {
        "x": 0,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 6.1,
        "y": 10.1,
      },
      "original": {
        "x": 6,
        "y": 10,
      },
    },
    {
      "offset": {
        "x": 6.1,
        "y": 7.1,
      },
      "original": {
        "x": 6,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 7.1,
      },
      "original": {
        "x": 10,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 2.9,
      },
      "original": {
        "x": 10,
        "y": 3,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 6.1,
          "y": 7.1,
          "z": 3,
        },
        Vector3 {
          "x": 6.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4,
        "y": 5,
        "z": 4.212435565298215,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4,
          "y": 5,
          "z": 4.212435565298215,
        },
        Vector3 {
          "x": 10.1,
          "y": 7.1,
          "z": 3,
        },
        Vector3 {
          "x": 10.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 8,
        "y": 5,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.1,
          "y": -0.1,
          "z": 3,
        },
        Vector3 {
          "x": -0.1,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.9999999999999996,
        "y": 3,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3,
          "y": 5.999999999999999,
          "z": 4.789785834487839,
        },
        Vector3 {
          "x": -0.1,
          "y": 10.1,
          "z": 3,
        },
        Vector3 {
          "x": 6.1,
          "y": 10.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3,
        "y": 7,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.9999999999999996,
          "y": 3,
          "z": 4.78978583448784,
        },
      ],
      "source": Vector3 {
        "x": 3,
        "y": 5.999999999999999,
        "z": 4.789785834487839,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": 6.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 10.1,
    },
    {
      "x": 6.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 4,
      "y": 4.212435565298215,
      "z": 5,
    },
    {
      "x": 8,
      "y": 4.212435565298214,
      "z": 5,
    },
    {
      "x": 2.9999999999999996,
      "y": 4.78978583448784,
      "z": 3,
    },
    {
      "x": 3,
      "y": 4.789785834487839,
      "z": 7,
    },
    {
      "x": 3,
      "y": 4.789785834487839,
      "z": 5.999999999999999,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: t_shape_2 1`] = `
{
  "faceCount": 7,
  "faces": [
    [
      {
        "x": 12.1,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 12.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 9,
        "y": 4.789785834487839,
        "z": 8,
      },
      {
        "x": 12.1,
        "y": 3,
        "z": 11.1,
      },
      {
        "x": 12.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 7.5,
        "y": 5.655811238272278,
        "z": 9.5,
      },
      {
        "x": 6.999999999999999,
        "y": 5.944486372867091,
        "z": 9,
      },
      {
        "x": 6.999999999999999,
        "y": 5.944486372867091,
        "z": 7,
      },
    ],
    [
      {
        "x": 12.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 16.6,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 13.500000000000002,
        "y": 4.789785834487839,
        "z": 8,
      },
      {
        "x": 9,
        "y": 4.789785834487839,
        "z": 8,
      },
    ],
    [
      {
        "x": 1.9,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 12.1,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 6.999999999999999,
        "y": 5.944486372867091,
        "z": 7,
      },
    ],
    [
      {
        "x": 1.9,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 6.999999999999999,
        "y": 5.944486372867091,
        "z": 7,
      },
      {
        "x": 6.999999999999999,
        "y": 5.944486372867091,
        "z": 9,
      },
    ],
    [
      {
        "x": 12.1,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": 14.1,
      },
      {
        "x": 6.999999999999999,
        "y": 5.944486372867091,
        "z": 9,
      },
      {
        "x": 7.5,
        "y": 5.655811238272278,
        "z": 9.5,
      },
    ],
    [
      {
        "x": 16.6,
        "y": 3,
        "z": 11.1,
      },
      {
        "x": 12.1,
        "y": 3,
        "z": 11.1,
      },
      {
        "x": 9,
        "y": 4.789785834487839,
        "z": 8,
      },
      {
        "x": 13.500000000000002,
        "y": 4.789785834487839,
        "z": 8,
      },
    ],
    [
      {
        "x": 16.6,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 16.6,
        "y": 3,
        "z": 11.1,
      },
      {
        "x": 13.500000000000002,
        "y": 4.789785834487839,
        "z": 8,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 12.1,
        "y": 4.9,
      },
      "original": {
        "x": 12,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 1.9,
      },
      "original": {
        "x": 12,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 1.9,
      },
      "original": {
        "x": 2,
        "y": 2,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 14.1,
      },
      "original": {
        "x": 2,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 14.1,
      },
      "original": {
        "x": 12,
        "y": 14,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 11.1,
      },
      "original": {
        "x": 12,
        "y": 11,
      },
    },
    {
      "offset": {
        "x": 16.6,
        "y": 11.1,
      },
      "original": {
        "x": 16.5,
        "y": 11,
      },
    },
    {
      "offset": {
        "x": 16.6,
        "y": 4.9,
      },
      "original": {
        "x": 16.5,
        "y": 5,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 11.1,
          "z": 3,
        },
        Vector3 {
          "x": 12.1,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 8,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9,
          "y": 8,
          "z": 4.789785834487839,
        },
        Vector3 {
          "x": 16.6,
          "y": 11.1,
          "z": 3,
        },
        Vector3 {
          "x": 16.6,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 13.500000000000002,
        "y": 8,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7.5,
        "y": 9.5,
        "z": 5.655811238272278,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": 1.9,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.999999999999999,
        "y": 7,
        "z": 5.944486372867091,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.5,
          "y": 9.5,
          "z": 5.655811238272278,
        },
        Vector3 {
          "x": 6.999999999999999,
          "y": 7,
          "z": 5.944486372867091,
        },
        Vector3 {
          "x": 1.9,
          "y": 14.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.999999999999999,
        "y": 9,
        "z": 5.944486372867091,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": 12.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 14.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 16.6,
      "y": 3,
      "z": 11.1,
    },
    {
      "x": 16.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 9,
      "y": 4.789785834487839,
      "z": 8,
    },
    {
      "x": 13.500000000000002,
      "y": 4.789785834487839,
      "z": 8,
    },
    {
      "x": 7.5,
      "y": 5.655811238272278,
      "z": 9.5,
    },
    {
      "x": 6.999999999999999,
      "y": 5.944486372867091,
      "z": 7,
    },
    {
      "x": 6.999999999999999,
      "y": 5.944486372867091,
      "z": 9,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: t_shape_3 1`] = `
{
  "faceCount": 7,
  "faces": [
    [
      {
        "x": 7.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 6,
        "y": 3.6350852961085884,
        "z": 4,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 5,
        "y": 4.212435565298214,
        "z": 5,
      },
      {
        "x": 3.9999999999999996,
        "y": 4.789785834487839,
        "z": 4,
      },
    ],
    [
      {
        "x": 7.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 10.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 9,
        "y": 3.635085296108588,
        "z": 4,
      },
      {
        "x": 6,
        "y": 3.6350852961085884,
        "z": 4,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 3.9999999999999996,
        "y": 4.789785834487839,
        "z": 4,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 3.9999999999999996,
        "y": 4.789785834487839,
        "z": 4,
      },
    ],
    [
      {
        "x": 7.1,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 7.1,
      },
      {
        "x": 3.9999999999999996,
        "y": 4.789785834487839,
        "z": 4,
      },
      {
        "x": 5,
        "y": 4.212435565298214,
        "z": 5,
      },
    ],
    [
      {
        "x": 10.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 7.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 6,
        "y": 3.6350852961085884,
        "z": 4,
      },
      {
        "x": 9,
        "y": 3.635085296108588,
        "z": 4,
      },
    ],
    [
      {
        "x": 10.1,
        "y": 3,
        "z": 2.9,
      },
      {
        "x": 10.1,
        "y": 3,
        "z": 5.1,
      },
      {
        "x": 9,
        "y": 3.635085296108588,
        "z": 4,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 7.1,
        "y": 2.9,
      },
      "original": {
        "x": 7,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 0.9,
      },
      "original": {
        "x": 7,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 7.1,
      },
      "original": {
        "x": 1,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 7.1,
      },
      "original": {
        "x": 7,
        "y": 7,
      },
    },
    {
      "offset": {
        "x": 7.1,
        "y": 5.1,
      },
      "original": {
        "x": 7,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 5.1,
      },
      "original": {
        "x": 10,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 2.9,
      },
      "original": {
        "x": 10,
        "y": 3,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 7.1,
          "y": 5.1,
          "z": 3,
        },
        Vector3 {
          "x": 7.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6,
        "y": 4,
        "z": 3.6350852961085884,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6,
          "y": 4,
          "z": 3.6350852961085884,
        },
        Vector3 {
          "x": 10.1,
          "y": 5.1,
          "z": 3,
        },
        Vector3 {
          "x": 10.1,
          "y": 2.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9,
        "y": 4,
        "z": 3.635085296108588,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 7.1,
          "z": 3,
        },
        Vector3 {
          "x": 5,
          "y": 5,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 7.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.9999999999999996,
        "y": 4,
        "z": 4.789785834487839,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.1,
          "y": 7.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5,
        "y": 5,
        "z": 4.212435565298214,
      },
    },
  ],
  "skeletonNodeCount": 4,
  "vertexCount": 12,
  "vertices": [
    {
      "x": 7.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 7.1,
    },
    {
      "x": 7.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 5.1,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 2.9,
    },
    {
      "x": 6,
      "y": 3.6350852961085884,
      "z": 4,
    },
    {
      "x": 9,
      "y": 3.635085296108588,
      "z": 4,
    },
    {
      "x": 3.9999999999999996,
      "y": 4.789785834487839,
      "z": 4,
    },
    {
      "x": 5,
      "y": 4.212435565298214,
      "z": 5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: t_shape_4 1`] = `
{
  "faceCount": 7,
  "faces": [
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 7,
        "y": 4.78978583448784,
        "z": 8,
      },
      {
        "x": 10.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 15.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 11.5,
        "y": 5.078460969082652,
        "z": 8.5,
      },
      {
        "x": 7.5,
        "y": 5.078460969082652,
        "z": 8.5,
      },
      {
        "x": 4.5,
        "y": 5.078460969082652,
        "z": 8.5,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 7,
        "y": 4.78978583448784,
        "z": 4,
      },
      {
        "x": 7,
        "y": 4.78978583448784,
        "z": 8,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 4.5,
        "y": 5.078460969082652,
        "z": 8.5,
      },
    ],
    [
      {
        "x": 15.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 4.5,
        "y": 5.078460969082652,
        "z": 8.5,
      },
      {
        "x": 7.5,
        "y": 5.078460969082652,
        "z": 8.5,
      },
      {
        "x": 11.5,
        "y": 5.078460969082652,
        "z": 8.5,
      },
    ],
    [
      {
        "x": 15.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 15.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 11.5,
        "y": 5.078460969082652,
        "z": 8.5,
      },
    ],
    [
      {
        "x": 10.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 10.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 7,
        "y": 4.78978583448784,
        "z": 8,
      },
      {
        "x": 7,
        "y": 4.78978583448784,
        "z": 4,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 10.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 7,
        "y": 4.78978583448784,
        "z": 4,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 3.9,
        "y": 4.9,
      },
      "original": {
        "x": 4,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 4.9,
      },
      "original": {
        "x": 1,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 12.1,
      },
      "original": {
        "x": 1,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 15.1,
        "y": 12.1,
      },
      "original": {
        "x": 15,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 15.1,
        "y": 4.9,
      },
      "original": {
        "x": 15,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 4.9,
      },
      "original": {
        "x": 10,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 10.1,
        "y": 0.9,
      },
      "original": {
        "x": 10,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 0.9,
      },
      "original": {
        "x": 4,
        "y": 1,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 10.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 3.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7,
        "y": 4,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 10.1,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 7,
          "y": 4,
          "z": 4.78978583448784,
        },
        Vector3 {
          "x": 3.9,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7,
        "y": 8,
        "z": 4.78978583448784,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 12.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.5,
        "y": 8.5,
        "z": 5.078460969082652,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.5,
          "y": 8.5,
          "z": 5.078460969082652,
        },
        Vector3 {
          "x": 15.1,
          "y": 12.1,
          "z": 3,
        },
        Vector3 {
          "x": 15.1,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 11.5,
        "y": 8.5,
        "z": 5.078460969082652,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.5,
          "y": 8.5,
          "z": 5.078460969082652,
        },
      ],
      "source": Vector3 {
        "x": 7.5,
        "y": 8.5,
        "z": 5.078460969082652,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": 3.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 15.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 15.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 10.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 7,
      "y": 4.78978583448784,
      "z": 4,
    },
    {
      "x": 7,
      "y": 4.78978583448784,
      "z": 8,
    },
    {
      "x": 4.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 11.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
    {
      "x": 7.5,
      "y": 5.078460969082652,
      "z": 8.5,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: t_shape_5_tier2 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 2.95,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 2.95,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": 5.484999999999999,
        "y": 4.463582932395701,
        "z": 2.445,
      },
      {
        "x": 5.484999999999999,
        "y": 4.463582932395701,
        "z": 4.275,
      },
    ],
    [
      {
        "x": 2.95,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": -3.76,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": -0.30500000000000016,
        "y": 4.994745180050157,
        "z": 1.5250000000000004,
      },
      {
        "x": 0.3049999999999997,
        "y": 4.642561515844485,
        "z": 2.135,
      },
      {
        "x": 5.175,
        "y": 4.642561515844485,
        "z": 2.135,
      },
      {
        "x": 5.484999999999999,
        "y": 4.463582932395701,
        "z": 2.445,
      },
    ],
    [
      {
        "x": 8.02,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 2.95,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 5.484999999999999,
        "y": 4.463582932395701,
        "z": 4.275,
      },
    ],
    [
      {
        "x": 8.02,
        "y": 3,
        "z": -0.71,
      },
      {
        "x": 8.02,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 5.484999999999999,
        "y": 4.463582932395701,
        "z": 4.275,
      },
      {
        "x": 5.484999999999999,
        "y": 4.463582932395701,
        "z": 2.445,
      },
      {
        "x": 5.175,
        "y": 4.642561515844485,
        "z": 2.135,
      },
    ],
    [
      {
        "x": 3.15,
        "y": 3,
        "z": -0.71,
      },
      {
        "x": 8.02,
        "y": 3,
        "z": -0.71,
      },
      {
        "x": 5.175,
        "y": 4.642561515844485,
        "z": 2.135,
      },
      {
        "x": 0.3049999999999997,
        "y": 4.642561515844485,
        "z": 2.135,
      },
    ],
    [
      {
        "x": 3.15,
        "y": 3,
        "z": -6.2,
      },
      {
        "x": 3.15,
        "y": 3,
        "z": -0.71,
      },
      {
        "x": 0.3049999999999997,
        "y": 4.642561515844485,
        "z": 2.135,
      },
      {
        "x": -0.30500000000000016,
        "y": 4.994745180050157,
        "z": 1.5250000000000004,
      },
      {
        "x": -0.30500000000000016,
        "y": 4.994745180050157,
        "z": -2.745,
      },
    ],
    [
      {
        "x": -3.76,
        "y": 3,
        "z": -6.2,
      },
      {
        "x": 3.15,
        "y": 3,
        "z": -6.2,
      },
      {
        "x": -0.30500000000000016,
        "y": 4.994745180050157,
        "z": -2.745,
      },
    ],
    [
      {
        "x": -3.76,
        "y": 3,
        "z": 4.98,
      },
      {
        "x": -3.76,
        "y": 3,
        "z": -6.2,
      },
      {
        "x": -0.30500000000000016,
        "y": 4.994745180050157,
        "z": -2.745,
      },
      {
        "x": -0.30500000000000016,
        "y": 4.994745180050157,
        "z": 1.5250000000000004,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 2.95,
        "y": 4.98,
      },
      "original": {
        "x": 3.05,
        "y": 4.88,
      },
    },
    {
      "offset": {
        "x": 2.95,
        "y": 6.81,
      },
      "original": {
        "x": 3.05,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 8.02,
        "y": 6.81,
      },
      "original": {
        "x": 7.92,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 8.02,
        "y": -0.71,
      },
      "original": {
        "x": 7.92,
        "y": -0.61,
      },
    },
    {
      "offset": {
        "x": 3.15,
        "y": -0.71,
      },
      "original": {
        "x": 3.05,
        "y": -0.61,
      },
    },
    {
      "offset": {
        "x": 3.15,
        "y": -6.2,
      },
      "original": {
        "x": 3.05,
        "y": -6.1,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": -6.2,
      },
      "original": {
        "x": -3.66,
        "y": -6.1,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 4.98,
      },
      "original": {
        "x": -3.66,
        "y": 4.88,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 2.95,
          "y": 4.98,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.484999999999999,
        "y": 2.445,
        "z": 4.463582932395701,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.484999999999999,
          "y": 2.445,
          "z": 4.463582932395701,
        },
        Vector3 {
          "x": 2.95,
          "y": 6.81,
          "z": 3,
        },
        Vector3 {
          "x": 8.02,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.484999999999999,
        "y": 4.275,
        "z": 4.463582932395701,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.484999999999999,
          "y": 2.445,
          "z": 4.463582932395701,
        },
        Vector3 {
          "x": 8.02,
          "y": -0.71,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.175,
        "y": 2.135,
        "z": 4.642561515844485,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.175,
          "y": 2.135,
          "z": 4.642561515844485,
        },
        Vector3 {
          "x": 3.15,
          "y": -0.71,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.3049999999999997,
        "y": 2.135,
        "z": 4.642561515844485,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.15,
          "y": -6.2,
          "z": 3,
        },
        Vector3 {
          "x": -3.76,
          "y": -6.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.30500000000000016,
        "y": -2.745,
        "z": 4.994745180050157,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.3049999999999997,
          "y": 2.135,
          "z": 4.642561515844485,
        },
        Vector3 {
          "x": -0.30500000000000016,
          "y": -2.745,
          "z": 4.994745180050157,
        },
        Vector3 {
          "x": -3.76,
          "y": 4.98,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.30500000000000016,
        "y": 1.5250000000000004,
        "z": 4.994745180050157,
      },
    },
  ],
  "skeletonNodeCount": 6,
  "vertexCount": 14,
  "vertices": [
    {
      "x": 2.95,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 8.02,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": -0.71,
    },
    {
      "x": 3.15,
      "y": 3,
      "z": -6.2,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": -6.2,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 4.98,
    },
    {
      "x": 5.484999999999999,
      "y": 4.463582932395701,
      "z": 2.445,
    },
    {
      "x": 5.484999999999999,
      "y": 4.463582932395701,
      "z": 4.275,
    },
    {
      "x": 5.175,
      "y": 4.642561515844485,
      "z": 2.135,
    },
    {
      "x": 0.3049999999999997,
      "y": 4.642561515844485,
      "z": 2.135,
    },
    {
      "x": -0.30500000000000016,
      "y": 4.994745180050157,
      "z": -2.745,
    },
    {
      "x": -0.30500000000000016,
      "y": 4.994745180050157,
      "z": 1.5250000000000004,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: t_shape_6_tier2 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 17.78,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 16.56,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 15.584999999999997,
        "y": 3.5629165124598856,
        "z": 7.655,
      },
      {
        "x": 16.805,
        "y": 3.562916512459886,
        "z": 7.655,
      },
    ],
    [
      {
        "x": 16.56,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 16.56,
        "y": 3,
        "z": 12.29,
      },
      {
        "x": 14.02,
        "y": 4.466469683741649,
        "z": 9.75,
      },
      {
        "x": 14.02,
        "y": 4.466469683741649,
        "z": 9.219999999999999,
      },
      {
        "x": 15.584999999999997,
        "y": 3.5629165124598856,
        "z": 7.655,
      },
    ],
    [
      {
        "x": 17.78,
        "y": 3,
        "z": 6.68,
      },
      {
        "x": 17.78,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 16.805,
        "y": 3.562916512459886,
        "z": 7.655,
      },
    ],
    [
      {
        "x": 9.65,
        "y": 3,
        "z": 6.68,
      },
      {
        "x": 17.78,
        "y": 3,
        "z": 6.68,
      },
      {
        "x": 16.805,
        "y": 3.562916512459886,
        "z": 7.655,
      },
      {
        "x": 15.584999999999997,
        "y": 3.5629165124598856,
        "z": 7.655,
      },
      {
        "x": 14.02,
        "y": 4.466469683741649,
        "z": 9.219999999999999,
      },
      {
        "x": 12.455,
        "y": 3.5629165124598856,
        "z": 7.655,
      },
      {
        "x": 10.625,
        "y": 3.5629165124598847,
        "z": 7.655,
      },
    ],
    [
      {
        "x": 9.65,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 9.65,
        "y": 3,
        "z": 6.68,
      },
      {
        "x": 10.625,
        "y": 3.5629165124598847,
        "z": 7.655,
      },
    ],
    [
      {
        "x": 11.48,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 9.65,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 10.625,
        "y": 3.5629165124598847,
        "z": 7.655,
      },
      {
        "x": 12.455,
        "y": 3.5629165124598856,
        "z": 7.655,
      },
    ],
    [
      {
        "x": 11.48,
        "y": 3,
        "z": 12.29,
      },
      {
        "x": 11.48,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 12.455,
        "y": 3.5629165124598856,
        "z": 7.655,
      },
      {
        "x": 14.02,
        "y": 4.466469683741649,
        "z": 9.219999999999999,
      },
      {
        "x": 14.02,
        "y": 4.466469683741649,
        "z": 9.75,
      },
    ],
    [
      {
        "x": 16.56,
        "y": 3,
        "z": 12.29,
      },
      {
        "x": 11.48,
        "y": 3,
        "z": 12.29,
      },
      {
        "x": 14.02,
        "y": 4.466469683741649,
        "z": 9.75,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 16.56,
        "y": 8.63,
      },
      "original": {
        "x": 16.46,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 17.78,
        "y": 8.63,
      },
      "original": {
        "x": 17.68,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 17.78,
        "y": 6.68,
      },
      "original": {
        "x": 17.68,
        "y": 6.78,
      },
    },
    {
      "offset": {
        "x": 9.65,
        "y": 6.68,
      },
      "original": {
        "x": 9.75,
        "y": 6.78,
      },
    },
    {
      "offset": {
        "x": 9.65,
        "y": 8.63,
      },
      "original": {
        "x": 9.75,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 11.48,
        "y": 8.63,
      },
      "original": {
        "x": 11.58,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 11.48,
        "y": 12.29,
      },
      "original": {
        "x": 11.58,
        "y": 12.19,
      },
    },
    {
      "offset": {
        "x": 16.56,
        "y": 12.29,
      },
      "original": {
        "x": 16.46,
        "y": 12.19,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 9.65,
          "y": 6.68,
          "z": 3,
        },
        Vector3 {
          "x": 9.65,
          "y": 8.63,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 10.625,
        "y": 7.655,
        "z": 3.5629165124598847,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 10.625,
          "y": 7.655,
          "z": 3.5629165124598847,
        },
        Vector3 {
          "x": 11.48,
          "y": 8.63,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 12.455,
        "y": 7.655,
        "z": 3.5629165124598856,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 16.56,
          "y": 8.63,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 15.584999999999997,
        "y": 7.655,
        "z": 3.5629165124598856,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 15.584999999999997,
          "y": 7.655,
          "z": 3.5629165124598856,
        },
        Vector3 {
          "x": 17.78,
          "y": 8.63,
          "z": 3,
        },
        Vector3 {
          "x": 17.78,
          "y": 6.68,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 16.805,
        "y": 7.655,
        "z": 3.562916512459886,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 15.584999999999997,
          "y": 7.655,
          "z": 3.5629165124598856,
        },
        Vector3 {
          "x": 12.455,
          "y": 7.655,
          "z": 3.5629165124598856,
        },
      ],
      "source": Vector3 {
        "x": 14.02,
        "y": 9.219999999999999,
        "z": 4.466469683741649,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 14.02,
          "y": 9.219999999999999,
          "z": 4.466469683741649,
        },
        Vector3 {
          "x": 11.48,
          "y": 12.29,
          "z": 3,
        },
        Vector3 {
          "x": 16.56,
          "y": 12.29,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 14.02,
        "y": 9.75,
        "z": 4.466469683741649,
      },
    },
  ],
  "skeletonNodeCount": 6,
  "vertexCount": 14,
  "vertices": [
    {
      "x": 16.56,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 17.78,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 17.78,
      "y": 3,
      "z": 6.68,
    },
    {
      "x": 9.65,
      "y": 3,
      "z": 6.68,
    },
    {
      "x": 9.65,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 11.48,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 11.48,
      "y": 3,
      "z": 12.29,
    },
    {
      "x": 16.56,
      "y": 3,
      "z": 12.29,
    },
    {
      "x": 10.625,
      "y": 3.5629165124598847,
      "z": 7.655,
    },
    {
      "x": 12.455,
      "y": 3.5629165124598856,
      "z": 7.655,
    },
    {
      "x": 15.584999999999997,
      "y": 3.5629165124598856,
      "z": 7.655,
    },
    {
      "x": 16.805,
      "y": 3.562916512459886,
      "z": 7.655,
    },
    {
      "x": 14.02,
      "y": 4.466469683741649,
      "z": 9.219999999999999,
    },
    {
      "x": 14.02,
      "y": 4.466469683741649,
      "z": 9.75,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: t_shape_7_tier2 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 6.39,
        "y": 3,
        "z": 4.87,
      },
      {
        "x": 5.17,
        "y": 3,
        "z": 4.87,
      },
      {
        "x": 0.9099999999999975,
        "y": 5.459512146747807,
        "z": 0.610000000000003,
      },
      {
        "x": 2.129999999999999,
        "y": 5.459512146747806,
        "z": 0.6099999999999994,
      },
    ],
    [
      {
        "x": 5.17,
        "y": 3,
        "z": 4.87,
      },
      {
        "x": 5.17,
        "y": 3,
        "z": 7.61,
      },
      {
        "x": 0.6100000000000012,
        "y": 5.632717227504694,
        "z": 3.049999999999999,
      },
      {
        "x": 0.6099999999999997,
        "y": 5.632717227504694,
        "z": 0.9100000000000008,
      },
      {
        "x": 0.9099999999999975,
        "y": 5.459512146747807,
        "z": 0.610000000000003,
      },
    ],
    [
      {
        "x": 6.39,
        "y": 3,
        "z": -3.65,
      },
      {
        "x": 6.39,
        "y": 3,
        "z": 4.87,
      },
      {
        "x": 2.129999999999999,
        "y": 5.459512146747806,
        "z": 0.6099999999999994,
      },
    ],
    [
      {
        "x": -8.22,
        "y": 3,
        "z": -3.65,
      },
      {
        "x": 6.39,
        "y": 3,
        "z": -3.65,
      },
      {
        "x": 2.129999999999999,
        "y": 5.459512146747806,
        "z": 0.6099999999999994,
      },
      {
        "x": 0.9099999999999975,
        "y": 5.459512146747807,
        "z": 0.610000000000003,
      },
      {
        "x": 0.6099999999999997,
        "y": 5.632717227504694,
        "z": 0.9100000000000008,
      },
      {
        "x": 0.3099999999999996,
        "y": 5.459512146747805,
        "z": 0.6100000000000008,
      },
      {
        "x": -3.96,
        "y": 5.459512146747806,
        "z": 0.6100000000000008,
      },
    ],
    [
      {
        "x": -8.22,
        "y": 3,
        "z": 4.87,
      },
      {
        "x": -8.22,
        "y": 3,
        "z": -3.65,
      },
      {
        "x": -3.96,
        "y": 5.459512146747806,
        "z": 0.6100000000000008,
      },
    ],
    [
      {
        "x": -3.95,
        "y": 3,
        "z": 4.87,
      },
      {
        "x": -8.22,
        "y": 3,
        "z": 4.87,
      },
      {
        "x": -3.96,
        "y": 5.459512146747806,
        "z": 0.6100000000000008,
      },
      {
        "x": 0.3099999999999996,
        "y": 5.459512146747805,
        "z": 0.6100000000000008,
      },
    ],
    [
      {
        "x": -3.95,
        "y": 3,
        "z": 7.61,
      },
      {
        "x": -3.95,
        "y": 3,
        "z": 4.87,
      },
      {
        "x": 0.3099999999999996,
        "y": 5.459512146747805,
        "z": 0.6100000000000008,
      },
      {
        "x": 0.6099999999999997,
        "y": 5.632717227504694,
        "z": 0.9100000000000008,
      },
      {
        "x": 0.6100000000000012,
        "y": 5.632717227504694,
        "z": 3.049999999999999,
      },
    ],
    [
      {
        "x": 5.17,
        "y": 3,
        "z": 7.61,
      },
      {
        "x": -3.95,
        "y": 3,
        "z": 7.61,
      },
      {
        "x": 0.6100000000000012,
        "y": 5.632717227504694,
        "z": 3.049999999999999,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 5.17,
        "y": 4.87,
      },
      "original": {
        "x": 5.07,
        "y": 4.77,
      },
    },
    {
      "offset": {
        "x": 6.39,
        "y": 4.87,
      },
      "original": {
        "x": 6.29,
        "y": 4.77,
      },
    },
    {
      "offset": {
        "x": 6.39,
        "y": -3.65,
      },
      "original": {
        "x": 6.29,
        "y": -3.55,
      },
    },
    {
      "offset": {
        "x": -8.22,
        "y": -3.65,
      },
      "original": {
        "x": -8.12,
        "y": -3.55,
      },
    },
    {
      "offset": {
        "x": -8.22,
        "y": 4.87,
      },
      "original": {
        "x": -8.12,
        "y": 4.77,
      },
    },
    {
      "offset": {
        "x": -3.95,
        "y": 4.87,
      },
      "original": {
        "x": -3.85,
        "y": 4.77,
      },
    },
    {
      "offset": {
        "x": -3.95,
        "y": 7.61,
      },
      "original": {
        "x": -3.85,
        "y": 7.51,
      },
    },
    {
      "offset": {
        "x": 5.17,
        "y": 7.61,
      },
      "original": {
        "x": 5.07,
        "y": 7.51,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": -8.22,
          "y": -3.65,
          "z": 3,
        },
        Vector3 {
          "x": -8.22,
          "y": 4.87,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.96,
        "y": 0.6100000000000008,
        "z": 5.459512146747806,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.96,
          "y": 0.6100000000000008,
          "z": 5.459512146747806,
        },
        Vector3 {
          "x": -3.95,
          "y": 4.87,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.3099999999999996,
        "y": 0.6100000000000008,
        "z": 5.459512146747805,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.17,
          "y": 4.87,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9099999999999975,
        "y": 0.610000000000003,
        "z": 5.459512146747807,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9099999999999975,
          "y": 0.610000000000003,
          "z": 5.459512146747807,
        },
        Vector3 {
          "x": 6.39,
          "y": 4.87,
          "z": 3,
        },
        Vector3 {
          "x": 6.39,
          "y": -3.65,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.129999999999999,
        "y": 0.6099999999999994,
        "z": 5.459512146747806,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9099999999999975,
          "y": 0.610000000000003,
          "z": 5.459512146747807,
        },
        Vector3 {
          "x": 0.3099999999999996,
          "y": 0.6100000000000008,
          "z": 5.459512146747805,
        },
      ],
      "source": Vector3 {
        "x": 0.6099999999999997,
        "y": 0.9100000000000008,
        "z": 5.632717227504694,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.6099999999999997,
          "y": 0.9100000000000008,
          "z": 5.632717227504694,
        },
        Vector3 {
          "x": -3.95,
          "y": 7.61,
          "z": 3,
        },
        Vector3 {
          "x": 5.17,
          "y": 7.61,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.6100000000000012,
        "y": 3.049999999999999,
        "z": 5.632717227504694,
      },
    },
  ],
  "skeletonNodeCount": 6,
  "vertexCount": 14,
  "vertices": [
    {
      "x": 5.17,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": 6.39,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": 6.39,
      "y": 3,
      "z": -3.65,
    },
    {
      "x": -8.22,
      "y": 3,
      "z": -3.65,
    },
    {
      "x": -8.22,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": -3.95,
      "y": 3,
      "z": 4.87,
    },
    {
      "x": -3.95,
      "y": 3,
      "z": 7.61,
    },
    {
      "x": 5.17,
      "y": 3,
      "z": 7.61,
    },
    {
      "x": -3.96,
      "y": 5.459512146747806,
      "z": 0.6100000000000008,
    },
    {
      "x": 0.3099999999999996,
      "y": 5.459512146747805,
      "z": 0.6100000000000008,
    },
    {
      "x": 0.9099999999999975,
      "y": 5.459512146747807,
      "z": 0.610000000000003,
    },
    {
      "x": 2.129999999999999,
      "y": 5.459512146747806,
      "z": 0.6099999999999994,
    },
    {
      "x": 0.6099999999999997,
      "y": 5.632717227504694,
      "z": 0.9100000000000008,
    },
    {
      "x": 0.6100000000000012,
      "y": 5.632717227504694,
      "z": 3.049999999999999,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: t_shape_8_tier2 1`] = `
{
  "faceCount": 7,
  "faces": [
    [
      {
        "x": 4.6,
        "y": 3,
        "z": 1.3,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": 1.3,
      },
      {
        "x": 0.5999999999999996,
        "y": 3.750555349946514,
        "z": 2.220446049250313e-16,
      },
      {
        "x": -0.7,
        "y": 3,
        "z": 1.3,
      },
      {
        "x": -2.8,
        "y": 3,
        "z": 1.3,
      },
      {
        "x": -0.4500000000000002,
        "y": 4.35677313259562,
        "z": -1.05,
      },
      {
        "x": 2.2499999999999996,
        "y": 4.35677313259562,
        "z": -1.0499999999999998,
      },
    ],
    [
      {
        "x": 1.9,
        "y": 3,
        "z": 1.3,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": 5.5,
      },
      {
        "x": 0.6000000000000001,
        "y": 3.7505553499465134,
        "z": 4.2,
      },
      {
        "x": 0.5999999999999996,
        "y": 3.750555349946514,
        "z": 2.220446049250313e-16,
      },
    ],
    [
      {
        "x": 4.6,
        "y": 3,
        "z": -3.4,
      },
      {
        "x": 4.6,
        "y": 3,
        "z": 1.3,
      },
      {
        "x": 2.2499999999999996,
        "y": 4.35677313259562,
        "z": -1.0499999999999998,
      },
    ],
    [
      {
        "x": -2.8,
        "y": 3,
        "z": -3.4,
      },
      {
        "x": 4.6,
        "y": 3,
        "z": -3.4,
      },
      {
        "x": 2.2499999999999996,
        "y": 4.35677313259562,
        "z": -1.0499999999999998,
      },
      {
        "x": -0.4500000000000002,
        "y": 4.35677313259562,
        "z": -1.05,
      },
    ],
    [
      {
        "x": -2.8,
        "y": 3,
        "z": 1.3,
      },
      {
        "x": -2.8,
        "y": 3,
        "z": -3.4,
      },
      {
        "x": -0.4500000000000002,
        "y": 4.35677313259562,
        "z": -1.05,
      },
    ],
    [
      {
        "x": -0.7,
        "y": 3,
        "z": 5.5,
      },
      {
        "x": -0.7,
        "y": 3,
        "z": 1.3,
      },
      {
        "x": 0.5999999999999996,
        "y": 3.750555349946514,
        "z": 2.220446049250313e-16,
      },
      {
        "x": 0.6000000000000001,
        "y": 3.7505553499465134,
        "z": 4.2,
      },
    ],
    [
      {
        "x": 1.9,
        "y": 3,
        "z": 5.5,
      },
      {
        "x": -0.7,
        "y": 3,
        "z": 5.5,
      },
      {
        "x": 0.6000000000000001,
        "y": 3.7505553499465134,
        "z": 4.2,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 1.9,
        "y": 1.3,
      },
      "original": {
        "x": 1.8,
        "y": 1.2,
      },
    },
    {
      "offset": {
        "x": 4.6,
        "y": 1.3,
      },
      "original": {
        "x": 4.5,
        "y": 1.2,
      },
    },
    {
      "offset": {
        "x": 4.6,
        "y": -3.4,
      },
      "original": {
        "x": 4.5,
        "y": -3.3,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": -3.4,
      },
      "original": {
        "x": -2.7,
        "y": -3.3,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": 1.3,
      },
      "original": {
        "x": -2.7,
        "y": 1.2,
      },
    },
    {
      "offset": {
        "x": -0.7,
        "y": 1.3,
      },
      "original": {
        "x": -0.6,
        "y": 1.2,
      },
    },
    {
      "offset": {
        "x": -0.7,
        "y": 5.5,
      },
      "original": {
        "x": -0.6,
        "y": 5.4,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 5.5,
      },
      "original": {
        "x": 1.8,
        "y": 5.4,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": -0.7,
          "y": 1.3,
          "z": 3,
        },
        Vector3 {
          "x": 1.9,
          "y": 1.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.5999999999999996,
        "y": 2.220446049250313e-16,
        "z": 3.750555349946514,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.5999999999999996,
          "y": 2.220446049250313e-16,
          "z": 3.750555349946514,
        },
        Vector3 {
          "x": -0.7,
          "y": 5.5,
          "z": 3,
        },
        Vector3 {
          "x": 1.9,
          "y": 5.5,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.6000000000000001,
        "y": 4.2,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.4500000000000002,
          "y": -1.05,
          "z": 4.35677313259562,
        },
        Vector3 {
          "x": 4.6,
          "y": 1.3,
          "z": 3,
        },
        Vector3 {
          "x": 4.6,
          "y": -3.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.2499999999999996,
        "y": -1.0499999999999998,
        "z": 4.35677313259562,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8,
          "y": 1.3,
          "z": 3,
        },
        Vector3 {
          "x": -2.8,
          "y": -3.4,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.4500000000000002,
        "y": -1.05,
        "z": 4.35677313259562,
      },
    },
  ],
  "skeletonNodeCount": 4,
  "vertexCount": 12,
  "vertices": [
    {
      "x": 1.9,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": 4.6,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": 4.6,
      "y": 3,
      "z": -3.4,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -3.4,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": -0.7,
      "y": 3,
      "z": 1.3,
    },
    {
      "x": -0.7,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": 0.5999999999999996,
      "y": 3.750555349946514,
      "z": 2.220446049250313e-16,
    },
    {
      "x": 0.6000000000000001,
      "y": 3.7505553499465134,
      "z": 4.2,
    },
    {
      "x": 2.2499999999999996,
      "y": 4.35677313259562,
      "z": -1.0499999999999998,
    },
    {
      "x": -0.4500000000000002,
      "y": 4.35677313259562,
      "z": -1.05,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: t_shape_9_tier2 1`] = `
{
  "faceCount": 7,
  "faces": [
    [
      {
        "x": -2.2,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -2.2,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -1.05,
        "y": 3.6639528095680696,
        "z": 0.7499999999999998,
      },
      {
        "x": -1.0499999999999998,
        "y": 3.6639528095680696,
        "z": 1.9499999999999997,
      },
    ],
    [
      {
        "x": -2.2,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -2.8,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -1.3499999999999999,
        "y": 3.8371578903249572,
        "z": 0.4499999999999999,
      },
      {
        "x": -0.7499999999999999,
        "y": 4.183568051838733,
        "z": -0.15000000000000008,
      },
      {
        "x": 6.1499999999999995,
        "y": 4.183568051838733,
        "z": -0.15000000000000008,
      },
      {
        "x": 8.2,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 0.1,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -1.05,
        "y": 3.6639528095680696,
        "z": 0.7499999999999998,
      },
    ],
    [
      {
        "x": 0.1,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -2.2,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -1.0499999999999998,
        "y": 3.6639528095680696,
        "z": 1.9499999999999997,
      },
    ],
    [
      {
        "x": 0.1,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 0.1,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -1.0499999999999998,
        "y": 3.6639528095680696,
        "z": 1.9499999999999997,
      },
      {
        "x": -1.05,
        "y": 3.6639528095680696,
        "z": 0.7499999999999998,
      },
    ],
    [
      {
        "x": 8.2,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": 8.2,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": 6.1499999999999995,
        "y": 4.183568051838733,
        "z": -0.15000000000000008,
      },
    ],
    [
      {
        "x": -2.8,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": 8.2,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": 6.1499999999999995,
        "y": 4.183568051838733,
        "z": -0.15000000000000008,
      },
      {
        "x": -0.7499999999999999,
        "y": 4.183568051838733,
        "z": -0.15000000000000008,
      },
    ],
    [
      {
        "x": -2.8,
        "y": 3,
        "z": 1.9,
      },
      {
        "x": -2.8,
        "y": 3,
        "z": -2.2,
      },
      {
        "x": -0.7499999999999999,
        "y": 4.183568051838733,
        "z": -0.15000000000000008,
      },
      {
        "x": -1.3499999999999999,
        "y": 3.8371578903249572,
        "z": 0.4499999999999999,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -2.2,
        "y": 1.9,
      },
      "original": {
        "x": -2.1,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": -2.2,
        "y": 3.1,
      },
      "original": {
        "x": -2.1,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 3.1,
      },
      "original": {
        "x": 0,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 1.9,
      },
      "original": {
        "x": 0,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": 8.2,
        "y": 1.9,
      },
      "original": {
        "x": 8.1,
        "y": 1.8,
      },
    },
    {
      "offset": {
        "x": 8.2,
        "y": -2.2,
      },
      "original": {
        "x": 8.1,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": -2.2,
      },
      "original": {
        "x": -2.7,
        "y": -2.1,
      },
    },
    {
      "offset": {
        "x": -2.8,
        "y": 1.9,
      },
      "original": {
        "x": -2.7,
        "y": 1.8,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": -2.2,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": 0.1,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.05,
        "y": 0.7499999999999998,
        "z": 3.6639528095680696,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.05,
          "y": 0.7499999999999998,
          "z": 3.6639528095680696,
        },
        Vector3 {
          "x": -2.2,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": 0.1,
          "y": 3.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.0499999999999998,
        "y": 1.9499999999999997,
        "z": 3.6639528095680696,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8,
          "y": 1.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.3499999999999999,
        "y": 0.4499999999999999,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.8,
          "y": -2.2,
          "z": 3,
        },
        Vector3 {
          "x": -1.3499999999999999,
          "y": 0.4499999999999999,
          "z": 3.8371578903249572,
        },
      ],
      "source": Vector3 {
        "x": -0.7499999999999999,
        "y": -0.15000000000000008,
        "z": 4.183568051838733,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -0.7499999999999999,
          "y": -0.15000000000000008,
          "z": 4.183568051838733,
        },
        Vector3 {
          "x": 8.2,
          "y": 1.9,
          "z": 3,
        },
        Vector3 {
          "x": 8.2,
          "y": -2.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.1499999999999995,
        "y": -0.15000000000000008,
        "z": 4.183568051838733,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": -2.2,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -2.2,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 8.2,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": 8.2,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": -2.2,
    },
    {
      "x": -2.8,
      "y": 3,
      "z": 1.9,
    },
    {
      "x": -1.05,
      "y": 3.6639528095680696,
      "z": 0.7499999999999998,
    },
    {
      "x": -1.0499999999999998,
      "y": 3.6639528095680696,
      "z": 1.9499999999999997,
    },
    {
      "x": -1.3499999999999999,
      "y": 3.8371578903249572,
      "z": 0.4499999999999999,
    },
    {
      "x": -0.7499999999999999,
      "y": 4.183568051838733,
      "z": -0.15000000000000008,
    },
    {
      "x": 6.1499999999999995,
      "y": 4.183568051838733,
      "z": -0.15000000000000008,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: t_shape_10_tier2 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": -4.37,
        "y": 3,
        "z": 4.06,
      },
      {
        "x": -4.37,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": -3.05,
        "y": 3.762102355330306,
        "z": 2.13,
      },
      {
        "x": -2.895,
        "y": 3.851591647054698,
        "z": 2.2849999999999997,
      },
      {
        "x": -2.895,
        "y": 3.851591647054698,
        "z": 2.5849999999999995,
      },
    ],
    [
      {
        "x": -4.37,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": -4.67,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": -3.3499999999999996,
        "y": 3.762102355330306,
        "z": 2.13,
      },
      {
        "x": -3.05,
        "y": 3.762102355330306,
        "z": 2.13,
      },
    ],
    [
      {
        "x": -1.42,
        "y": 3,
        "z": 4.06,
      },
      {
        "x": -4.37,
        "y": 3,
        "z": 4.06,
      },
      {
        "x": -2.895,
        "y": 3.851591647054698,
        "z": 2.5849999999999995,
      },
    ],
    [
      {
        "x": -1.42,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": -1.42,
        "y": 3,
        "z": 4.06,
      },
      {
        "x": -2.895,
        "y": 3.851591647054698,
        "z": 2.5849999999999995,
      },
      {
        "x": -2.895,
        "y": 3.851591647054698,
        "z": 2.2849999999999997,
      },
      {
        "x": -2.74,
        "y": 3.762102355330306,
        "z": 2.13,
      },
    ],
    [
      {
        "x": 4.67,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": -1.42,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": -2.74,
        "y": 3.762102355330306,
        "z": 2.13,
      },
      {
        "x": 3.3499999999999996,
        "y": 3.762102355330306,
        "z": 2.13,
      },
    ],
    [
      {
        "x": 4.67,
        "y": 3,
        "z": 0.81,
      },
      {
        "x": 4.67,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": 3.3499999999999996,
        "y": 3.762102355330306,
        "z": 2.13,
      },
    ],
    [
      {
        "x": -4.67,
        "y": 3,
        "z": 0.81,
      },
      {
        "x": 4.67,
        "y": 3,
        "z": 0.81,
      },
      {
        "x": 3.3499999999999996,
        "y": 3.762102355330306,
        "z": 2.13,
      },
      {
        "x": -2.74,
        "y": 3.762102355330306,
        "z": 2.13,
      },
      {
        "x": -2.895,
        "y": 3.851591647054698,
        "z": 2.2849999999999997,
      },
      {
        "x": -3.05,
        "y": 3.762102355330306,
        "z": 2.13,
      },
      {
        "x": -3.3499999999999996,
        "y": 3.762102355330306,
        "z": 2.13,
      },
    ],
    [
      {
        "x": -4.67,
        "y": 3,
        "z": 3.45,
      },
      {
        "x": -4.67,
        "y": 3,
        "z": 0.81,
      },
      {
        "x": -3.3499999999999996,
        "y": 3.762102355330306,
        "z": 2.13,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -4.37,
        "y": 3.45,
      },
      "original": {
        "x": -4.27,
        "y": 3.35,
      },
    },
    {
      "offset": {
        "x": -4.37,
        "y": 4.06,
      },
      "original": {
        "x": -4.27,
        "y": 3.96,
      },
    },
    {
      "offset": {
        "x": -1.42,
        "y": 4.06,
      },
      "original": {
        "x": -1.52,
        "y": 3.96,
      },
    },
    {
      "offset": {
        "x": -1.42,
        "y": 3.45,
      },
      "original": {
        "x": -1.52,
        "y": 3.35,
      },
    },
    {
      "offset": {
        "x": 4.67,
        "y": 3.45,
      },
      "original": {
        "x": 4.57,
        "y": 3.35,
      },
    },
    {
      "offset": {
        "x": 4.67,
        "y": 0.81,
      },
      "original": {
        "x": 4.57,
        "y": 0.91,
      },
    },
    {
      "offset": {
        "x": -4.67,
        "y": 0.81,
      },
      "original": {
        "x": -4.57,
        "y": 0.91,
      },
    },
    {
      "offset": {
        "x": -4.67,
        "y": 3.45,
      },
      "original": {
        "x": -4.57,
        "y": 3.35,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": -4.67,
          "y": 0.81,
          "z": 3,
        },
        Vector3 {
          "x": -4.67,
          "y": 3.45,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.3499999999999996,
        "y": 2.13,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.3499999999999996,
          "y": 2.13,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": -4.37,
          "y": 3.45,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -3.05,
        "y": 2.13,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.42,
          "y": 3.45,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.74,
        "y": 2.13,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.74,
          "y": 2.13,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": 4.67,
          "y": 3.45,
          "z": 3,
        },
        Vector3 {
          "x": 4.67,
          "y": 0.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.3499999999999996,
        "y": 2.13,
        "z": 3.762102355330306,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.74,
          "y": 2.13,
          "z": 3.762102355330306,
        },
        Vector3 {
          "x": -3.05,
          "y": 2.13,
          "z": 3.762102355330306,
        },
      ],
      "source": Vector3 {
        "x": -2.895,
        "y": 2.2849999999999997,
        "z": 3.851591647054698,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.895,
          "y": 2.2849999999999997,
          "z": 3.851591647054698,
        },
        Vector3 {
          "x": -4.37,
          "y": 4.06,
          "z": 3,
        },
        Vector3 {
          "x": -1.42,
          "y": 4.06,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.895,
        "y": 2.5849999999999995,
        "z": 3.851591647054698,
      },
    },
  ],
  "skeletonNodeCount": 6,
  "vertexCount": 14,
  "vertices": [
    {
      "x": -4.37,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": -4.37,
      "y": 3,
      "z": 4.06,
    },
    {
      "x": -1.42,
      "y": 3,
      "z": 4.06,
    },
    {
      "x": -1.42,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": 4.67,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": -4.67,
      "y": 3,
      "z": 0.81,
    },
    {
      "x": -4.67,
      "y": 3,
      "z": 3.45,
    },
    {
      "x": -3.3499999999999996,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": -3.05,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": -2.74,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": 3.3499999999999996,
      "y": 3.762102355330306,
      "z": 2.13,
    },
    {
      "x": -2.895,
      "y": 3.851591647054698,
      "z": 2.2849999999999997,
    },
    {
      "x": -2.895,
      "y": 3.851591647054698,
      "z": 2.5849999999999995,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: t_shape_11_tier2 1`] = `
{
  "faceCount": 7,
  "faces": [
    [
      {
        "x": 1.9,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": 0.1,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -1.5000000000000002,
        "y": 3.9237604307034015,
        "z": 1.5000000000000002,
      },
      {
        "x": -3.1,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -4.9,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -2.6999999999999997,
        "y": 4.270170592217177,
        "z": 0.8999999999999995,
      },
      {
        "x": -2.1000000000000005,
        "y": 4.270170592217177,
        "z": 0.8999999999999992,
      },
      {
        "x": -0.3000000000000007,
        "y": 4.270170592217177,
        "z": 0.9000000000000006,
      },
    ],
    [
      {
        "x": 0.1,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": 0.1,
        "y": 3,
        "z": 5.5,
      },
      {
        "x": -1.5,
        "y": 3.923760430703401,
        "z": 3.9,
      },
      {
        "x": -1.5000000000000002,
        "y": 3.9237604307034015,
        "z": 1.5000000000000002,
      },
    ],
    [
      {
        "x": 1.9,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -0.3000000000000007,
        "y": 4.270170592217177,
        "z": 0.9000000000000006,
      },
    ],
    [
      {
        "x": -4.9,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": 1.9,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": -0.3000000000000007,
        "y": 4.270170592217177,
        "z": 0.9000000000000006,
      },
      {
        "x": -2.1000000000000005,
        "y": 4.270170592217177,
        "z": 0.8999999999999992,
      },
      {
        "x": -2.6999999999999997,
        "y": 4.270170592217177,
        "z": 0.8999999999999995,
      },
    ],
    [
      {
        "x": -4.9,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -4.9,
        "y": 3,
        "z": -1.3,
      },
      {
        "x": -2.6999999999999997,
        "y": 4.270170592217177,
        "z": 0.8999999999999995,
      },
    ],
    [
      {
        "x": -3.1,
        "y": 3,
        "z": 5.5,
      },
      {
        "x": -3.1,
        "y": 3,
        "z": 3.1,
      },
      {
        "x": -1.5000000000000002,
        "y": 3.9237604307034015,
        "z": 1.5000000000000002,
      },
      {
        "x": -1.5,
        "y": 3.923760430703401,
        "z": 3.9,
      },
    ],
    [
      {
        "x": 0.1,
        "y": 3,
        "z": 5.5,
      },
      {
        "x": -3.1,
        "y": 3,
        "z": 5.5,
      },
      {
        "x": -1.5,
        "y": 3.923760430703401,
        "z": 3.9,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 0.1,
        "y": 3.1,
      },
      "original": {
        "x": 0,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": 3.1,
      },
      "original": {
        "x": 1.8,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": 1.9,
        "y": -1.3,
      },
      "original": {
        "x": 1.8,
        "y": -1.2,
      },
    },
    {
      "offset": {
        "x": -4.9,
        "y": -1.3,
      },
      "original": {
        "x": -4.8,
        "y": -1.2,
      },
    },
    {
      "offset": {
        "x": -4.9,
        "y": 3.1,
      },
      "original": {
        "x": -4.8,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": -3.1,
        "y": 3.1,
      },
      "original": {
        "x": -3,
        "y": 3,
      },
    },
    {
      "offset": {
        "x": -3.1,
        "y": 5.5,
      },
      "original": {
        "x": -3,
        "y": 5.4,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 5.5,
      },
      "original": {
        "x": 0,
        "y": 5.4,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": -3.1,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": 0.1,
          "y": 3.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.5000000000000002,
        "y": 1.5000000000000002,
        "z": 3.9237604307034015,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.5000000000000002,
          "y": 1.5000000000000002,
          "z": 3.9237604307034015,
        },
        Vector3 {
          "x": -3.1,
          "y": 5.5,
          "z": 3,
        },
        Vector3 {
          "x": 0.1,
          "y": 5.5,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.5,
        "y": 3.9,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4.9,
          "y": -1.3,
          "z": 3,
        },
        Vector3 {
          "x": -4.9,
          "y": 3.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2.6999999999999997,
        "y": 0.8999999999999995,
        "z": 4.270170592217177,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.1000000000000005,
          "y": 0.8999999999999992,
          "z": 4.270170592217177,
        },
        Vector3 {
          "x": 1.9,
          "y": 3.1,
          "z": 3,
        },
        Vector3 {
          "x": 1.9,
          "y": -1.3,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.3000000000000007,
        "y": 0.9000000000000006,
        "z": 4.270170592217177,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.6999999999999997,
          "y": 0.8999999999999995,
          "z": 4.270170592217177,
        },
      ],
      "source": Vector3 {
        "x": -2.1000000000000005,
        "y": 0.8999999999999992,
        "z": 4.270170592217177,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": 0.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": 1.9,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -4.9,
      "y": 3,
      "z": -1.3,
    },
    {
      "x": -4.9,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": 3.1,
    },
    {
      "x": -3.1,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 5.5,
    },
    {
      "x": -1.5000000000000002,
      "y": 3.9237604307034015,
      "z": 1.5000000000000002,
    },
    {
      "x": -1.5,
      "y": 3.923760430703401,
      "z": 3.9,
    },
    {
      "x": -2.6999999999999997,
      "y": 4.270170592217177,
      "z": 0.8999999999999995,
    },
    {
      "x": -0.3000000000000007,
      "y": 4.270170592217177,
      "z": 0.9000000000000006,
    },
    {
      "x": -2.1000000000000005,
      "y": 4.270170592217177,
      "z": 0.8999999999999992,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: the_sacred_polygon 1`] = `
{
  "faceCount": 9,
  "faces": [
    [
      {
        "x": 64.1,
        "y": 3,
        "z": 25.06,
      },
      {
        "x": 50.18,
        "y": 3,
        "z": 33.01,
      },
      {
        "x": 28.75766034463035,
        "y": 9.868518289405444,
        "z": 31.544609957958027,
      },
      {
        "x": 37.88711068102052,
        "y": 12.946962963348419,
        "z": 20.190243385448294,
      },
      {
        "x": 49.544354708340606,
        "y": 11.403705727368257,
        "z": 16.610772555354032,
      },
    ],
    [
      {
        "x": 50.18,
        "y": 3,
        "z": 33.01,
      },
      {
        "x": 63.25,
        "y": 3,
        "z": 43.06,
      },
      {
        "x": 29.66480547919728,
        "y": 10.861737478690186,
        "z": 34.412232018722136,
      },
      {
        "x": 28.75766034463035,
        "y": 9.868518289405444,
        "z": 31.544609957958027,
      },
    ],
    [
      {
        "x": 64.1,
        "y": 3,
        "z": 0.89,
      },
      {
        "x": 64.1,
        "y": 3,
        "z": 25.06,
      },
      {
        "x": 49.544354708340606,
        "y": 11.403705727368257,
        "z": 16.610772555354032,
      },
    ],
    [
      {
        "x": 24.92,
        "y": 3,
        "z": 3.91,
      },
      {
        "x": 64.1,
        "y": 3,
        "z": 0.89,
      },
      {
        "x": 49.544354708340606,
        "y": 11.403705727368257,
        "z": 16.610772555354032,
      },
      {
        "x": 37.88711068102052,
        "y": 12.946962963348419,
        "z": 20.190243385448294,
      },
    ],
    [
      {
        "x": 19.97,
        "y": 3,
        "z": 19.77,
      },
      {
        "x": 24.92,
        "y": 3,
        "z": 3.91,
      },
      {
        "x": 37.88711068102052,
        "y": 12.946962963348419,
        "z": 20.190243385448294,
      },
      {
        "x": 28.75766034463035,
        "y": 9.868518289405444,
        "z": 31.544609957958027,
      },
      {
        "x": 29.66480547919728,
        "y": 10.861737478690186,
        "z": 34.412232018722136,
      },
      {
        "x": 22.911563639901864,
        "y": 8.138025962093833,
        "z": 40.21539747184241,
      },
    ],
    [
      {
        "x": 10.05,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 19.97,
        "y": 3,
        "z": 19.77,
      },
      {
        "x": 22.911563639901864,
        "y": 8.138025962093833,
        "z": 40.21539747184241,
      },
      {
        "x": 16.539795719931092,
        "y": 10.297589461404094,
        "z": 37.40426657372681,
      },
      {
        "x": 7.906555963042171,
        "y": 5.313186163785699,
        "z": 8.906555963042173,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 10.05,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 7.906555963042171,
        "y": 5.313186163785699,
        "z": 8.906555963042173,
      },
    ],
    [
      {
        "x": 3.9,
        "y": 3,
        "z": 52.12,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 7.906555963042171,
        "y": 5.313186163785699,
        "z": 8.906555963042173,
      },
      {
        "x": 16.539795719931092,
        "y": 10.297589461404094,
        "z": 37.40426657372681,
      },
    ],
    [
      {
        "x": 63.25,
        "y": 3,
        "z": 43.06,
      },
      {
        "x": 3.9,
        "y": 3,
        "z": 52.12,
      },
      {
        "x": 16.539795719931092,
        "y": 10.297589461404094,
        "z": 37.40426657372681,
      },
      {
        "x": 22.911563639901864,
        "y": 8.138025962093833,
        "z": 40.21539747184241,
      },
      {
        "x": 29.66480547919728,
        "y": 10.861737478690186,
        "z": 34.412232018722136,
      },
    ],
  ],
  "inputPolygonVertexCount": 9,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 50.18,
        "y": 33.01,
      },
      "original": {
        "x": 50,
        "y": 33,
      },
    },
    {
      "offset": {
        "x": 64.1,
        "y": 25.06,
      },
      "original": {
        "x": 64,
        "y": 25,
      },
    },
    {
      "offset": {
        "x": 64.1,
        "y": 0.89,
      },
      "original": {
        "x": 64,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 24.92,
        "y": 3.91,
      },
      "original": {
        "x": 25,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 19.97,
        "y": 19.77,
      },
      "original": {
        "x": 20,
        "y": 20,
      },
    },
    {
      "offset": {
        "x": 10.05,
        "y": 4.9,
      },
      "original": {
        "x": 10,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 4.9,
      },
      "original": {
        "x": 4,
        "y": 5,
      },
    },
    {
      "offset": {
        "x": 3.9,
        "y": 52.12,
      },
      "original": {
        "x": 4,
        "y": 52,
      },
    },
    {
      "offset": {
        "x": 63.25,
        "y": 43.06,
      },
      "original": {
        "x": 63,
        "y": 43,
      },
    },
  ],
  "preparedPolygonVertexCount": 9,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 10.05,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 3.9,
          "y": 4.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 7.906555963042171,
        "y": 8.906555963042173,
        "z": 5.313186163785699,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 50.18,
          "y": 33.01,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 28.75766034463035,
        "y": 31.544609957958027,
        "z": 9.868518289405444,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 7.906555963042171,
          "y": 8.906555963042173,
          "z": 5.313186163785699,
        },
        Vector3 {
          "x": 3.9,
          "y": 52.12,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 16.539795719931092,
        "y": 37.40426657372681,
        "z": 10.297589461404094,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 19.97,
          "y": 19.77,
          "z": 3,
        },
        Vector3 {
          "x": 16.539795719931092,
          "y": 37.40426657372681,
          "z": 10.297589461404094,
        },
      ],
      "source": Vector3 {
        "x": 22.911563639901864,
        "y": 40.21539747184241,
        "z": 8.138025962093833,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 28.75766034463035,
          "y": 31.544609957958027,
          "z": 9.868518289405444,
        },
        Vector3 {
          "x": 22.911563639901864,
          "y": 40.21539747184241,
          "z": 8.138025962093833,
        },
        Vector3 {
          "x": 63.25,
          "y": 43.06,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 29.66480547919728,
        "y": 34.412232018722136,
        "z": 10.861737478690186,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 64.1,
          "y": 25.06,
          "z": 3,
        },
        Vector3 {
          "x": 64.1,
          "y": 0.89,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 49.544354708340606,
        "y": 16.610772555354032,
        "z": 11.403705727368257,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 28.75766034463035,
          "y": 31.544609957958027,
          "z": 9.868518289405444,
        },
        Vector3 {
          "x": 49.544354708340606,
          "y": 16.610772555354032,
          "z": 11.403705727368257,
        },
        Vector3 {
          "x": 24.92,
          "y": 3.91,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 37.88711068102052,
        "y": 20.190243385448294,
        "z": 12.946962963348419,
      },
    },
  ],
  "skeletonNodeCount": 7,
  "vertexCount": 16,
  "vertices": [
    {
      "x": 50.18,
      "y": 3,
      "z": 33.01,
    },
    {
      "x": 64.1,
      "y": 3,
      "z": 25.06,
    },
    {
      "x": 64.1,
      "y": 3,
      "z": 0.89,
    },
    {
      "x": 24.92,
      "y": 3,
      "z": 3.91,
    },
    {
      "x": 19.97,
      "y": 3,
      "z": 19.77,
    },
    {
      "x": 10.05,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 3.9,
      "y": 3,
      "z": 52.12,
    },
    {
      "x": 63.25,
      "y": 3,
      "z": 43.06,
    },
    {
      "x": 7.906555963042171,
      "y": 5.313186163785699,
      "z": 8.906555963042173,
    },
    {
      "x": 28.75766034463035,
      "y": 9.868518289405444,
      "z": 31.544609957958027,
    },
    {
      "x": 16.539795719931092,
      "y": 10.297589461404094,
      "z": 37.40426657372681,
    },
    {
      "x": 22.911563639901864,
      "y": 8.138025962093833,
      "z": 40.21539747184241,
    },
    {
      "x": 29.66480547919728,
      "y": 10.861737478690186,
      "z": 34.412232018722136,
    },
    {
      "x": 49.544354708340606,
      "y": 11.403705727368257,
      "z": 16.610772555354032,
    },
    {
      "x": 37.88711068102052,
      "y": 12.946962963348419,
      "z": 20.190243385448294,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: u_shape 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 7.9,
        "y": 3,
        "z": 4.1,
      },
      {
        "x": 4.1,
        "y": 3,
        "z": 4.1,
      },
      {
        "x": 2.5,
        "y": 3.923760430703401,
        "z": 2.5,
      },
      {
        "x": 9.5,
        "y": 3.923760430703401,
        "z": 2.5,
      },
    ],
    [
      {
        "x": 4.1,
        "y": 3,
        "z": 4.1,
      },
      {
        "x": 4.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 2.5,
        "y": 3.923760430703401,
        "z": 10.5,
      },
      {
        "x": 2.5,
        "y": 3.923760430703401,
        "z": 2.5,
      },
    ],
    [
      {
        "x": 7.9,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 7.9,
        "y": 3,
        "z": 4.1,
      },
      {
        "x": 9.5,
        "y": 3.923760430703401,
        "z": 2.5,
      },
      {
        "x": 10,
        "y": 4.212435565298214,
        "z": 2.9999999999999996,
      },
      {
        "x": 10,
        "y": 4.212435565298214,
        "z": 10,
      },
    ],
    [
      {
        "x": 12.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 7.9,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 10,
        "y": 4.212435565298214,
        "z": 10,
      },
    ],
    [
      {
        "x": 12.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 12.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 10,
        "y": 4.212435565298214,
        "z": 10,
      },
      {
        "x": 10,
        "y": 4.212435565298214,
        "z": 2.9999999999999996,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 12.1,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 10,
        "y": 4.212435565298214,
        "z": 2.9999999999999996,
      },
      {
        "x": 9.5,
        "y": 3.923760430703401,
        "z": 2.5,
      },
      {
        "x": 2.5,
        "y": 3.923760430703401,
        "z": 2.5,
      },
    ],
    [
      {
        "x": 0.9,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 0.9,
      },
      {
        "x": 2.5,
        "y": 3.923760430703401,
        "z": 2.5,
      },
      {
        "x": 2.5,
        "y": 3.923760430703401,
        "z": 10.5,
      },
    ],
    [
      {
        "x": 4.1,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 0.9,
        "y": 3,
        "z": 12.1,
      },
      {
        "x": 2.5,
        "y": 3.923760430703401,
        "z": 10.5,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 4.1,
        "y": 4.1,
      },
      "original": {
        "x": 4,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 7.9,
        "y": 4.1,
      },
      "original": {
        "x": 8,
        "y": 4,
      },
    },
    {
      "offset": {
        "x": 7.9,
        "y": 12.1,
      },
      "original": {
        "x": 8,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 12.1,
      },
      "original": {
        "x": 12,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 12.1,
        "y": 0.9,
      },
      "original": {
        "x": 12,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 0.9,
      },
      "original": {
        "x": 1,
        "y": 1,
      },
    },
    {
      "offset": {
        "x": 0.9,
        "y": 12.1,
      },
      "original": {
        "x": 1,
        "y": 12,
      },
    },
    {
      "offset": {
        "x": 4.1,
        "y": 12.1,
      },
      "original": {
        "x": 4,
        "y": 12,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 4.1,
          "y": 4.1,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.5,
        "y": 2.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.5,
          "y": 2.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 0.9,
          "y": 12.1,
          "z": 3,
        },
        Vector3 {
          "x": 4.1,
          "y": 12.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.5,
        "y": 10.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.5,
          "y": 2.5,
          "z": 3.923760430703401,
        },
        Vector3 {
          "x": 7.9,
          "y": 4.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9.5,
        "y": 2.5,
        "z": 3.923760430703401,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 12.1,
          "y": 0.9,
          "z": 3,
        },
        Vector3 {
          "x": 9.5,
          "y": 2.5,
          "z": 3.923760430703401,
        },
      ],
      "source": Vector3 {
        "x": 10,
        "y": 2.9999999999999996,
        "z": 4.212435565298214,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 10,
          "y": 2.9999999999999996,
          "z": 4.212435565298214,
        },
        Vector3 {
          "x": 7.9,
          "y": 12.1,
          "z": 3,
        },
        Vector3 {
          "x": 12.1,
          "y": 12.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 10,
        "y": 10,
        "z": 4.212435565298214,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": 4.1,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 7.9,
      "y": 3,
      "z": 4.1,
    },
    {
      "x": 7.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 12.1,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 4.1,
      "y": 3,
      "z": 12.1,
    },
    {
      "x": 2.5,
      "y": 3.923760430703401,
      "z": 2.5,
    },
    {
      "x": 2.5,
      "y": 3.923760430703401,
      "z": 10.5,
    },
    {
      "x": 9.5,
      "y": 3.923760430703401,
      "z": 2.5,
    },
    {
      "x": 10,
      "y": 4.212435565298214,
      "z": 2.9999999999999996,
    },
    {
      "x": 10,
      "y": 4.212435565298214,
      "z": 10,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: u_shape_2_tier2 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 2.5,
        "y": 3,
        "z": 2.5,
      },
      {
        "x": 2.5,
        "y": 3,
        "z": 3.2,
      },
      {
        "x": 1.6499999999999995,
        "y": 3.4907477288111823,
        "z": 4.050000000000001,
      },
      {
        "x": 1.1999999999999995,
        "y": 3.7505553499465134,
        "z": 3.6000000000000005,
      },
      {
        "x": 1.2,
        "y": 3.7505553499465134,
        "z": 1.2,
      },
    ],
    [
      {
        "x": 2.5,
        "y": 3,
        "z": 3.2,
      },
      {
        "x": 7.6,
        "y": 3,
        "z": 3.2,
      },
      {
        "x": 6.75,
        "y": 3.490747728811182,
        "z": 4.050000000000001,
      },
      {
        "x": 1.6499999999999995,
        "y": 3.4907477288111823,
        "z": 4.050000000000001,
      },
    ],
    [
      {
        "x": 5.8,
        "y": 3,
        "z": 2.5,
      },
      {
        "x": 2.5,
        "y": 3,
        "z": 2.5,
      },
      {
        "x": 1.2,
        "y": 3.7505553499465134,
        "z": 1.2,
      },
      {
        "x": 4.5,
        "y": 3.7505553499465134,
        "z": 1.2,
      },
    ],
    [
      {
        "x": 5.8,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 5.8,
        "y": 3,
        "z": 2.5,
      },
      {
        "x": 4.5,
        "y": 3.7505553499465134,
        "z": 1.2,
      },
    ],
    [
      {
        "x": -0.1,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 5.8,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 4.5,
        "y": 3.7505553499465134,
        "z": 1.2,
      },
      {
        "x": 1.2,
        "y": 3.7505553499465134,
        "z": 1.2,
      },
    ],
    [
      {
        "x": -0.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": -0.1,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 1.2,
        "y": 3.7505553499465134,
        "z": 1.2,
      },
      {
        "x": 1.1999999999999995,
        "y": 3.7505553499465134,
        "z": 3.6000000000000005,
      },
    ],
    [
      {
        "x": 7.6,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": -0.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 1.1999999999999995,
        "y": 3.7505553499465134,
        "z": 3.6000000000000005,
      },
      {
        "x": 1.6499999999999995,
        "y": 3.4907477288111823,
        "z": 4.050000000000001,
      },
      {
        "x": 6.75,
        "y": 3.490747728811182,
        "z": 4.050000000000001,
      },
    ],
    [
      {
        "x": 7.6,
        "y": 3,
        "z": 3.2,
      },
      {
        "x": 7.6,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 6.75,
        "y": 3.490747728811182,
        "z": 4.050000000000001,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 2.5,
        "y": 3.2,
      },
      "original": {
        "x": 2.4,
        "y": 3.3,
      },
    },
    {
      "offset": {
        "x": 2.5,
        "y": 2.5,
      },
      "original": {
        "x": 2.4,
        "y": 2.4,
      },
    },
    {
      "offset": {
        "x": 5.8,
        "y": 2.5,
      },
      "original": {
        "x": 5.7,
        "y": 2.4,
      },
    },
    {
      "offset": {
        "x": 5.8,
        "y": -0.1,
      },
      "original": {
        "x": 5.7,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": -0.1,
      },
      "original": {
        "x": 0,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": 4.9,
      },
      "original": {
        "x": 0,
        "y": 4.8,
      },
    },
    {
      "offset": {
        "x": 7.6,
        "y": 4.9,
      },
      "original": {
        "x": 7.5,
        "y": 4.8,
      },
    },
    {
      "offset": {
        "x": 7.6,
        "y": 3.2,
      },
      "original": {
        "x": 7.5,
        "y": 3.3,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 7.6,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 7.6,
          "y": 3.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.75,
        "y": 4.050000000000001,
        "z": 3.490747728811182,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.75,
          "y": 4.050000000000001,
          "z": 3.490747728811182,
        },
        Vector3 {
          "x": 2.5,
          "y": 3.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.6499999999999995,
        "y": 4.050000000000001,
        "z": 3.4907477288111823,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.5,
          "y": 2.5,
          "z": 3,
        },
        Vector3 {
          "x": -0.1,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.2,
        "y": 1.2,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2,
          "y": 1.2,
          "z": 3.7505553499465134,
        },
        Vector3 {
          "x": -0.1,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 1.6499999999999995,
          "y": 4.050000000000001,
          "z": 3.4907477288111823,
        },
      ],
      "source": Vector3 {
        "x": 1.1999999999999995,
        "y": 3.6000000000000005,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2,
          "y": 1.2,
          "z": 3.7505553499465134,
        },
        Vector3 {
          "x": 5.8,
          "y": 2.5,
          "z": 3,
        },
        Vector3 {
          "x": 5.8,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.5,
        "y": 1.2,
        "z": 3.7505553499465134,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": 2.5,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 2.5,
      "y": 3,
      "z": 2.5,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": 2.5,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 6.75,
      "y": 3.490747728811182,
      "z": 4.050000000000001,
    },
    {
      "x": 1.6499999999999995,
      "y": 3.4907477288111823,
      "z": 4.050000000000001,
    },
    {
      "x": 1.2,
      "y": 3.7505553499465134,
      "z": 1.2,
    },
    {
      "x": 1.1999999999999995,
      "y": 3.7505553499465134,
      "z": 3.6000000000000005,
    },
    {
      "x": 4.5,
      "y": 3.7505553499465134,
      "z": 1.2,
    },
  ],
}
`;

exports[`Roof Algorithm - Complete Pipeline Tests > Stage 4: Full Pipeline Integration > should complete full pipeline for: u_shape_3_tier2 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 2.5,
        "y": 3,
        "z": 2.51,
      },
      {
        "x": 2.5,
        "y": 3,
        "z": 3.2,
      },
      {
        "x": 1.6499999999999995,
        "y": 3.4907477288111823,
        "z": 4.050000000000001,
      },
      {
        "x": 1.1999999999999995,
        "y": 3.7505553499465134,
        "z": 3.6000000000000005,
      },
      {
        "x": 1.2270980637146878,
        "y": 3.734910275566321,
        "z": 1.1729019362853121,
      },
    ],
    [
      {
        "x": 2.5,
        "y": 3,
        "z": 3.2,
      },
      {
        "x": 7.6,
        "y": 3,
        "z": 3.2,
      },
      {
        "x": 6.75,
        "y": 3.490747728811182,
        "z": 4.050000000000001,
      },
      {
        "x": 1.6499999999999995,
        "y": 3.4907477288111823,
        "z": 4.050000000000001,
      },
    ],
    [
      {
        "x": 5.8,
        "y": 3,
        "z": 2.81,
      },
      {
        "x": 2.5,
        "y": 3,
        "z": 2.51,
      },
      {
        "x": 1.2270980637146878,
        "y": 3.734910275566321,
        "z": 1.1729019362853121,
      },
      {
        "x": 4.411000280007464,
        "y": 3.8019393622420052,
        "z": 1.2889997199925356,
      },
    ],
    [
      {
        "x": 5.8,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 5.8,
        "y": 3,
        "z": 2.81,
      },
      {
        "x": 4.411000280007464,
        "y": 3.8019393622420052,
        "z": 1.2889997199925356,
      },
    ],
    [
      {
        "x": -0.1,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 5.8,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 4.411000280007464,
        "y": 3.8019393622420052,
        "z": 1.2889997199925356,
      },
      {
        "x": 1.2270980637146878,
        "y": 3.734910275566321,
        "z": 1.1729019362853121,
      },
    ],
    [
      {
        "x": -0.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": -0.1,
        "y": 3,
        "z": -0.1,
      },
      {
        "x": 1.2270980637146878,
        "y": 3.734910275566321,
        "z": 1.1729019362853121,
      },
      {
        "x": 1.1999999999999995,
        "y": 3.7505553499465134,
        "z": 3.6000000000000005,
      },
    ],
    [
      {
        "x": 7.6,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": -0.1,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 1.1999999999999995,
        "y": 3.7505553499465134,
        "z": 3.6000000000000005,
      },
      {
        "x": 1.6499999999999995,
        "y": 3.4907477288111823,
        "z": 4.050000000000001,
      },
      {
        "x": 6.75,
        "y": 3.490747728811182,
        "z": 4.050000000000001,
      },
    ],
    [
      {
        "x": 7.6,
        "y": 3,
        "z": 3.2,
      },
      {
        "x": 7.6,
        "y": 3,
        "z": 4.9,
      },
      {
        "x": 6.75,
        "y": 3.490747728811182,
        "z": 4.050000000000001,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 2.5,
        "y": 3.2,
      },
      "original": {
        "x": 2.4,
        "y": 3.3,
      },
    },
    {
      "offset": {
        "x": 2.5,
        "y": 2.51,
      },
      "original": {
        "x": 2.4,
        "y": 2.4,
      },
    },
    {
      "offset": {
        "x": 5.8,
        "y": 2.81,
      },
      "original": {
        "x": 5.7,
        "y": 2.7,
      },
    },
    {
      "offset": {
        "x": 5.8,
        "y": -0.1,
      },
      "original": {
        "x": 5.7,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": -0.1,
      },
      "original": {
        "x": 0,
        "y": 0,
      },
    },
    {
      "offset": {
        "x": -0.1,
        "y": 4.9,
      },
      "original": {
        "x": 0,
        "y": 4.8,
      },
    },
    {
      "offset": {
        "x": 7.6,
        "y": 4.9,
      },
      "original": {
        "x": 7.5,
        "y": 4.8,
      },
    },
    {
      "offset": {
        "x": 7.6,
        "y": 3.2,
      },
      "original": {
        "x": 7.5,
        "y": 3.3,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 7.6,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 7.6,
          "y": 3.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.75,
        "y": 4.050000000000001,
        "z": 3.490747728811182,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.75,
          "y": 4.050000000000001,
          "z": 3.490747728811182,
        },
        Vector3 {
          "x": 2.5,
          "y": 3.2,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.6499999999999995,
        "y": 4.050000000000001,
        "z": 3.4907477288111823,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2270980637146878,
          "y": 1.1729019362853121,
          "z": 3.734910275566321,
        },
        Vector3 {
          "x": -0.1,
          "y": 4.9,
          "z": 3,
        },
        Vector3 {
          "x": 1.6499999999999995,
          "y": 4.050000000000001,
          "z": 3.4907477288111823,
        },
      ],
      "source": Vector3 {
        "x": 1.1999999999999995,
        "y": 3.6000000000000005,
        "z": 3.7505553499465134,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2270980637146878,
          "y": 1.1729019362853121,
          "z": 3.734910275566321,
        },
        Vector3 {
          "x": 5.8,
          "y": 2.81,
          "z": 3,
        },
        Vector3 {
          "x": 5.8,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.411000280007464,
        "y": 1.2889997199925356,
        "z": 3.8019393622420052,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.5,
          "y": 2.51,
          "z": 3,
        },
        Vector3 {
          "x": -0.1,
          "y": -0.1,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 1.2270980637146878,
        "y": 1.1729019362853121,
        "z": 3.734910275566321,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": 2.5,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 2.5,
      "y": 3,
      "z": 2.51,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": 2.81,
    },
    {
      "x": 5.8,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": -0.1,
    },
    {
      "x": -0.1,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 4.9,
    },
    {
      "x": 7.6,
      "y": 3,
      "z": 3.2,
    },
    {
      "x": 6.75,
      "y": 3.490747728811182,
      "z": 4.050000000000001,
    },
    {
      "x": 1.6499999999999995,
      "y": 3.4907477288111823,
      "z": 4.050000000000001,
    },
    {
      "x": 1.1999999999999995,
      "y": 3.7505553499465134,
      "z": 3.6000000000000005,
    },
    {
      "x": 4.411000280007464,
      "y": 3.8019393622420052,
      "z": 1.2889997199925356,
    },
    {
      "x": 1.2270980637146878,
      "y": 3.734910275566321,
      "z": 1.1729019362853121,
    },
  ],
}
`;

exports[`Roof Algorithm - Tier2 Real-World Examples > Tier2 Full Pipeline Tests > should complete full pipeline for: complex_4_tier2 1`] = `
{
  "faceCount": 14,
  "faces": [
    [
      {
        "x": 0.62,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": 0.62,
        "y": 3,
        "z": 5.48,
      },
      {
        "x": 4.6,
        "y": 5.263213055223333,
        "z": 1.5,
      },
      {
        "x": 4.6,
        "y": 5.263213055223333,
        "z": 2.7,
      },
      {
        "x": 4.9,
        "y": 5.471059152131598,
        "z": 3,
      },
    ],
    [
      {
        "x": 0.62,
        "y": 3,
        "z": 5.48,
      },
      {
        "x": -4.87,
        "y": 3,
        "z": 5.48,
      },
      {
        "x": 0,
        "y": 5.811695810953477,
        "z": 0.6,
      },
      {
        "x": 3.7,
        "y": 5.782828297493996,
        "z": 0.6,
      },
      {
        "x": 4.6,
        "y": 5.263213055223333,
        "z": 1.5,
      },
    ],
    [
      {
        "x": 3.67,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": 0.62,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": 4.9,
        "y": 5.471059152131598,
        "z": 3,
      },
      {
        "x": 5.5,
        "y": 5.447965141364014,
        "z": 3.1,
      },
      {
        "x": 6.7,
        "y": 4.7493713156445665,
        "z": 4.3,
      },
    ],
    [
      {
        "x": 3.67,
        "y": 3,
        "z": 9.75,
      },
      {
        "x": 3.67,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": 6.7,
        "y": 4.7493713156445665,
        "z": 4.3,
      },
      {
        "x": 6.7,
        "y": 4.746449094116743,
        "z": 6.7,
      },
    ],
    [
      {
        "x": 9.74,
        "y": 3,
        "z": 9.7,
      },
      {
        "x": 3.67,
        "y": 3,
        "z": 9.75,
      },
      {
        "x": 6.7,
        "y": 4.746449094116743,
        "z": 6.7,
      },
    ],
    [
      {
        "x": 9.74,
        "y": 3,
        "z": -1.21,
      },
      {
        "x": 9.74,
        "y": 3,
        "z": 9.7,
      },
      {
        "x": 6.7,
        "y": 4.746449094116743,
        "z": 6.7,
      },
      {
        "x": 6.7,
        "y": 4.7493713156445665,
        "z": 4.3,
      },
      {
        "x": 5.5,
        "y": 5.447965141364014,
        "z": 3.1,
      },
    ],
    [
      {
        "x": 8.52,
        "y": 3,
        "z": -1.21,
      },
      {
        "x": 9.74,
        "y": 3,
        "z": -1.21,
      },
      {
        "x": 5.5,
        "y": 5.447965141364014,
        "z": 3.1,
      },
      {
        "x": 4.9,
        "y": 5.471059152131598,
        "z": 3,
      },
      {
        "x": 4.6,
        "y": 5.263213055223333,
        "z": 2.7,
      },
    ],
    [
      {
        "x": 8.52,
        "y": 3,
        "z": -6.09,
      },
      {
        "x": 8.52,
        "y": 3,
        "z": -1.21,
      },
      {
        "x": 4.6,
        "y": 5.263213055223333,
        "z": 2.7,
      },
      {
        "x": 4.6,
        "y": 5.263213055223333,
        "z": 1.5,
      },
      {
        "x": 3.7,
        "y": 5.782828297493996,
        "z": 0.6,
      },
      {
        "x": 4.3,
        "y": 5.476832654823495,
        "z": 0,
      },
      {
        "x": 4.3,
        "y": 5.476832654823495,
        "z": -1.8,
      },
    ],
    [
      {
        "x": 0.01,
        "y": 3,
        "z": -6.09,
      },
      {
        "x": 8.52,
        "y": 3,
        "z": -6.09,
      },
      {
        "x": 4.3,
        "y": 5.476832654823495,
        "z": -1.8,
      },
    ],
    [
      {
        "x": 0.01,
        "y": 3,
        "z": -4.26,
      },
      {
        "x": 0.01,
        "y": 3,
        "z": -6.09,
      },
      {
        "x": 4.3,
        "y": 5.476832654823495,
        "z": -1.8,
      },
      {
        "x": 4.3,
        "y": 5.476832654823495,
        "z": 0,
      },
    ],
    [
      {
        "x": -7.31,
        "y": 3,
        "z": -4.26,
      },
      {
        "x": 0.01,
        "y": 3,
        "z": -4.26,
      },
      {
        "x": 4.3,
        "y": 5.476832654823495,
        "z": 0,
      },
      {
        "x": 3.7,
        "y": 5.782828297493996,
        "z": 0.6,
      },
      {
        "x": 0,
        "y": 5.811695810953477,
        "z": 0.6,
      },
      {
        "x": -1.5,
        "y": 4.922576396401453,
        "z": -0.9,
      },
      {
        "x": -4,
        "y": 4.911029391017661,
        "z": -0.9,
      },
    ],
    [
      {
        "x": -7.31,
        "y": 3,
        "z": 2.43,
      },
      {
        "x": -7.31,
        "y": 3,
        "z": -4.26,
      },
      {
        "x": -4,
        "y": 4.911029391017661,
        "z": -0.9,
      },
    ],
    [
      {
        "x": -4.87,
        "y": 3,
        "z": 2.43,
      },
      {
        "x": -7.31,
        "y": 3,
        "z": 2.43,
      },
      {
        "x": -4,
        "y": 4.911029391017661,
        "z": -0.9,
      },
      {
        "x": -1.5,
        "y": 4.922576396401453,
        "z": -0.9,
      },
    ],
    [
      {
        "x": -4.87,
        "y": 3,
        "z": 5.48,
      },
      {
        "x": -4.87,
        "y": 3,
        "z": 2.43,
      },
      {
        "x": -1.5,
        "y": 4.922576396401453,
        "z": -0.9,
      },
      {
        "x": 0,
        "y": 5.811695810953477,
        "z": 0.6,
      },
    ],
  ],
  "inputPolygonVertexCount": 14,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 0.62,
        "y": 5.48,
      },
      "original": {
        "x": 0.72,
        "y": 5.38,
      },
    },
    {
      "offset": {
        "x": 0.62,
        "y": 7.31,
      },
      "original": {
        "x": 0.72,
        "y": 7.21,
      },
    },
    {
      "offset": {
        "x": 3.67,
        "y": 7.31,
      },
      "original": {
        "x": 3.77,
        "y": 7.21,
      },
    },
    {
      "offset": {
        "x": 3.67,
        "y": 9.75,
      },
      "original": {
        "x": 3.77,
        "y": 9.65,
      },
    },
    {
      "offset": {
        "x": 9.74,
        "y": 9.7,
      },
      "original": {
        "x": 9.64,
        "y": 9.6,
      },
    },
    {
      "offset": {
        "x": 9.74,
        "y": -1.21,
      },
      "original": {
        "x": 9.64,
        "y": -1.11,
      },
    },
    {
      "offset": {
        "x": 8.52,
        "y": -1.21,
      },
      "original": {
        "x": 8.42,
        "y": -1.11,
      },
    },
    {
      "offset": {
        "x": 8.52,
        "y": -6.09,
      },
      "original": {
        "x": 8.42,
        "y": -5.99,
      },
    },
    {
      "offset": {
        "x": 0.01,
        "y": -6.09,
      },
      "original": {
        "x": 0.11,
        "y": -5.99,
      },
    },
    {
      "offset": {
        "x": 0.01,
        "y": -4.26,
      },
      "original": {
        "x": 0.11,
        "y": -4.16,
      },
    },
    {
      "offset": {
        "x": -7.31,
        "y": -4.26,
      },
      "original": {
        "x": -7.21,
        "y": -4.16,
      },
    },
    {
      "offset": {
        "x": -7.31,
        "y": 2.43,
      },
      "original": {
        "x": -7.21,
        "y": 2.33,
      },
    },
    {
      "offset": {
        "x": -4.87,
        "y": 2.43,
      },
      "original": {
        "x": -4.77,
        "y": 2.33,
      },
    },
    {
      "offset": {
        "x": -4.87,
        "y": 5.48,
      },
      "original": {
        "x": -4.77,
        "y": 5.38,
      },
    },
  ],
  "preparedPolygonVertexCount": 14,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 3.67,
          "y": 9.75,
          "z": 3,
        },
        Vector3 {
          "x": 9.74,
          "y": 9.7,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 6.7,
        "y": 6.7,
        "z": 4.746449094116743,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.67,
          "y": 7.31,
          "z": 3,
        },
        Vector3 {
          "x": 6.7,
          "y": 6.7,
          "z": 4.746449094116743,
        },
      ],
      "source": Vector3 {
        "x": 6.7,
        "y": 4.3,
        "z": 4.7493713156445665,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -7.31,
          "y": -4.26,
          "z": 3,
        },
        Vector3 {
          "x": -7.31,
          "y": 2.43,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4,
        "y": -0.9,
        "z": 4.911029391017661,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -4,
          "y": -0.9,
          "z": 4.911029391017661,
        },
        Vector3 {
          "x": -4.87,
          "y": 2.43,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.5,
        "y": -0.9,
        "z": 4.922576396401453,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.62,
          "y": 5.48,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.6,
        "y": 1.5,
        "z": 5.263213055223333,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.52,
          "y": -1.21,
          "z": 3,
        },
        Vector3 {
          "x": 4.6,
          "y": 1.5,
          "z": 5.263213055223333,
        },
      ],
      "source": Vector3 {
        "x": 4.6,
        "y": 2.7,
        "z": 5.263213055223333,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 6.7,
          "y": 4.3,
          "z": 4.7493713156445665,
        },
        Vector3 {
          "x": 9.74,
          "y": -1.21,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.5,
        "y": 3.1,
        "z": 5.447965141364014,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 8.52,
          "y": -6.09,
          "z": 3,
        },
        Vector3 {
          "x": 0.01,
          "y": -6.09,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.3,
        "y": -1.8,
        "z": 5.476832654823495,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.3,
          "y": -1.8,
          "z": 5.476832654823495,
        },
        Vector3 {
          "x": 0.01,
          "y": -4.26,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.3,
        "y": 0,
        "z": 5.476832654823495,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.6,
          "y": 2.7,
          "z": 5.263213055223333,
        },
        Vector3 {
          "x": 0.62,
          "y": 7.31,
          "z": 3,
        },
        Vector3 {
          "x": 5.5,
          "y": 3.1,
          "z": 5.447965141364014,
        },
      ],
      "source": Vector3 {
        "x": 4.9,
        "y": 3,
        "z": 5.471059152131598,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 4.6,
          "y": 1.5,
          "z": 5.263213055223333,
        },
        Vector3 {
          "x": 4.3,
          "y": 0,
          "z": 5.476832654823495,
        },
      ],
      "source": Vector3 {
        "x": 3.7,
        "y": 0.6,
        "z": 5.782828297493996,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.7,
          "y": 0.6,
          "z": 5.782828297493996,
        },
        Vector3 {
          "x": -1.5,
          "y": -0.9,
          "z": 4.922576396401453,
        },
        Vector3 {
          "x": -4.87,
          "y": 5.48,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0,
        "y": 0.6,
        "z": 5.811695810953477,
      },
    },
  ],
  "skeletonNodeCount": 12,
  "vertexCount": 26,
  "vertices": [
    {
      "x": 0.62,
      "y": 3,
      "z": 5.48,
    },
    {
      "x": 0.62,
      "y": 3,
      "z": 7.31,
    },
    {
      "x": 3.67,
      "y": 3,
      "z": 7.31,
    },
    {
      "x": 3.67,
      "y": 3,
      "z": 9.75,
    },
    {
      "x": 9.74,
      "y": 3,
      "z": 9.7,
    },
    {
      "x": 9.74,
      "y": 3,
      "z": -1.21,
    },
    {
      "x": 8.52,
      "y": 3,
      "z": -1.21,
    },
    {
      "x": 8.52,
      "y": 3,
      "z": -6.09,
    },
    {
      "x": 0.01,
      "y": 3,
      "z": -6.09,
    },
    {
      "x": 0.01,
      "y": 3,
      "z": -4.26,
    },
    {
      "x": -7.31,
      "y": 3,
      "z": -4.26,
    },
    {
      "x": -7.31,
      "y": 3,
      "z": 2.43,
    },
    {
      "x": -4.87,
      "y": 3,
      "z": 2.43,
    },
    {
      "x": -4.87,
      "y": 3,
      "z": 5.48,
    },
    {
      "x": 6.7,
      "y": 4.746449094116743,
      "z": 6.7,
    },
    {
      "x": 6.7,
      "y": 4.7493713156445665,
      "z": 4.3,
    },
    {
      "x": -4,
      "y": 4.911029391017661,
      "z": -0.9,
    },
    {
      "x": -1.5,
      "y": 4.922576396401453,
      "z": -0.9,
    },
    {
      "x": 4.6,
      "y": 5.263213055223333,
      "z": 1.5,
    },
    {
      "x": 4.6,
      "y": 5.263213055223333,
      "z": 2.7,
    },
    {
      "x": 5.5,
      "y": 5.447965141364014,
      "z": 3.1,
    },
    {
      "x": 4.3,
      "y": 5.476832654823495,
      "z": -1.8,
    },
    {
      "x": 4.3,
      "y": 5.476832654823495,
      "z": 0,
    },
    {
      "x": 4.9,
      "y": 5.471059152131598,
      "z": 3,
    },
    {
      "x": 3.7,
      "y": 5.782828297493996,
      "z": 0.6,
    },
    {
      "x": 0,
      "y": 5.811695810953477,
      "z": 0.6,
    },
  ],
}
`;

exports[`Roof Algorithm - Tier2 Real-World Examples > Tier2 Full Pipeline Tests > should complete full pipeline for: complex_5_tier2 1`] = `
{
  "faceCount": 18,
  "faces": [
    [
      {
        "x": 4.37,
        "y": 3,
        "z": 1.32,
      },
      {
        "x": 4.37,
        "y": 3,
        "z": 2.34,
      },
      {
        "x": 3.3,
        "y": 3.6119912853410034,
        "z": 3.4,
      },
      {
        "x": 2.6,
        "y": 3.964174949546675,
        "z": 2.7,
      },
      {
        "x": 3.6,
        "y": 3.334863156129983,
        "z": 1.7,
      },
      {
        "x": 3.6,
        "y": 3.444559707276012,
        "z": 0.5,
      },
    ],
    [
      {
        "x": 4.37,
        "y": 3,
        "z": 2.34,
      },
      {
        "x": 10.46,
        "y": 3,
        "z": 2.34,
      },
      {
        "x": 9.4,
        "y": 3.6119912853410034,
        "z": 3.4,
      },
      {
        "x": 3.3,
        "y": 3.6119912853410034,
        "z": 3.4,
      },
    ],
    [
      {
        "x": 7.42,
        "y": 3,
        "z": 1.32,
      },
      {
        "x": 4.37,
        "y": 3,
        "z": 1.32,
      },
      {
        "x": 3.6,
        "y": 3.444559707276012,
        "z": 0.5,
      },
      {
        "x": 5.199999999999999,
        "y": 4.241303078757695,
        "z": -1,
      },
    ],
    [
      {
        "x": 7.42,
        "y": 3,
        "z": -3.15,
      },
      {
        "x": 7.42,
        "y": 3,
        "z": 1.32,
      },
      {
        "x": 5.199999999999999,
        "y": 4.241303078757695,
        "z": -1,
      },
    ],
    [
      {
        "x": 2.95,
        "y": 3,
        "z": -3.15,
      },
      {
        "x": 7.42,
        "y": 3,
        "z": -3.15,
      },
      {
        "x": 5.199999999999999,
        "y": 4.241303078757695,
        "z": -1,
      },
    ],
    [
      {
        "x": 2.95,
        "y": 3,
        "z": 1.12,
      },
      {
        "x": 2.95,
        "y": 3,
        "z": -3.15,
      },
      {
        "x": 5.199999999999999,
        "y": 4.241303078757695,
        "z": -1,
      },
      {
        "x": 3.6,
        "y": 3.444559707276012,
        "z": 0.5,
      },
      {
        "x": 3.6,
        "y": 3.334863156129983,
        "z": 1.7,
      },
    ],
    [
      {
        "x": -1.93,
        "y": 3,
        "z": 1.12,
      },
      {
        "x": 2.95,
        "y": 3,
        "z": 1.12,
      },
      {
        "x": 3.6,
        "y": 3.334863156129983,
        "z": 1.7,
      },
      {
        "x": 2.6,
        "y": 3.964174949546675,
        "z": 2.7,
      },
      {
        "x": 2.1,
        "y": 3.912213425319609,
        "z": 2.7,
      },
      {
        "x": 0.95,
        "y": 4.6281277591147445,
        "z": 4,
      },
    ],
    [
      {
        "x": -1.93,
        "y": 3,
        "z": 4.17,
      },
      {
        "x": -1.93,
        "y": 3,
        "z": 1.12,
      },
      {
        "x": 0.95,
        "y": 4.6281277591147445,
        "z": 4,
      },
      {
        "x": -0.6,
        "y": 3.7678758580222023,
        "z": 5.5,
      },
    ],
    [
      {
        "x": -3.76,
        "y": 3,
        "z": 4.17,
      },
      {
        "x": -1.93,
        "y": 3,
        "z": 4.17,
      },
      {
        "x": -0.6,
        "y": 3.7678758580222023,
        "z": 5.5,
      },
      {
        "x": -1.2,
        "y": 3.7678758580222023,
        "z": 5.5,
      },
      {
        "x": -1.8,
        "y": 4.114286019535977,
        "z": 6.1,
      },
    ],
    [
      {
        "x": -3.76,
        "y": 3,
        "z": 6,
      },
      {
        "x": -3.76,
        "y": 3,
        "z": 4.17,
      },
      {
        "x": -1.8,
        "y": 4.114286019535977,
        "z": 6.1,
      },
      {
        "x": -1.9,
        "y": 4.096965511460289,
        "z": 7.9,
      },
    ],
    [
      {
        "x": -6.2,
        "y": 3,
        "z": 6,
      },
      {
        "x": -3.76,
        "y": 3,
        "z": 6,
      },
      {
        "x": -1.9,
        "y": 4.096965511460289,
        "z": 7.9,
      },
      {
        "x": -4.3,
        "y": 4.096965511460289,
        "z": 7.9,
      },
    ],
    [
      {
        "x": -6.2,
        "y": 3,
        "z": 9.85,
      },
      {
        "x": -6.2,
        "y": 3,
        "z": 6,
      },
      {
        "x": -4.3,
        "y": 4.096965511460289,
        "z": 7.9,
      },
    ],
    [
      {
        "x": 0.1,
        "y": 3,
        "z": 9.85,
      },
      {
        "x": -6.2,
        "y": 3,
        "z": 9.85,
      },
      {
        "x": -4.3,
        "y": 4.096965511460289,
        "z": 7.9,
      },
      {
        "x": -1.9,
        "y": 4.096965511460289,
        "z": 7.9,
      },
    ],
    [
      {
        "x": 0.1,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 0.1,
        "y": 3,
        "z": 9.85,
      },
      {
        "x": -1.9,
        "y": 4.096965511460289,
        "z": 7.9,
      },
      {
        "x": -1.8,
        "y": 4.114286019535977,
        "z": 6.1,
      },
      {
        "x": -1.2,
        "y": 3.7678758580222023,
        "z": 5.5,
      },
    ],
    [
      {
        "x": 3.76,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 0.1,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": -1.2,
        "y": 3.7678758580222023,
        "z": 5.5,
      },
      {
        "x": -0.6,
        "y": 3.7678758580222023,
        "z": 5.5,
      },
      {
        "x": 0.95,
        "y": 4.6281277591147445,
        "z": 4,
      },
    ],
    [
      {
        "x": 3.76,
        "y": 3,
        "z": 4.37,
      },
      {
        "x": 3.76,
        "y": 3,
        "z": 6.81,
      },
      {
        "x": 0.95,
        "y": 4.6281277591147445,
        "z": 4,
      },
      {
        "x": 2.1,
        "y": 3.912213425319609,
        "z": 2.7,
      },
    ],
    [
      {
        "x": 10.46,
        "y": 3,
        "z": 4.37,
      },
      {
        "x": 3.76,
        "y": 3,
        "z": 4.37,
      },
      {
        "x": 2.1,
        "y": 3.912213425319609,
        "z": 2.7,
      },
      {
        "x": 2.6,
        "y": 3.964174949546675,
        "z": 2.7,
      },
      {
        "x": 3.3,
        "y": 3.6119912853410034,
        "z": 3.4,
      },
      {
        "x": 9.4,
        "y": 3.6119912853410034,
        "z": 3.4,
      },
    ],
    [
      {
        "x": 10.46,
        "y": 3,
        "z": 2.34,
      },
      {
        "x": 10.46,
        "y": 3,
        "z": 4.37,
      },
      {
        "x": 9.4,
        "y": 3.6119912853410034,
        "z": 3.4,
      },
    ],
  ],
  "inputPolygonVertexCount": 18,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 4.37,
        "y": 2.34,
      },
      "original": {
        "x": 4.27,
        "y": 2.44,
      },
    },
    {
      "offset": {
        "x": 4.37,
        "y": 1.32,
      },
      "original": {
        "x": 4.27,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": 7.42,
        "y": 1.32,
      },
      "original": {
        "x": 7.32,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": 7.42,
        "y": -3.15,
      },
      "original": {
        "x": 7.32,
        "y": -3.05,
      },
    },
    {
      "offset": {
        "x": 2.95,
        "y": -3.15,
      },
      "original": {
        "x": 3.05,
        "y": -3.05,
      },
    },
    {
      "offset": {
        "x": 2.95,
        "y": 1.12,
      },
      "original": {
        "x": 3.05,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": -1.93,
        "y": 1.12,
      },
      "original": {
        "x": -1.83,
        "y": 1.22,
      },
    },
    {
      "offset": {
        "x": -1.93,
        "y": 4.17,
      },
      "original": {
        "x": -1.83,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 4.17,
      },
      "original": {
        "x": -3.66,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": -3.76,
        "y": 6,
      },
      "original": {
        "x": -3.66,
        "y": 6.1,
      },
    },
    {
      "offset": {
        "x": -6.2,
        "y": 6,
      },
      "original": {
        "x": -6.1,
        "y": 6.1,
      },
    },
    {
      "offset": {
        "x": -6.2,
        "y": 9.85,
      },
      "original": {
        "x": -6.1,
        "y": 9.75,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 9.85,
      },
      "original": {
        "x": 0,
        "y": 9.75,
      },
    },
    {
      "offset": {
        "x": 0.1,
        "y": 6.81,
      },
      "original": {
        "x": 0,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 3.76,
        "y": 6.81,
      },
      "original": {
        "x": 3.66,
        "y": 6.71,
      },
    },
    {
      "offset": {
        "x": 3.76,
        "y": 4.37,
      },
      "original": {
        "x": 3.66,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": 10.46,
        "y": 4.37,
      },
      "original": {
        "x": 10.36,
        "y": 4.27,
      },
    },
    {
      "offset": {
        "x": 10.46,
        "y": 2.34,
      },
      "original": {
        "x": 10.36,
        "y": 2.44,
      },
    },
  ],
  "preparedPolygonVertexCount": 18,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 10.46,
          "y": 4.37,
          "z": 3,
        },
        Vector3 {
          "x": 10.46,
          "y": 2.34,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 9.4,
        "y": 3.4,
        "z": 3.6119912853410034,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 9.4,
          "y": 3.4,
          "z": 3.6119912853410034,
        },
        Vector3 {
          "x": 4.37,
          "y": 2.34,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.3,
        "y": 3.4,
        "z": 3.6119912853410034,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.1,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.2,
        "y": 5.5,
        "z": 3.7678758580222023,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.93,
          "y": 4.17,
          "z": 3,
        },
        Vector3 {
          "x": -1.2,
          "y": 5.5,
          "z": 3.7678758580222023,
        },
      ],
      "source": Vector3 {
        "x": -0.6,
        "y": 5.5,
        "z": 3.7678758580222023,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.76,
          "y": 4.37,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 2.1,
        "y": 2.7,
        "z": 3.912213425319609,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.1,
          "y": 2.7,
          "z": 3.912213425319609,
        },
        Vector3 {
          "x": 3.3,
          "y": 3.4,
          "z": 3.6119912853410034,
        },
      ],
      "source": Vector3 {
        "x": 2.6,
        "y": 2.7,
        "z": 3.964174949546675,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.95,
          "y": 1.12,
          "z": 3,
        },
        Vector3 {
          "x": 2.6,
          "y": 2.7,
          "z": 3.964174949546675,
        },
      ],
      "source": Vector3 {
        "x": 3.6,
        "y": 1.7,
        "z": 3.334863156129983,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.6,
          "y": 1.7,
          "z": 3.334863156129983,
        },
        Vector3 {
          "x": 4.37,
          "y": 1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 3.6,
        "y": 0.5,
        "z": 3.444559707276012,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -6.2,
          "y": 6,
          "z": 3,
        },
        Vector3 {
          "x": -6.2,
          "y": 9.85,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.3,
        "y": 7.9,
        "z": 4.096965511460289,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -3.76,
          "y": 6,
          "z": 3,
        },
        Vector3 {
          "x": -4.3,
          "y": 7.9,
          "z": 4.096965511460289,
        },
        Vector3 {
          "x": -1.8,
          "y": 6.1,
          "z": 4.114286019535977,
        },
        Vector3 {
          "x": 0.1,
          "y": 9.85,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.9,
        "y": 7.9,
        "z": 4.096965511460289,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.2,
          "y": 5.5,
          "z": 3.7678758580222023,
        },
        Vector3 {
          "x": -3.76,
          "y": 4.17,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.8,
        "y": 6.1,
        "z": 4.114286019535977,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.95,
          "y": -3.15,
          "z": 3,
        },
        Vector3 {
          "x": 3.6,
          "y": 0.5,
          "z": 3.444559707276012,
        },
        Vector3 {
          "x": 7.42,
          "y": 1.32,
          "z": 3,
        },
        Vector3 {
          "x": 7.42,
          "y": -3.15,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.199999999999999,
        "y": -1,
        "z": 4.241303078757695,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.93,
          "y": 1.12,
          "z": 3,
        },
        Vector3 {
          "x": -0.6,
          "y": 5.5,
          "z": 3.7678758580222023,
        },
        Vector3 {
          "x": 2.1,
          "y": 2.7,
          "z": 3.912213425319609,
        },
        Vector3 {
          "x": 3.76,
          "y": 6.81,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.95,
        "y": 4,
        "z": 4.6281277591147445,
      },
    },
  ],
  "skeletonNodeCount": 13,
  "vertexCount": 31,
  "vertices": [
    {
      "x": 4.37,
      "y": 3,
      "z": 2.34,
    },
    {
      "x": 4.37,
      "y": 3,
      "z": 1.32,
    },
    {
      "x": 7.42,
      "y": 3,
      "z": 1.32,
    },
    {
      "x": 7.42,
      "y": 3,
      "z": -3.15,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": -3.15,
    },
    {
      "x": 2.95,
      "y": 3,
      "z": 1.12,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 1.12,
    },
    {
      "x": -1.93,
      "y": 3,
      "z": 4.17,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 4.17,
    },
    {
      "x": -3.76,
      "y": 3,
      "z": 6,
    },
    {
      "x": -6.2,
      "y": 3,
      "z": 6,
    },
    {
      "x": -6.2,
      "y": 3,
      "z": 9.85,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 9.85,
    },
    {
      "x": 0.1,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 3.76,
      "y": 3,
      "z": 6.81,
    },
    {
      "x": 3.76,
      "y": 3,
      "z": 4.37,
    },
    {
      "x": 10.46,
      "y": 3,
      "z": 4.37,
    },
    {
      "x": 10.46,
      "y": 3,
      "z": 2.34,
    },
    {
      "x": 9.4,
      "y": 3.6119912853410034,
      "z": 3.4,
    },
    {
      "x": 3.3,
      "y": 3.6119912853410034,
      "z": 3.4,
    },
    {
      "x": -1.2,
      "y": 3.7678758580222023,
      "z": 5.5,
    },
    {
      "x": -0.6,
      "y": 3.7678758580222023,
      "z": 5.5,
    },
    {
      "x": 2.1,
      "y": 3.912213425319609,
      "z": 2.7,
    },
    {
      "x": 2.6,
      "y": 3.964174949546675,
      "z": 2.7,
    },
    {
      "x": 3.6,
      "y": 3.334863156129983,
      "z": 1.7,
    },
    {
      "x": 3.6,
      "y": 3.444559707276012,
      "z": 0.5,
    },
    {
      "x": -4.3,
      "y": 4.096965511460289,
      "z": 7.9,
    },
    {
      "x": -1.9,
      "y": 4.096965511460289,
      "z": 7.9,
    },
    {
      "x": -1.8,
      "y": 4.114286019535977,
      "z": 6.1,
    },
    {
      "x": 5.199999999999999,
      "y": 4.241303078757695,
      "z": -1,
    },
    {
      "x": 0.95,
      "y": 4.6281277591147445,
      "z": 4,
    },
  ],
}
`;

exports[`Roof Algorithm - Tier2 Real-World Examples > Tier2 Full Pipeline Tests > should complete full pipeline for: complex_6_tier2 1`] = `
{
  "faceCount": 7,
  "faces": [
    [
      {
        "x": -0.31,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": -0.31,
        "y": 3,
        "z": -0.51,
      },
      {
        "x": -4.3,
        "y": 5.3151745794503995,
        "z": 3.5,
      },
      {
        "x": -2,
        "y": 5.268986557915229,
        "z": 3.5,
      },
      {
        "x": 1.93,
        "y": 3,
        "z": 7.42,
      },
      {
        "x": -7.01,
        "y": 3,
        "z": 7.42,
      },
      {
        "x": -9.66,
        "y": 3,
        "z": 7.5,
      },
      {
        "x": -5.3,
        "y": 5.484651636079991,
        "z": 3,
      },
      {
        "x": -4.7,
        "y": 5.494153162899183,
        "z": 3,
      },
      {
        "x": -1.8,
        "y": 3.8371578903249572,
        "z": 0.1,
      },
      {
        "x": -1.8,
        "y": 3.8429313930168534,
        "z": -2.3,
      },
    ],
    [
      {
        "x": -0.31,
        "y": 3,
        "z": -0.51,
      },
      {
        "x": 1.93,
        "y": 3,
        "z": -0.51,
      },
      {
        "x": -2,
        "y": 5.268986557915229,
        "z": 3.5,
      },
      {
        "x": -4.3,
        "y": 5.3151745794503995,
        "z": 3.5,
      },
    ],
    [
      {
        "x": -3.25,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": -0.31,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": -1.8,
        "y": 3.8429313930168534,
        "z": -2.3,
      },
    ],
    [
      {
        "x": -3.25,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": -3.25,
        "y": 3,
        "z": -3.76,
      },
      {
        "x": -1.8,
        "y": 3.8429313930168534,
        "z": -2.3,
      },
      {
        "x": -1.8,
        "y": 3.8371578903249572,
        "z": 0.1,
      },
    ],
    [
      {
        "x": -9.55,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": -3.25,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": -1.8,
        "y": 3.8371578903249572,
        "z": 0.1,
      },
      {
        "x": -4.7,
        "y": 5.494153162899183,
        "z": 3,
      },
      {
        "x": -5.3,
        "y": 5.484651636079991,
        "z": 3,
      },
    ],
    [
      {
        "x": -9.66,
        "y": 3,
        "z": 7.5,
      },
      {
        "x": -9.55,
        "y": 3,
        "z": -1.32,
      },
      {
        "x": -5.3,
        "y": 5.484651636079991,
        "z": 3,
      },
    ],
    [
      {
        "x": 1.93,
        "y": 3,
        "z": -0.51,
      },
      {
        "x": 1.93,
        "y": 3,
        "z": 7.42,
      },
      {
        "x": -2,
        "y": 5.268986557915229,
        "z": 3.5,
      },
    ],
  ],
  "inputPolygonVertexCount": 12,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -0.31,
        "y": -0.51,
      },
      "original": {
        "x": -0.41,
        "y": -0.41,
      },
    },
    {
      "offset": {
        "x": -0.31,
        "y": -3.76,
      },
      "original": {
        "x": -0.41,
        "y": -3.66,
      },
    },
    {
      "offset": {
        "x": -3.25,
        "y": -3.76,
      },
      "original": {
        "x": -3.15,
        "y": -3.66,
      },
    },
    {
      "offset": {
        "x": -3.25,
        "y": -1.32,
      },
      "original": {
        "x": -3.15,
        "y": -1.22,
      },
    },
    {
      "offset": {
        "x": -9.55,
        "y": -1.32,
      },
      "original": {
        "x": -9.45,
        "y": -1.22,
      },
    },
    {
      "offset": {
        "x": -9.66,
        "y": 7.5,
      },
      "original": {
        "x": -9.55,
        "y": 7.39,
      },
    },
    {
      "offset": {
        "x": -7.01,
        "y": 7.42,
      },
      "original": {
        "x": -7.01,
        "y": 7.32,
      },
    },
    {
      "offset": {
        "x": 1.93,
        "y": 7.42,
      },
      "original": {
        "x": 1.83,
        "y": 7.32,
      },
    },
    {
      "offset": {
        "x": 1.93,
        "y": -0.51,
      },
      "original": {
        "x": 1.83,
        "y": -0.41,
      },
    },
  ],
  "preparedPolygonVertexCount": 9,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": -0.31,
          "y": -3.76,
          "z": 3,
        },
        Vector3 {
          "x": -3.25,
          "y": -3.76,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.8,
        "y": -2.3,
        "z": 3.8429313930168534,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.8,
          "y": -2.3,
          "z": 3.8429313930168534,
        },
        Vector3 {
          "x": -3.25,
          "y": -1.32,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -1.8,
        "y": 0.1,
        "z": 3.8371578903249572,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.93,
          "y": 7.42,
          "z": 3,
        },
        Vector3 {
          "x": 1.93,
          "y": -0.51,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -2,
        "y": 3.5,
        "z": 5.268986557915229,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2,
          "y": 3.5,
          "z": 5.268986557915229,
        },
        Vector3 {
          "x": -0.31,
          "y": -0.51,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -4.3,
        "y": 3.5,
        "z": 5.3151745794503995,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -9.55,
          "y": -1.32,
          "z": 3,
        },
        Vector3 {
          "x": -9.66,
          "y": 7.5,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -5.3,
        "y": 3,
        "z": 5.484651636079991,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -1.8,
          "y": 0.1,
          "z": 3.8371578903249572,
        },
        Vector3 {
          "x": -5.3,
          "y": 3,
          "z": 5.484651636079991,
        },
      ],
      "source": Vector3 {
        "x": -4.7,
        "y": 3,
        "z": 5.494153162899183,
      },
    },
  ],
  "skeletonNodeCount": 6,
  "vertexCount": 15,
  "vertices": [
    {
      "x": -0.31,
      "y": 3,
      "z": -0.51,
    },
    {
      "x": -0.31,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -3.25,
      "y": 3,
      "z": -3.76,
    },
    {
      "x": -3.25,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -9.55,
      "y": 3,
      "z": -1.32,
    },
    {
      "x": -9.66,
      "y": 3,
      "z": 7.5,
    },
    {
      "x": -7.01,
      "y": 3,
      "z": 7.42,
    },
    {
      "x": 1.93,
      "y": 3,
      "z": 7.42,
    },
    {
      "x": 1.93,
      "y": 3,
      "z": -0.51,
    },
    {
      "x": -1.8,
      "y": 3.8429313930168534,
      "z": -2.3,
    },
    {
      "x": -1.8,
      "y": 3.8371578903249572,
      "z": 0.1,
    },
    {
      "x": -2,
      "y": 5.268986557915229,
      "z": 3.5,
    },
    {
      "x": -4.3,
      "y": 5.3151745794503995,
      "z": 3.5,
    },
    {
      "x": -5.3,
      "y": 5.484651636079991,
      "z": 3,
    },
    {
      "x": -4.7,
      "y": 5.494153162899183,
      "z": 3,
    },
  ],
}
`;

exports[`Roof Algorithm - Tier2 Real-World Examples > Tier2 Full Pipeline Tests > should complete full pipeline for: d_square_4_tier2 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": -2.43,
        "y": 3,
        "z": 1.23,
      },
      {
        "x": -1.82,
        "y": 3,
        "z": 1.23,
      },
      {
        "x": 0.9,
        "y": 4.570392732195782,
        "z": 4,
      },
      {
        "x": 0.6,
        "y": 4.737824310260773,
        "z": 4.3,
      },
    ],
    [
      {
        "x": -1.82,
        "y": 3,
        "z": 1.23,
      },
      {
        "x": -1.82,
        "y": 3,
        "z": -1.82,
      },
      {
        "x": 0.9,
        "y": 4.570392732195782,
        "z": 0.9,
      },
      {
        "x": 0.9,
        "y": 4.570392732195782,
        "z": 4,
      },
    ],
    [
      {
        "x": -2.43,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": -2.43,
        "y": 3,
        "z": 1.23,
      },
      {
        "x": 0.6,
        "y": 4.737824310260773,
        "z": 4.3,
      },
    ],
    [
      {
        "x": 3.65,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": -2.43,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": 0.6,
        "y": 4.737824310260773,
        "z": 4.3,
      },
    ],
    [
      {
        "x": 3.65,
        "y": 3,
        "z": 3.04,
      },
      {
        "x": 3.65,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": 0.6,
        "y": 4.737824310260773,
        "z": 4.3,
      },
      {
        "x": 0.9,
        "y": 4.570392732195782,
        "z": 4,
      },
      {
        "x": 0.9,
        "y": 4.570392732195782,
        "z": 0.9,
      },
      {
        "x": 1.2,
        "y": 4.397187651438895,
        "z": 0.6,
      },
    ],
    [
      {
        "x": 7.31,
        "y": 3,
        "z": 3.04,
      },
      {
        "x": 3.65,
        "y": 3,
        "z": 3.04,
      },
      {
        "x": 1.2,
        "y": 4.397187651438895,
        "z": 0.6,
      },
      {
        "x": 4.9,
        "y": 4.391414148746998,
        "z": 0.6,
      },
    ],
    [
      {
        "x": 7.31,
        "y": 3,
        "z": -1.82,
      },
      {
        "x": 7.31,
        "y": 3,
        "z": 3.04,
      },
      {
        "x": 4.9,
        "y": 4.391414148746998,
        "z": 0.6,
      },
    ],
    [
      {
        "x": -1.82,
        "y": 3,
        "z": -1.82,
      },
      {
        "x": 7.31,
        "y": 3,
        "z": -1.82,
      },
      {
        "x": 4.9,
        "y": 4.391414148746998,
        "z": 0.6,
      },
      {
        "x": 1.2,
        "y": 4.397187651438895,
        "z": 0.6,
      },
      {
        "x": 0.9,
        "y": 4.570392732195782,
        "z": 0.9,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": -1.82,
        "y": 1.23,
      },
      "original": {
        "x": -1.72,
        "y": 1.33,
      },
    },
    {
      "offset": {
        "x": -2.43,
        "y": 1.23,
      },
      "original": {
        "x": -2.33,
        "y": 1.33,
      },
    },
    {
      "offset": {
        "x": -2.43,
        "y": 7.31,
      },
      "original": {
        "x": -2.33,
        "y": 7.21,
      },
    },
    {
      "offset": {
        "x": 3.65,
        "y": 7.31,
      },
      "original": {
        "x": 3.55,
        "y": 7.21,
      },
    },
    {
      "offset": {
        "x": 3.65,
        "y": 3.04,
      },
      "original": {
        "x": 3.55,
        "y": 2.94,
      },
    },
    {
      "offset": {
        "x": 7.31,
        "y": 3.04,
      },
      "original": {
        "x": 7.21,
        "y": 2.94,
      },
    },
    {
      "offset": {
        "x": 7.31,
        "y": -1.82,
      },
      "original": {
        "x": 7.21,
        "y": -1.72,
      },
    },
    {
      "offset": {
        "x": -1.82,
        "y": -1.82,
      },
      "original": {
        "x": -1.72,
        "y": -1.72,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 7.31,
          "y": 3.04,
          "z": 3,
        },
        Vector3 {
          "x": 7.31,
          "y": -1.82,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 4.9,
        "y": 0.6,
        "z": 4.391414148746998,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 3.65,
          "y": 3.04,
          "z": 3,
        },
        Vector3 {
          "x": 4.9,
          "y": 0.6,
          "z": 4.391414148746998,
        },
      ],
      "source": Vector3 {
        "x": 1.2,
        "y": 0.6,
        "z": 4.397187651438895,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 1.2,
          "y": 0.6,
          "z": 4.397187651438895,
        },
        Vector3 {
          "x": -1.82,
          "y": -1.82,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9,
        "y": 0.9,
        "z": 4.570392732195782,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 0.9,
          "y": 0.9,
          "z": 4.570392732195782,
        },
        Vector3 {
          "x": -1.82,
          "y": 1.23,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.9,
        "y": 4,
        "z": 4.570392732195782,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": -2.43,
          "y": 7.31,
          "z": 3,
        },
        Vector3 {
          "x": 3.65,
          "y": 7.31,
          "z": 3,
        },
        Vector3 {
          "x": 0.9,
          "y": 4,
          "z": 4.570392732195782,
        },
        Vector3 {
          "x": -2.43,
          "y": 1.23,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 0.6,
        "y": 4.3,
        "z": 4.737824310260773,
      },
    },
  ],
  "skeletonNodeCount": 5,
  "vertexCount": 13,
  "vertices": [
    {
      "x": -1.82,
      "y": 3,
      "z": 1.23,
    },
    {
      "x": -2.43,
      "y": 3,
      "z": 1.23,
    },
    {
      "x": -2.43,
      "y": 3,
      "z": 7.31,
    },
    {
      "x": 3.65,
      "y": 3,
      "z": 7.31,
    },
    {
      "x": 3.65,
      "y": 3,
      "z": 3.04,
    },
    {
      "x": 7.31,
      "y": 3,
      "z": 3.04,
    },
    {
      "x": 7.31,
      "y": 3,
      "z": -1.82,
    },
    {
      "x": -1.82,
      "y": 3,
      "z": -1.82,
    },
    {
      "x": 4.9,
      "y": 4.391414148746998,
      "z": 0.6,
    },
    {
      "x": 1.2,
      "y": 4.397187651438895,
      "z": 0.6,
    },
    {
      "x": 0.9,
      "y": 4.570392732195782,
      "z": 0.9,
    },
    {
      "x": 0.9,
      "y": 4.570392732195782,
      "z": 4,
    },
    {
      "x": 0.6,
      "y": 4.737824310260773,
      "z": 4.3,
    },
  ],
}
`;

exports[`Roof Algorithm - Tier2 Real-World Examples > Tier2 Full Pipeline Tests > should complete full pipeline for: t_shape_5_tier2 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 2.45,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": 2.45,
        "y": 3,
        "z": 5.48,
      },
      {
        "x": 5.5,
        "y": 4.74359781295267,
        "z": 2.5,
      },
      {
        "x": 5.5,
        "y": 4.737824310260773,
        "z": 4.3,
      },
    ],
    [
      {
        "x": 2.45,
        "y": 3,
        "z": 5.48,
      },
      {
        "x": -4.26,
        "y": 3,
        "z": 5.48,
      },
      {
        "x": -0.9,
        "y": 4.939896904477142,
        "z": 2.1,
      },
      {
        "x": 5.2,
        "y": 4.916802893709557,
        "z": 2.2,
      },
      {
        "x": 5.5,
        "y": 4.74359781295267,
        "z": 2.5,
      },
    ],
    [
      {
        "x": 8.52,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": 2.45,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": 5.5,
        "y": 4.737824310260773,
        "z": 4.3,
      },
    ],
    [
      {
        "x": 8.52,
        "y": 3,
        "z": -6.7,
      },
      {
        "x": 8.52,
        "y": 3,
        "z": 7.31,
      },
      {
        "x": 5.5,
        "y": 4.737824310260773,
        "z": 4.3,
      },
      {
        "x": 5.5,
        "y": 4.74359781295267,
        "z": 2.5,
      },
      {
        "x": 5.2,
        "y": 4.916802893709557,
        "z": 2.2,
      },
      {
        "x": 5.5,
        "y": 4.760918321028358,
        "z": 1.8,
      },
      {
        "x": 5.5,
        "y": 4.732050807568877,
        "z": -3.7,
      },
    ],
    [
      {
        "x": 2.45,
        "y": 3,
        "z": -6.7,
      },
      {
        "x": 8.52,
        "y": 3,
        "z": -6.7,
      },
      {
        "x": 5.5,
        "y": 4.732050807568877,
        "z": -3.7,
      },
    ],
    [
      {
        "x": 2.45,
        "y": 3,
        "z": -1.21,
      },
      {
        "x": 2.45,
        "y": 3,
        "z": -6.7,
      },
      {
        "x": 5.5,
        "y": 4.732050807568877,
        "z": -3.7,
      },
      {
        "x": 5.5,
        "y": 4.760918321028358,
        "z": 1.8,
      },
    ],
    [
      {
        "x": -4.26,
        "y": 3,
        "z": -1.21,
      },
      {
        "x": 2.45,
        "y": 3,
        "z": -1.21,
      },
      {
        "x": 5.5,
        "y": 4.760918321028358,
        "z": 1.8,
      },
      {
        "x": 5.2,
        "y": 4.916802893709557,
        "z": 2.2,
      },
      {
        "x": -0.9,
        "y": 4.939896904477142,
        "z": 2.1,
      },
    ],
    [
      {
        "x": -4.26,
        "y": 3,
        "z": 5.48,
      },
      {
        "x": -4.26,
        "y": 3,
        "z": -1.21,
      },
      {
        "x": -0.9,
        "y": 4.939896904477142,
        "z": 2.1,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 2.45,
        "y": 5.48,
      },
      "original": {
        "x": 2.55,
        "y": 5.38,
      },
    },
    {
      "offset": {
        "x": 2.45,
        "y": 7.31,
      },
      "original": {
        "x": 2.55,
        "y": 7.21,
      },
    },
    {
      "offset": {
        "x": 8.52,
        "y": 7.31,
      },
      "original": {
        "x": 8.42,
        "y": 7.21,
      },
    },
    {
      "offset": {
        "x": 8.52,
        "y": -6.7,
      },
      "original": {
        "x": 8.42,
        "y": -6.6,
      },
    },
    {
      "offset": {
        "x": 2.45,
        "y": -6.7,
      },
      "original": {
        "x": 2.55,
        "y": -6.6,
      },
    },
    {
      "offset": {
        "x": 2.45,
        "y": -1.21,
      },
      "original": {
        "x": 2.55,
        "y": -1.11,
      },
    },
    {
      "offset": {
        "x": -4.26,
        "y": -1.21,
      },
      "original": {
        "x": -4.16,
        "y": -1.11,
      },
    },
    {
      "offset": {
        "x": -4.26,
        "y": 5.48,
      },
      "original": {
        "x": -4.16,
        "y": 5.38,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 8.52,
          "y": -6.7,
          "z": 3,
        },
        Vector3 {
          "x": 2.45,
          "y": -6.7,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.5,
        "y": -3.7,
        "z": 4.732050807568877,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 2.45,
          "y": 5.48,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.5,
        "y": 2.5,
        "z": 4.74359781295267,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.5,
          "y": 2.5,
          "z": 4.74359781295267,
        },
        Vector3 {
          "x": 2.45,
          "y": 7.31,
          "z": 3,
        },
        Vector3 {
          "x": 8.52,
          "y": 7.31,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.5,
        "y": 4.3,
        "z": 4.737824310260773,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.5,
          "y": -3.7,
          "z": 4.732050807568877,
        },
        Vector3 {
          "x": 2.45,
          "y": -1.21,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 5.5,
        "y": 1.8,
        "z": 4.760918321028358,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.5,
          "y": 2.5,
          "z": 4.74359781295267,
        },
        Vector3 {
          "x": 5.5,
          "y": 1.8,
          "z": 4.760918321028358,
        },
      ],
      "source": Vector3 {
        "x": 5.2,
        "y": 2.2,
        "z": 4.916802893709557,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 5.2,
          "y": 2.2,
          "z": 4.916802893709557,
        },
        Vector3 {
          "x": -4.26,
          "y": -1.21,
          "z": 3,
        },
        Vector3 {
          "x": -4.26,
          "y": 5.48,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": -0.9,
        "y": 2.1,
        "z": 4.939896904477142,
      },
    },
  ],
  "skeletonNodeCount": 6,
  "vertexCount": 14,
  "vertices": [
    {
      "x": 2.45,
      "y": 3,
      "z": 5.48,
    },
    {
      "x": 2.45,
      "y": 3,
      "z": 7.31,
    },
    {
      "x": 8.52,
      "y": 3,
      "z": 7.31,
    },
    {
      "x": 8.52,
      "y": 3,
      "z": -6.7,
    },
    {
      "x": 2.45,
      "y": 3,
      "z": -6.7,
    },
    {
      "x": 2.45,
      "y": 3,
      "z": -1.21,
    },
    {
      "x": -4.26,
      "y": 3,
      "z": -1.21,
    },
    {
      "x": -4.26,
      "y": 3,
      "z": 5.48,
    },
    {
      "x": 5.5,
      "y": 4.732050807568877,
      "z": -3.7,
    },
    {
      "x": 5.5,
      "y": 4.74359781295267,
      "z": 2.5,
    },
    {
      "x": 5.5,
      "y": 4.737824310260773,
      "z": 4.3,
    },
    {
      "x": 5.5,
      "y": 4.760918321028358,
      "z": 1.8,
    },
    {
      "x": 5.2,
      "y": 4.916802893709557,
      "z": 2.2,
    },
    {
      "x": -0.9,
      "y": 4.939896904477142,
      "z": 2.1,
    },
  ],
}
`;

exports[`Roof Algorithm - Tier2 Real-World Examples > Tier2 Full Pipeline Tests > should complete full pipeline for: t_shape_6_tier2 1`] = `
{
  "faceCount": 8,
  "faces": [
    [
      {
        "x": 17.78,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 16.56,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 15.6,
        "y": 3.5369357503463523,
        "z": 7.7,
      },
      {
        "x": 16.8,
        "y": 3.5658032638058335,
        "z": 7.7,
      },
    ],
    [
      {
        "x": 16.56,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 16.56,
        "y": 3,
        "z": 12.29,
      },
      {
        "x": 14,
        "y": 4.437602170282167,
        "z": 9.8,
      },
      {
        "x": 14,
        "y": 4.454922678357857,
        "z": 9.3,
      },
      {
        "x": 15.6,
        "y": 3.5369357503463523,
        "z": 7.7,
      },
    ],
    [
      {
        "x": 17.78,
        "y": 3,
        "z": 6.68,
      },
      {
        "x": 17.78,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 16.8,
        "y": 3.5658032638058335,
        "z": 7.7,
      },
    ],
    [
      {
        "x": 9.65,
        "y": 3,
        "z": 6.68,
      },
      {
        "x": 17.78,
        "y": 3,
        "z": 6.68,
      },
      {
        "x": 16.8,
        "y": 3.5658032638058335,
        "z": 7.7,
      },
      {
        "x": 15.6,
        "y": 3.5369357503463523,
        "z": 7.7,
      },
      {
        "x": 14,
        "y": 4.454922678357857,
        "z": 9.3,
      },
      {
        "x": 12.4,
        "y": 3.5369357503463523,
        "z": 7.7,
      },
      {
        "x": 10.6,
        "y": 3.548482755730144,
        "z": 7.7,
      },
    ],
    [
      {
        "x": 9.65,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 9.65,
        "y": 3,
        "z": 6.68,
      },
      {
        "x": 10.6,
        "y": 3.548482755730144,
        "z": 7.7,
      },
    ],
    [
      {
        "x": 11.48,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 9.65,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 10.6,
        "y": 3.548482755730144,
        "z": 7.7,
      },
      {
        "x": 12.4,
        "y": 3.5369357503463523,
        "z": 7.7,
      },
    ],
    [
      {
        "x": 11.48,
        "y": 3,
        "z": 12.29,
      },
      {
        "x": 11.48,
        "y": 3,
        "z": 8.63,
      },
      {
        "x": 12.4,
        "y": 3.5369357503463523,
        "z": 7.7,
      },
      {
        "x": 14,
        "y": 4.454922678357857,
        "z": 9.3,
      },
      {
        "x": 14,
        "y": 4.437602170282167,
        "z": 9.8,
      },
    ],
    [
      {
        "x": 16.56,
        "y": 3,
        "z": 12.29,
      },
      {
        "x": 11.48,
        "y": 3,
        "z": 12.29,
      },
      {
        "x": 14,
        "y": 4.437602170282167,
        "z": 9.8,
      },
    ],
  ],
  "inputPolygonVertexCount": 8,
  "offsetCoordsMapping": [
    {
      "offset": {
        "x": 16.56,
        "y": 8.63,
      },
      "original": {
        "x": 16.46,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 17.78,
        "y": 8.63,
      },
      "original": {
        "x": 17.68,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 17.78,
        "y": 6.68,
      },
      "original": {
        "x": 17.68,
        "y": 6.78,
      },
    },
    {
      "offset": {
        "x": 9.65,
        "y": 6.68,
      },
      "original": {
        "x": 9.75,
        "y": 6.78,
      },
    },
    {
      "offset": {
        "x": 9.65,
        "y": 8.63,
      },
      "original": {
        "x": 9.75,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 11.48,
        "y": 8.63,
      },
      "original": {
        "x": 11.58,
        "y": 8.53,
      },
    },
    {
      "offset": {
        "x": 11.48,
        "y": 12.29,
      },
      "original": {
        "x": 11.58,
        "y": 12.19,
      },
    },
    {
      "offset": {
        "x": 16.56,
        "y": 12.29,
      },
      "original": {
        "x": 16.46,
        "y": 12.19,
      },
    },
  ],
  "preparedPolygonVertexCount": 8,
  "skeleton": [
    {
      "sinks": [
        Vector3 {
          "x": 9.65,
          "y": 6.68,
          "z": 3,
        },
        Vector3 {
          "x": 9.65,
          "y": 8.63,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 10.6,
        "y": 7.7,
        "z": 3.548482755730144,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 10.6,
          "y": 7.7,
          "z": 3.548482755730144,
        },
        Vector3 {
          "x": 11.48,
          "y": 8.63,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 12.4,
        "y": 7.7,
        "z": 3.5369357503463523,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 17.78,
          "y": 8.63,
          "z": 3,
        },
        Vector3 {
          "x": 17.78,
          "y": 6.68,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 16.8,
        "y": 7.7,
        "z": 3.5658032638058335,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 16.56,
          "y": 8.63,
          "z": 3,
        },
        Vector3 {
          "x": 16.8,
          "y": 7.7,
          "z": 3.5658032638058335,
        },
      ],
      "source": Vector3 {
        "x": 15.6,
        "y": 7.7,
        "z": 3.5369357503463523,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 11.48,
          "y": 12.29,
          "z": 3,
        },
        Vector3 {
          "x": 16.56,
          "y": 12.29,
          "z": 3,
        },
      ],
      "source": Vector3 {
        "x": 14,
        "y": 9.8,
        "z": 4.437602170282167,
      },
    },
    {
      "sinks": [
        Vector3 {
          "x": 15.6,
          "y": 7.7,
          "z": 3.5369357503463523,
        },
        Vector3 {
          "x": 12.4,
          "y": 7.7,
          "z": 3.5369357503463523,
        },
        Vector3 {
          "x": 14,
          "y": 9.8,
          "z": 4.437602170282167,
        },
      ],
      "source": Vector3 {
        "x": 14,
        "y": 9.3,
        "z": 4.454922678357857,
      },
    },
  ],
  "skeletonNodeCount": 6,
  "vertexCount": 14,
  "vertices": [
    {
      "x": 16.56,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 17.78,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 17.78,
      "y": 3,
      "z": 6.68,
    },
    {
      "x": 9.65,
      "y": 3,
      "z": 6.68,
    },
    {
      "x": 9.65,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 11.48,
      "y": 3,
      "z": 8.63,
    },
    {
      "x": 11.48,
      "y": 3,
      "z": 12.29,
    },
    {
      "x": 16.56,
      "y": 3,
      "z": 12.29,
    },
    {
      "x": 10.6,
      "y": 3.548482755730144,
      "z": 7.7,
    },
    {
      "x": 12.4,
      "y": 3.5369357503463523,
      "z": 7.7,
    },
    {
      "x": 16.8,
      "y": 3.5658032638058335,
      "z": 7.7,
    },
    {
      "x": 15.6,
      "y": 3.5369357503463523,
      "z": 7.7,
    },
    {
      "x": 14,
      "y": 4.437602170282167,
      "z": 9.8,
    },
    {
      "x": 14,
      "y": 4.454922678357857,
      "z": 9.3,
    },
  ],
}
`;
